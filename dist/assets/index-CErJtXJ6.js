function G1(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in e)){const c=Object.getOwnPropertyDescriptor(o,u);c&&Object.defineProperty(e,u,c.get?c:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function N2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var u=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:function(){return e[o]}})}),r}var X1={exports:{}},Ya={},$1={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),O2=Symbol.for("react.portal"),R2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),D2=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),M2=Symbol.for("react.context"),L2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),F2=Symbol.for("react.memo"),U2=Symbol.for("react.lazy"),Z0=Symbol.iterator;function j2(e){return e===null||typeof e!="object"?null:(e=Z0&&e[Z0]||e["@@iterator"],typeof e=="function"?e:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K1=Object.assign,Z1={};function os(e,t,r){this.props=e,this.context=t,this.refs=Z1,this.updater=r||Y1}os.prototype.isReactComponent={};os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q1(){}q1.prototype=os.prototype;function bc(e,t,r){this.props=e,this.context=t,this.refs=Z1,this.updater=r||Y1}var Nc=bc.prototype=new q1;Nc.constructor=bc;K1(Nc,os.prototype);Nc.isPureReactComponent=!0;var q0=Array.isArray,Q1=Object.prototype.hasOwnProperty,Oc={current:null},J1={key:!0,ref:!0,__self:!0,__source:!0};function ef(e,t,r){var o,u={},c=null,d=null;if(t!=null)for(o in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(c=""+t.key),t)Q1.call(t,o)&&!J1.hasOwnProperty(o)&&(u[o]=t[o]);var m=arguments.length-2;if(m===1)u.children=r;else if(1<m){for(var x=Array(m),w=0;w<m;w++)x[w]=arguments[w+2];u.children=x}if(e&&e.defaultProps)for(o in m=e.defaultProps,m)u[o]===void 0&&(u[o]=m[o]);return{$$typeof:wo,type:e,key:c,ref:d,props:u,_owner:Oc.current}}function V2(e,t){return{$$typeof:wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===wo}function z2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Q0=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z2(""+e.key):t.toString(36)}function oa(e,t,r,o,u){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case wo:case O2:d=!0}}if(d)return d=e,u=u(d),e=o===""?"."+jl(d,0):o,q0(u)?(r="",e!=null&&(r=e.replace(Q0,"$&/")+"/"),oa(u,t,r,"",function(w){return w})):u!=null&&(Rc(u)&&(u=V2(u,r+(!u.key||d&&d.key===u.key?"":(""+u.key).replace(Q0,"$&/")+"/")+e)),t.push(u)),1;if(d=0,o=o===""?".":o+":",q0(e))for(var m=0;m<e.length;m++){c=e[m];var x=o+jl(c,m);d+=oa(c,t,r,x,u)}else if(x=j2(e),typeof x=="function")for(e=x.call(e),m=0;!(c=e.next()).done;)c=c.value,x=o+jl(c,m++),d+=oa(c,t,r,x,u);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Uo(e,t,r){if(e==null)return e;var o=[],u=0;return oa(e,o,"","",function(c){return t.call(r,c,u++)}),o}function W2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},aa={transition:null},H2={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:Oc};function tf(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Uo,forEach:function(e,t,r){Uo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!Rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=os;Ee.Fragment=R2;Ee.Profiler=D2;Ee.PureComponent=bc;Ee.StrictMode=k2;Ee.Suspense=B2;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H2;Ee.act=tf;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=K1({},e.props),u=e.key,c=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,d=Oc.current),t.key!==void 0&&(u=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)Q1.call(t,x)&&!J1.hasOwnProperty(x)&&(o[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)o.children=r;else if(1<x){m=Array(x);for(var w=0;w<x;w++)m[w]=arguments[w+2];o.children=m}return{$$typeof:wo,type:e.type,key:u,ref:c,props:o,_owner:d}};Ee.createContext=function(e){return e={$$typeof:M2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P2,_context:e},e.Consumer=e};Ee.createElement=ef;Ee.createFactory=function(e){var t=ef.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:L2,render:e}};Ee.isValidElement=Rc;Ee.lazy=function(e){return{$$typeof:U2,_payload:{_status:-1,_result:e},_init:W2}};Ee.memo=function(e,t){return{$$typeof:F2,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};Ee.unstable_act=tf;Ee.useCallback=function(e,t){return Wt.current.useCallback(e,t)};Ee.useContext=function(e){return Wt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Wt.current.useEffect(e,t)};Ee.useId=function(){return Wt.current.useId()};Ee.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Wt.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};Ee.useRef=function(e){return Wt.current.useRef(e)};Ee.useState=function(e){return Wt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return Wt.current.useTransition()};Ee.version="18.3.1";$1.exports=Ee;var Q=$1.exports;const nf=Tc(Q),G2=G1({__proto__:null,default:nf},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=Q,$2=Symbol.for("react.element"),Y2=Symbol.for("react.fragment"),K2=Object.prototype.hasOwnProperty,Z2=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q2={key:!0,ref:!0,__self:!0,__source:!0};function rf(e,t,r){var o,u={},c=null,d=null;r!==void 0&&(c=""+r),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(d=t.ref);for(o in t)K2.call(t,o)&&!q2.hasOwnProperty(o)&&(u[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)u[o]===void 0&&(u[o]=t[o]);return{$$typeof:$2,type:e,key:c,ref:d,props:u,_owner:Z2.current}}Ya.Fragment=Y2;Ya.jsx=rf;Ya.jsxs=rf;X1.exports=Ya;var F=X1.exports,sf={exports:{}},dn={},of={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,fe){var ge=ne.length;ne.push(fe);e:for(;0<ge;){var Ye=ge-1>>>1,Ie=ne[Ye];if(0<u(Ie,fe))ne[Ye]=fe,ne[ge]=Ie,ge=Ye;else break e}}function r(ne){return ne.length===0?null:ne[0]}function o(ne){if(ne.length===0)return null;var fe=ne[0],ge=ne.pop();if(ge!==fe){ne[0]=ge;e:for(var Ye=0,Ie=ne.length,pn=Ie>>>1;Ye<pn;){var qe=2*(Ye+1)-1,zr=ne[qe],ae=qe+1,lr=ne[ae];if(0>u(zr,ge))ae<Ie&&0>u(lr,zr)?(ne[Ye]=lr,ne[ae]=ge,Ye=ae):(ne[Ye]=zr,ne[qe]=ge,Ye=qe);else if(ae<Ie&&0>u(lr,ge))ne[Ye]=lr,ne[ae]=ge,Ye=ae;else break e}}return fe}function u(ne,fe){var ge=ne.sortIndex-fe.sortIndex;return ge!==0?ge:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var x=[],w=[],v=1,_=null,T=3,D=!1,L=!1,P=!1,H=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ne){for(var fe=r(w);fe!==null;){if(fe.callback===null)o(w);else if(fe.startTime<=ne)o(w),fe.sortIndex=fe.expirationTime,t(x,fe);else break;fe=r(w)}}function U(ne){if(P=!1,O(ne),!L)if(r(x)!==null)L=!0,nt(K);else{var fe=r(w);fe!==null&&pe(U,fe.startTime-ne)}}function K(ne,fe){L=!1,P&&(P=!1,N(ee),ee=-1),D=!0;var ge=T;try{for(O(fe),_=r(x);_!==null&&(!(_.expirationTime>fe)||ne&&!Ue());){var Ye=_.callback;if(typeof Ye=="function"){_.callback=null,T=_.priorityLevel;var Ie=Ye(_.expirationTime<=fe);fe=e.unstable_now(),typeof Ie=="function"?_.callback=Ie:_===r(x)&&o(x),O(fe)}else o(x);_=r(x)}if(_!==null)var pn=!0;else{var qe=r(w);qe!==null&&pe(U,qe.startTime-fe),pn=!1}return pn}finally{_=null,T=ge,D=!1}}var J=!1,z=null,ee=-1,G=5,me=-1;function Ue(){return!(e.unstable_now()-me<G)}function ce(){if(z!==null){var ne=e.unstable_now();me=ne;var fe=!0;try{fe=z(!0,ne)}finally{fe?Se():(J=!1,z=null)}}else J=!1}var Se;if(typeof b=="function")Se=function(){b(ce)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,W=lt.port2;lt.port1.onmessage=ce,Se=function(){W.postMessage(null)}}else Se=function(){H(ce,0)};function nt(ne){z=ne,J||(J=!0,Se())}function pe(ne,fe){ee=H(function(){ne(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){L||D||(L=!0,nt(K))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return r(x)},e.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var ge=T;T=fe;try{return ne()}finally{T=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=T;T=ne;try{return fe()}finally{T=ge}},e.unstable_scheduleCallback=function(ne,fe,ge){var Ye=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ye+ge:Ye):ge=Ye,ne){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ge+Ie,ne={id:v++,callback:fe,priorityLevel:ne,startTime:ge,expirationTime:Ie,sortIndex:-1},ge>Ye?(ne.sortIndex=ge,t(w,ne),r(x)===null&&ne===r(w)&&(P?(N(ee),ee=-1):P=!0,pe(U,ge-Ye))):(ne.sortIndex=Ie,t(x,ne),L||D||(L=!0,nt(K))),ne},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(ne){var fe=T;return function(){var ge=T;T=fe;try{return ne.apply(this,arguments)}finally{T=ge}}}})(af);of.exports=af;var Q2=of.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2=Q,fn=Q2;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lf=new Set,Zs={};function ci(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(Zs[e]=t,e=0;e<t.length;e++)lf.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},eh={};function tp(e){return Eu.call(eh,e)?!0:Eu.call(J0,e)?!1:ep.test(e)?eh[e]=!0:(J0[e]=!0,!1)}function np(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rp(e,t,r,o){if(t===null||typeof t>"u"||np(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,o,u,c,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=d}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Dc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,Dc);kt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,Dc);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,Dc);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pc(e,t,r,o){var u=kt.hasOwnProperty(t)?kt[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rp(t,r,u,o)&&(r=null),o||u===null?tp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,o=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var ar=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),cf=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),Bc=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),hf=Symbol.for("react.offscreen"),th=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=th&&e[th]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Vl;function Ps(e){if(Vl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vl=t&&t[1]||""}return`
`+Vl+e}var zl=!1;function Wl(e,t){if(!e||zl)return"";zl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var o=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){o=w}e.call(t.prototype)}else{try{throw Error()}catch(w){o=w}e()}}catch(w){if(w&&o&&typeof w.stack=="string"){for(var u=w.stack.split(`
`),c=o.stack.split(`
`),d=u.length-1,m=c.length-1;1<=d&&0<=m&&u[d]!==c[m];)m--;for(;1<=d&&0<=m;d--,m--)if(u[d]!==c[m]){if(d!==1||m!==1)do if(d--,m--,0>m||u[d]!==c[m]){var x=`
`+u[d].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=d&&0<=m);break}}}finally{zl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ps(e):""}function ip(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function Su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case Oi:return"Portal";case Cu:return"Profiler";case Mc:return"StrictMode";case _u:return"Suspense";case Au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cf:return(e.displayName||"Context")+".Consumer";case uf:return(e._context.displayName||"Context")+".Provider";case Lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bc:return t=e.displayName||null,t!==null?t:Su(e.type)||"Memo";case yr:t=e._payload,e=e._init;try{return Su(e(t))}catch{}}return null}function sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Su(t);case 8:return t===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function op(e){var t=ff(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=op(e))}function df(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=ff(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nh(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Br(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gf(e,t){t=t.checked,t!=null&&Pc(e,"checked",t,!1)}function Tu(e,t){gf(e,t);var r=Br(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bu(e,t.type,r):t.hasOwnProperty("defaultValue")&&bu(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bu(e,t,r){(t!=="number"||wa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ms=Array.isArray;function Wi(e,t,r,o){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Br(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Nu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ih(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(Ms(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Br(r)}}function pf(e,t){var r=Br(t.value),o=Br(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zo,xf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ap=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){ap.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function wf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,u=wf(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,u):e[r]=u}}var lp=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(e,t){if(t){if(lp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pu=null,Hi=null,Gi=null;function oh(e){if(e=Eo(e)){if(typeof Pu!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Ja(t),Pu(e.stateNode,e.type,t))}}function vf(e){Hi?Gi?Gi.push(e):Gi=[e]:Hi=e}function Ef(){if(Hi){var e=Hi,t=Gi;if(Gi=Hi=null,oh(e),t)for(e=0;e<t.length;e++)oh(t[e])}}function Cf(e,t){return e(t)}function _f(){}var Hl=!1;function Af(e,t,r){if(Hl)return e(t,r);Hl=!0;try{return Cf(e,t,r)}finally{Hl=!1,(Hi!==null||Gi!==null)&&(_f(),Ef())}}function Qs(e,t){var r=e.stateNode;if(r===null)return null;var o=Ja(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var Mu=!1;if(rr)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Mu=!1}function up(e,t,r,o,u,c,d,m,x){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(v){this.onError(v)}}var js=!1,ya=null,va=!1,Lu=null,cp={onError:function(e){js=!0,ya=e}};function hp(e,t,r,o,u,c,d,m,x){js=!1,ya=null,up.apply(cp,arguments)}function fp(e,t,r,o,u,c,d,m,x){if(hp.apply(this,arguments),js){if(js){var w=ya;js=!1,ya=null}else throw Error(Y(198));va||(va=!0,Lu=w)}}function hi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ah(e){if(hi(e)!==e)throw Error(Y(188))}function dp(e){var t=e.alternate;if(!t){if(t=hi(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,o=t;;){var u=r.return;if(u===null)break;var c=u.alternate;if(c===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===r)return ah(u),e;if(c===o)return ah(u),t;c=c.sibling}throw Error(Y(188))}if(r.return!==o.return)r=u,o=c;else{for(var d=!1,m=u.child;m;){if(m===r){d=!0,r=u,o=c;break}if(m===o){d=!0,o=u,r=c;break}m=m.sibling}if(!d){for(m=c.child;m;){if(m===r){d=!0,r=c,o=u;break}if(m===o){d=!0,o=c,r=u;break}m=m.sibling}if(!d)throw Error(Y(189))}}if(r.alternate!==o)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function If(e){return e=dp(e),e!==null?Tf(e):null}function Tf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tf(e);if(t!==null)return t;e=e.sibling}return null}var bf=fn.unstable_scheduleCallback,lh=fn.unstable_cancelCallback,gp=fn.unstable_shouldYield,pp=fn.unstable_requestPaint,ct=fn.unstable_now,mp=fn.unstable_getCurrentPriorityLevel,Uc=fn.unstable_ImmediatePriority,Nf=fn.unstable_UserBlockingPriority,Ea=fn.unstable_NormalPriority,xp=fn.unstable_LowPriority,Of=fn.unstable_IdlePriority,Ka=null,Yn=null;function wp(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ka,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Ep,yp=Math.log,vp=Math.LN2;function Ep(e){return e>>>=0,e===0?32:31-(yp(e)/vp|0)|0}var Wo=64,Ho=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,c=e.pingedLanes,d=r&268435455;if(d!==0){var m=d&~u;m!==0?o=Ls(m):(c&=d,c!==0&&(o=Ls(c)))}else d=r&~u,d!==0?o=Ls(d):c!==0&&(o=Ls(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&u)&&(u=o&-o,c=t&-t,u>=c||u===16&&(c&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Mn(t),u=1<<r,o|=e[r],t&=~u;return o}function Cp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _p(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-Mn(c),m=1<<d,x=u[d];x===-1?(!(m&r)||m&o)&&(u[d]=Cp(m,t)):x<=t&&(e.expiredLanes|=m),c&=~m}}function Bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rf(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function Gl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=r}function Ap(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Mn(r),c=1<<u;t[u]=0,o[u]=-1,e[u]=-1,r&=~c}}function jc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Mn(r),u=1<<o;u&t|e[o]&t&&(e[o]|=t),r&=~u}}var Pe=0;function kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Df,Vc,Pf,Mf,Lf,Fu=!1,Go=[],br=null,Nr=null,Or=null,Js=new Map,eo=new Map,Cr=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(t.pointerId)}}function Is(e,t,r,o,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Eo(t),t!==null&&Vc(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Ip(e,t,r,o,u){switch(t){case"focusin":return br=Is(br,e,t,r,o,u),!0;case"dragenter":return Nr=Is(Nr,e,t,r,o,u),!0;case"mouseover":return Or=Is(Or,e,t,r,o,u),!0;case"pointerover":var c=u.pointerId;return Js.set(c,Is(Js.get(c)||null,e,t,r,o,u)),!0;case"gotpointercapture":return c=u.pointerId,eo.set(c,Is(eo.get(c)||null,e,t,r,o,u)),!0}return!1}function Bf(e){var t=ei(e.target);if(t!==null){var r=hi(t);if(r!==null){if(t=r.tag,t===13){if(t=Sf(r),t!==null){e.blockedOn=t,Lf(e.priority,function(){Pf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Du=o,r.target.dispatchEvent(o),Du=null}else return t=Eo(r),t!==null&&Vc(t),e.blockedOn=r,!1;t.shift()}return!0}function ch(e,t,r){la(e)&&r.delete(t)}function Tp(){Fu=!1,br!==null&&la(br)&&(br=null),Nr!==null&&la(Nr)&&(Nr=null),Or!==null&&la(Or)&&(Or=null),Js.forEach(ch),eo.forEach(ch)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,Tp)))}function to(e){function t(u){return Ts(u,e)}if(0<Go.length){Ts(Go[0],e);for(var r=1;r<Go.length;r++){var o=Go[r];o.blockedOn===e&&(o.blockedOn=null)}}for(br!==null&&Ts(br,e),Nr!==null&&Ts(Nr,e),Or!==null&&Ts(Or,e),Js.forEach(t),eo.forEach(t),r=0;r<Cr.length;r++)o=Cr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)Bf(r),r.blockedOn===null&&Cr.shift()}var Xi=ar.ReactCurrentBatchConfig,_a=!0;function bp(e,t,r,o){var u=Pe,c=Xi.transition;Xi.transition=null;try{Pe=1,zc(e,t,r,o)}finally{Pe=u,Xi.transition=c}}function Np(e,t,r,o){var u=Pe,c=Xi.transition;Xi.transition=null;try{Pe=4,zc(e,t,r,o)}finally{Pe=u,Xi.transition=c}}function zc(e,t,r,o){if(_a){var u=Uu(e,t,r,o);if(u===null)tu(e,t,o,Aa,r),uh(e,o);else if(Ip(u,e,t,r,o))o.stopPropagation();else if(uh(e,o),t&4&&-1<Sp.indexOf(e)){for(;u!==null;){var c=Eo(u);if(c!==null&&Df(c),c=Uu(e,t,r,o),c===null&&tu(e,t,o,Aa,r),c===u)break;u=c}u!==null&&o.stopPropagation()}else tu(e,t,o,null,r)}}var Aa=null;function Uu(e,t,r,o){if(Aa=null,e=Fc(o),e=ei(e),e!==null)if(t=hi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Sf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Aa=e,null}function Ff(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mp()){case Uc:return 1;case Nf:return 4;case Ea:case xp:return 16;case Of:return 536870912;default:return 16}default:return 16}}var Sr=null,Wc=null,ua=null;function Uf(){if(ua)return ua;var e,t=Wc,r=t.length,o,u="value"in Sr?Sr.value:Sr.textContent,c=u.length;for(e=0;e<r&&t[e]===u[e];e++);var d=r-e;for(o=1;o<=d&&t[r-o]===u[c-o];o++);return ua=u.slice(e,1<o?1-o:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function hh(){return!1}function gn(e){function t(r,o,u,c,d){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Xo:hh,this.isPropagationStopped=hh,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=gn(as),vo=tt({},as,{view:0,detail:0}),Op=gn(vo),Xl,$l,bs,Za=tt({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(Xl=e.screenX-bs.screenX,$l=e.screenY-bs.screenY):$l=Xl=0,bs=e),Xl)},movementY:function(e){return"movementY"in e?e.movementY:$l}}),fh=gn(Za),Rp=tt({},Za,{dataTransfer:0}),kp=gn(Rp),Dp=tt({},vo,{relatedTarget:0}),Yl=gn(Dp),Pp=tt({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=gn(Pp),Lp=tt({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bp=gn(Lp),Fp=tt({},as,{data:0}),dh=gn(Fp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vp[e])?!!t[e]:!1}function Gc(){return zp}var Wp=tt({},vo,{key:function(e){if(e.key){var t=Up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hp=gn(Wp),Gp=tt({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=gn(Gp),Xp=tt({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),$p=gn(Xp),Yp=tt({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=gn(Yp),Zp=tt({},Za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qp=gn(Zp),Qp=[9,13,27,32],Xc=rr&&"CompositionEvent"in window,Vs=null;rr&&"documentMode"in document&&(Vs=document.documentMode);var Jp=rr&&"TextEvent"in window&&!Vs,jf=rr&&(!Xc||Vs&&8<Vs&&11>=Vs),ph=" ",mh=!1;function Vf(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function em(e,t){switch(e){case"compositionend":return zf(t);case"keypress":return t.which!==32?null:(mh=!0,ph);case"textInput":return e=t.data,e===ph&&mh?null:e;default:return null}}function tm(e,t){if(ki)return e==="compositionend"||!Xc&&Vf(e,t)?(e=Uf(),ua=Wc=Sr=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jf&&t.locale!=="ko"?null:t.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nm[e.type]:t==="textarea"}function Wf(e,t,r,o){vf(o),t=Sa(t,"onChange"),0<t.length&&(r=new Hc("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var zs=null,no=null;function rm(e){ed(e,0)}function qa(e){var t=Mi(e);if(df(t))return e}function im(e,t){if(e==="change")return t}var Hf=!1;if(rr){var Kl;if(rr){var Zl="oninput"in document;if(!Zl){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),Zl=typeof wh.oninput=="function"}Kl=Zl}else Kl=!1;Hf=Kl&&(!document.documentMode||9<document.documentMode)}function yh(){zs&&(zs.detachEvent("onpropertychange",Gf),no=zs=null)}function Gf(e){if(e.propertyName==="value"&&qa(no)){var t=[];Wf(t,no,e,Fc(e)),Af(rm,t)}}function sm(e,t,r){e==="focusin"?(yh(),zs=t,no=r,zs.attachEvent("onpropertychange",Gf)):e==="focusout"&&yh()}function om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qa(no)}function am(e,t){if(e==="click")return qa(t)}function lm(e,t){if(e==="input"||e==="change")return qa(t)}function um(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:um;function ro(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!Eu.call(t,u)||!Bn(e[u],t[u]))return!1}return!0}function vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eh(e,t){var r=vh(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vh(r)}}function Xf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $f(){for(var e=window,t=wa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wa(e.document)}return t}function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cm(e){var t=$f(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xf(r.ownerDocument.documentElement,r)){if(o!==null&&$c(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,c=Math.min(o.start,u);o=o.end===void 0?c:Math.min(o.end,u),!e.extend&&c>o&&(u=o,o=c,c=u),u=Eh(r,c);var d=Eh(r,o);u&&d&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=rr&&"documentMode"in document&&11>=document.documentMode,Di=null,ju=null,Ws=null,Vu=!1;function Ch(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vu||Di==null||Di!==wa(o)||(o=Di,"selectionStart"in o&&$c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ws&&ro(Ws,o)||(Ws=o,o=Sa(ju,"onSelect"),0<o.length&&(t=new Hc("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Di)))}function $o(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pi={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},ql={},Yf={};rr&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function Qa(e){if(ql[e])return ql[e];if(!Pi[e])return e;var t=Pi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yf)return ql[e]=t[r];return e}var Kf=Qa("animationend"),Zf=Qa("animationiteration"),qf=Qa("animationstart"),Qf=Qa("transitionend"),Jf=new Map,_h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Jf.set(e,t),ci(t,[e])}for(var Ql=0;Ql<_h.length;Ql++){var Jl=_h[Ql],fm=Jl.toLowerCase(),dm=Jl[0].toUpperCase()+Jl.slice(1);Ur(fm,"on"+dm)}Ur(Kf,"onAnimationEnd");Ur(Zf,"onAnimationIteration");Ur(qf,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(Qf,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function Ah(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,fp(o,t,void 0,e),e.currentTarget=null}function ed(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var d=o.length-1;0<=d;d--){var m=o[d],x=m.instance,w=m.currentTarget;if(m=m.listener,x!==c&&u.isPropagationStopped())break e;Ah(u,m,w),c=x}else for(d=0;d<o.length;d++){if(m=o[d],x=m.instance,w=m.currentTarget,m=m.listener,x!==c&&u.isPropagationStopped())break e;Ah(u,m,w),c=x}}}if(va)throw e=Lu,va=!1,Lu=null,e}function Ge(e,t){var r=t[Xu];r===void 0&&(r=t[Xu]=new Set);var o=e+"__bubble";r.has(o)||(td(t,e,2,!1),r.add(o))}function eu(e,t,r){var o=0;t&&(o|=4),td(r,e,o,t)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Yo]){e[Yo]=!0,lf.forEach(function(r){r!=="selectionchange"&&(gm.has(r)||eu(r,!1,e),eu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yo]||(t[Yo]=!0,eu("selectionchange",!1,t))}}function td(e,t,r,o){switch(Ff(t)){case 1:var u=bp;break;case 4:u=Np;break;default:u=zc}r=u.bind(null,t,r,e),u=void 0,!Mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function tu(e,t,r,o,u){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var m=o.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(d===4)for(d=o.return;d!==null;){var x=d.tag;if((x===3||x===4)&&(x=d.stateNode.containerInfo,x===u||x.nodeType===8&&x.parentNode===u))return;d=d.return}for(;m!==null;){if(d=ei(m),d===null)return;if(x=d.tag,x===5||x===6){o=c=d;continue e}m=m.parentNode}}o=o.return}Af(function(){var w=c,v=Fc(r),_=[];e:{var T=Jf.get(e);if(T!==void 0){var D=Hc,L=e;switch(e){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":D=Hp;break;case"focusin":L="focus",D=Yl;break;case"focusout":L="blur",D=Yl;break;case"beforeblur":case"afterblur":D=Yl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=$p;break;case Kf:case Zf:case qf:D=Mp;break;case Qf:D=Kp;break;case"scroll":D=Op;break;case"wheel":D=qp;break;case"copy":case"cut":case"paste":D=Bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=gh}var P=(t&4)!==0,H=!P&&e==="scroll",N=P?T!==null?T+"Capture":null:T;P=[];for(var b=w,O;b!==null;){O=b;var U=O.stateNode;if(O.tag===5&&U!==null&&(O=U,N!==null&&(U=Qs(b,N),U!=null&&P.push(so(b,U,O)))),H)break;b=b.return}0<P.length&&(T=new D(T,L,null,r,v),_.push({event:T,listeners:P}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",T&&r!==Du&&(L=r.relatedTarget||r.fromElement)&&(ei(L)||L[ir]))break e;if((D||T)&&(T=v.window===v?v:(T=v.ownerDocument)?T.defaultView||T.parentWindow:window,D?(L=r.relatedTarget||r.toElement,D=w,L=L?ei(L):null,L!==null&&(H=hi(L),L!==H||L.tag!==5&&L.tag!==6)&&(L=null)):(D=null,L=w),D!==L)){if(P=fh,U="onMouseLeave",N="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(P=gh,U="onPointerLeave",N="onPointerEnter",b="pointer"),H=D==null?T:Mi(D),O=L==null?T:Mi(L),T=new P(U,b+"leave",D,r,v),T.target=H,T.relatedTarget=O,U=null,ei(v)===w&&(P=new P(N,b+"enter",L,r,v),P.target=O,P.relatedTarget=H,U=P),H=U,D&&L)t:{for(P=D,N=L,b=0,O=P;O;O=Ii(O))b++;for(O=0,U=N;U;U=Ii(U))O++;for(;0<b-O;)P=Ii(P),b--;for(;0<O-b;)N=Ii(N),O--;for(;b--;){if(P===N||N!==null&&P===N.alternate)break t;P=Ii(P),N=Ii(N)}P=null}else P=null;D!==null&&Sh(_,T,D,P,!1),L!==null&&H!==null&&Sh(_,H,L,P,!0)}}e:{if(T=w?Mi(w):window,D=T.nodeName&&T.nodeName.toLowerCase(),D==="select"||D==="input"&&T.type==="file")var K=im;else if(xh(T))if(Hf)K=lm;else{K=om;var J=sm}else(D=T.nodeName)&&D.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(K=am);if(K&&(K=K(e,w))){Wf(_,K,r,v);break e}J&&J(e,T,w),e==="focusout"&&(J=T._wrapperState)&&J.controlled&&T.type==="number"&&bu(T,"number",T.value)}switch(J=w?Mi(w):window,e){case"focusin":(xh(J)||J.contentEditable==="true")&&(Di=J,ju=w,Ws=null);break;case"focusout":Ws=ju=Di=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Ch(_,r,v);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":Ch(_,r,v)}var z;if(Xc)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else ki?Vf(e,r)&&(ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ee="onCompositionStart");ee&&(jf&&r.locale!=="ko"&&(ki||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&ki&&(z=Uf()):(Sr=v,Wc="value"in Sr?Sr.value:Sr.textContent,ki=!0)),J=Sa(w,ee),0<J.length&&(ee=new dh(ee,e,null,r,v),_.push({event:ee,listeners:J}),z?ee.data=z:(z=zf(r),z!==null&&(ee.data=z)))),(z=Jp?em(e,r):tm(e,r))&&(w=Sa(w,"onBeforeInput"),0<w.length&&(v=new dh("onBeforeInput","beforeinput",null,r,v),_.push({event:v,listeners:w}),v.data=z))}ed(_,t)})}function so(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sa(e,t){for(var r=t+"Capture",o=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=Qs(e,r),c!=null&&o.unshift(so(e,c,u)),c=Qs(e,t),c!=null&&o.push(so(e,c,u))),e=e.return}return o}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sh(e,t,r,o,u){for(var c=t._reactName,d=[];r!==null&&r!==o;){var m=r,x=m.alternate,w=m.stateNode;if(x!==null&&x===o)break;m.tag===5&&w!==null&&(m=w,u?(x=Qs(r,c),x!=null&&d.unshift(so(r,x,m))):u||(x=Qs(r,c),x!=null&&d.push(so(r,x,m)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var pm=/\r\n?/g,mm=/\u0000|\uFFFD/g;function Ih(e){return(typeof e=="string"?e:""+e).replace(pm,`
`).replace(mm,"")}function Ko(e,t,r){if(t=Ih(t),Ih(e)!==t&&r)throw Error(Y(425))}function Ia(){}var zu=null,Wu=null;function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(ym)}:Gu;function ym(e){setTimeout(function(){throw e})}function nu(e,t){var r=t,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(o===0){e.removeChild(u),to(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=u}while(r);to(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),$n="__reactFiber$"+ls,oo="__reactProps$"+ls,ir="__reactContainer$"+ls,Xu="__reactEvents$"+ls,vm="__reactListeners$"+ls,Em="__reactHandles$"+ls;function ei(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bh(e);e!==null;){if(r=e[$n])return r;e=bh(e)}return t}e=r,r=e.parentNode}return null}function Eo(e){return e=e[$n]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Ja(e){return e[oo]||null}var $u=[],Li=-1;function jr(e){return{current:e}}function $e(e){0>Li||(e.current=$u[Li],$u[Li]=null,Li--)}function We(e,t){Li++,$u[Li]=e.current,e.current=t}var Fr={},Ft=jr(Fr),tn=jr(!1),si=Fr;function qi(e,t){var r=e.type.contextTypes;if(!r)return Fr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in r)u[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function nn(e){return e=e.childContextTypes,e!=null}function Ta(){$e(tn),$e(Ft)}function Nh(e,t,r){if(Ft.current!==Fr)throw Error(Y(168));We(Ft,t),We(tn,r)}function nd(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(Y(108,sp(e)||"Unknown",u));return tt({},r,o)}function ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,si=Ft.current,We(Ft,e),We(tn,tn.current),!0}function Oh(e,t,r){var o=e.stateNode;if(!o)throw Error(Y(169));r?(e=nd(e,t,si),o.__reactInternalMemoizedMergedChildContext=e,$e(tn),$e(Ft),We(Ft,e)):$e(tn),We(tn,r)}var Jn=null,el=!1,ru=!1;function rd(e){Jn===null?Jn=[e]:Jn.push(e)}function Cm(e){el=!0,rd(e)}function Vr(){if(!ru&&Jn!==null){ru=!0;var e=0,t=Pe;try{var r=Jn;for(Pe=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}Jn=null,el=!1}catch(u){throw Jn!==null&&(Jn=Jn.slice(e+1)),bf(Uc,Vr),u}finally{Pe=t,ru=!1}}return null}var Bi=[],Fi=0,Na=null,Oa=0,vn=[],En=0,oi=null,er=1,tr="";function Zr(e,t){Bi[Fi++]=Oa,Bi[Fi++]=Na,Na=e,Oa=t}function id(e,t,r){vn[En++]=er,vn[En++]=tr,vn[En++]=oi,oi=e;var o=er;e=tr;var u=32-Mn(o)-1;o&=~(1<<u),r+=1;var c=32-Mn(t)+u;if(30<c){var d=u-u%5;c=(o&(1<<d)-1).toString(32),o>>=d,u-=d,er=1<<32-Mn(t)+u|r<<u|o,tr=c+e}else er=1<<c|r<<u|o,tr=e}function Yc(e){e.return!==null&&(Zr(e,1),id(e,1,0))}function Kc(e){for(;e===Na;)Na=Bi[--Fi],Bi[Fi]=null,Oa=Bi[--Fi],Bi[Fi]=null;for(;e===oi;)oi=vn[--En],vn[En]=null,tr=vn[--En],vn[En]=null,er=vn[--En],vn[En]=null}var hn=null,cn=null,Ze=!1,Pn=null;function sd(e,t){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hn=e,cn=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hn=e,cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oi!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hn=e,cn=null,!0):!1;default:return!1}}function Yu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ku(e){if(Ze){var t=cn;if(t){var r=t;if(!Rh(e,t)){if(Yu(e))throw Error(Y(418));t=Rr(r.nextSibling);var o=hn;t&&Rh(e,t)?sd(o,r):(e.flags=e.flags&-4097|2,Ze=!1,hn=e)}}else{if(Yu(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ze=!1,hn=e}}}function kh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function Zo(e){if(e!==hn)return!1;if(!Ze)return kh(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hu(e.type,e.memoizedProps)),t&&(t=cn)){if(Yu(e))throw od(),Error(Y(418));for(;t;)sd(e,t),t=Rr(t.nextSibling)}if(kh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){cn=Rr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}cn=null}}else cn=hn?Rr(e.stateNode.nextSibling):null;return!0}function od(){for(var e=cn;e;)e=Rr(e.nextSibling)}function Qi(){cn=hn=null,Ze=!1}function Zc(e){Pn===null?Pn=[e]:Pn.push(e)}var _m=ar.ReactCurrentBatchConfig;function Ns(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var o=r.stateNode}if(!o)throw Error(Y(147,e));var u=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(d){var m=u.refs;d===null?delete m[c]:m[c]=d},t._stringRef=c,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dh(e){var t=e._init;return t(e._payload)}function ad(e){function t(N,b){if(e){var O=N.deletions;O===null?(N.deletions=[b],N.flags|=16):O.push(b)}}function r(N,b){if(!e)return null;for(;b!==null;)t(N,b),b=b.sibling;return null}function o(N,b){for(N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function u(N,b){return N=Mr(N,b),N.index=0,N.sibling=null,N}function c(N,b,O){return N.index=O,e?(O=N.alternate,O!==null?(O=O.index,O<b?(N.flags|=2,b):O):(N.flags|=2,b)):(N.flags|=1048576,b)}function d(N){return e&&N.alternate===null&&(N.flags|=2),N}function m(N,b,O,U){return b===null||b.tag!==6?(b=cu(O,N.mode,U),b.return=N,b):(b=u(b,O),b.return=N,b)}function x(N,b,O,U){var K=O.type;return K===Ri?v(N,b,O.props.children,U,O.key):b!==null&&(b.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===yr&&Dh(K)===b.type)?(U=u(b,O.props),U.ref=Ns(N,b,O),U.return=N,U):(U=xa(O.type,O.key,O.props,null,N.mode,U),U.ref=Ns(N,b,O),U.return=N,U)}function w(N,b,O,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==O.containerInfo||b.stateNode.implementation!==O.implementation?(b=hu(O,N.mode,U),b.return=N,b):(b=u(b,O.children||[]),b.return=N,b)}function v(N,b,O,U,K){return b===null||b.tag!==7?(b=ii(O,N.mode,U,K),b.return=N,b):(b=u(b,O),b.return=N,b)}function _(N,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return b=cu(""+b,N.mode,O),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jo:return O=xa(b.type,b.key,b.props,null,N.mode,O),O.ref=Ns(N,null,b),O.return=N,O;case Oi:return b=hu(b,N.mode,O),b.return=N,b;case yr:var U=b._init;return _(N,U(b._payload),O)}if(Ms(b)||As(b))return b=ii(b,N.mode,O,null),b.return=N,b;qo(N,b)}return null}function T(N,b,O,U){var K=b!==null?b.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return K!==null?null:m(N,b,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case jo:return O.key===K?x(N,b,O,U):null;case Oi:return O.key===K?w(N,b,O,U):null;case yr:return K=O._init,T(N,b,K(O._payload),U)}if(Ms(O)||As(O))return K!==null?null:v(N,b,O,U,null);qo(N,O)}return null}function D(N,b,O,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return N=N.get(O)||null,m(b,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case jo:return N=N.get(U.key===null?O:U.key)||null,x(b,N,U,K);case Oi:return N=N.get(U.key===null?O:U.key)||null,w(b,N,U,K);case yr:var J=U._init;return D(N,b,O,J(U._payload),K)}if(Ms(U)||As(U))return N=N.get(O)||null,v(b,N,U,K,null);qo(b,U)}return null}function L(N,b,O,U){for(var K=null,J=null,z=b,ee=b=0,G=null;z!==null&&ee<O.length;ee++){z.index>ee?(G=z,z=null):G=z.sibling;var me=T(N,z,O[ee],U);if(me===null){z===null&&(z=G);break}e&&z&&me.alternate===null&&t(N,z),b=c(me,b,ee),J===null?K=me:J.sibling=me,J=me,z=G}if(ee===O.length)return r(N,z),Ze&&Zr(N,ee),K;if(z===null){for(;ee<O.length;ee++)z=_(N,O[ee],U),z!==null&&(b=c(z,b,ee),J===null?K=z:J.sibling=z,J=z);return Ze&&Zr(N,ee),K}for(z=o(N,z);ee<O.length;ee++)G=D(z,N,ee,O[ee],U),G!==null&&(e&&G.alternate!==null&&z.delete(G.key===null?ee:G.key),b=c(G,b,ee),J===null?K=G:J.sibling=G,J=G);return e&&z.forEach(function(Ue){return t(N,Ue)}),Ze&&Zr(N,ee),K}function P(N,b,O,U){var K=As(O);if(typeof K!="function")throw Error(Y(150));if(O=K.call(O),O==null)throw Error(Y(151));for(var J=K=null,z=b,ee=b=0,G=null,me=O.next();z!==null&&!me.done;ee++,me=O.next()){z.index>ee?(G=z,z=null):G=z.sibling;var Ue=T(N,z,me.value,U);if(Ue===null){z===null&&(z=G);break}e&&z&&Ue.alternate===null&&t(N,z),b=c(Ue,b,ee),J===null?K=Ue:J.sibling=Ue,J=Ue,z=G}if(me.done)return r(N,z),Ze&&Zr(N,ee),K;if(z===null){for(;!me.done;ee++,me=O.next())me=_(N,me.value,U),me!==null&&(b=c(me,b,ee),J===null?K=me:J.sibling=me,J=me);return Ze&&Zr(N,ee),K}for(z=o(N,z);!me.done;ee++,me=O.next())me=D(z,N,ee,me.value,U),me!==null&&(e&&me.alternate!==null&&z.delete(me.key===null?ee:me.key),b=c(me,b,ee),J===null?K=me:J.sibling=me,J=me);return e&&z.forEach(function(ce){return t(N,ce)}),Ze&&Zr(N,ee),K}function H(N,b,O,U){if(typeof O=="object"&&O!==null&&O.type===Ri&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case jo:e:{for(var K=O.key,J=b;J!==null;){if(J.key===K){if(K=O.type,K===Ri){if(J.tag===7){r(N,J.sibling),b=u(J,O.props.children),b.return=N,N=b;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===yr&&Dh(K)===J.type){r(N,J.sibling),b=u(J,O.props),b.ref=Ns(N,J,O),b.return=N,N=b;break e}r(N,J);break}else t(N,J);J=J.sibling}O.type===Ri?(b=ii(O.props.children,N.mode,U,O.key),b.return=N,N=b):(U=xa(O.type,O.key,O.props,null,N.mode,U),U.ref=Ns(N,b,O),U.return=N,N=U)}return d(N);case Oi:e:{for(J=O.key;b!==null;){if(b.key===J)if(b.tag===4&&b.stateNode.containerInfo===O.containerInfo&&b.stateNode.implementation===O.implementation){r(N,b.sibling),b=u(b,O.children||[]),b.return=N,N=b;break e}else{r(N,b);break}else t(N,b);b=b.sibling}b=hu(O,N.mode,U),b.return=N,N=b}return d(N);case yr:return J=O._init,H(N,b,J(O._payload),U)}if(Ms(O))return L(N,b,O,U);if(As(O))return P(N,b,O,U);qo(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,b!==null&&b.tag===6?(r(N,b.sibling),b=u(b,O),b.return=N,N=b):(r(N,b),b=cu(O,N.mode,U),b.return=N,N=b),d(N)):r(N,b)}return H}var Ji=ad(!0),ld=ad(!1),Ra=jr(null),ka=null,Ui=null,qc=null;function Qc(){qc=Ui=ka=null}function Jc(e){var t=Ra.current;$e(Ra),e._currentValue=t}function Zu(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function $i(e,t){ka=e,qc=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(en=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(qc!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(ka===null)throw Error(Y(308));Ui=e,ka.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var ti=null;function e0(e){ti===null?ti=[e]:ti.push(e)}function ud(e,t,r,o){var u=t.interleaved;return u===null?(r.next=r,e0(t)):(r.next=u.next,u.next=r),t.interleaved=r,sr(e,o)}function sr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vr=!1;function t0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Ne&2){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,sr(e,r)}return u=o.interleaved,u===null?(t.next=t,e0(o)):(t.next=u.next,u.next=t),o.interleaved=t,sr(e,r)}function ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,jc(e,r)}}function Ph(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?u=c=d:c=c.next=d,r=r.next}while(r!==null);c===null?u=c=t:c=c.next=t}else u=c=t;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Da(e,t,r,o){var u=e.updateQueue;vr=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var x=m,w=x.next;x.next=null,d===null?c=w:d.next=w,d=x;var v=e.alternate;v!==null&&(v=v.updateQueue,m=v.lastBaseUpdate,m!==d&&(m===null?v.firstBaseUpdate=w:m.next=w,v.lastBaseUpdate=x))}if(c!==null){var _=u.baseState;d=0,v=w=x=null,m=c;do{var T=m.lane,D=m.eventTime;if((o&T)===T){v!==null&&(v=v.next={eventTime:D,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var L=e,P=m;switch(T=t,D=r,P.tag){case 1:if(L=P.payload,typeof L=="function"){_=L.call(D,_,T);break e}_=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=P.payload,T=typeof L=="function"?L.call(D,_,T):L,T==null)break e;_=tt({},_,T);break e;case 2:vr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,T=u.effects,T===null?u.effects=[m]:T.push(m))}else D={eventTime:D,lane:T,tag:m.tag,payload:m.payload,callback:m.callback,next:null},v===null?(w=v=D,x=_):v=v.next=D,d|=T;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;T=m,m=T.next,T.next=null,u.lastBaseUpdate=T,u.shared.pending=null}}while(!0);if(v===null&&(x=_),u.baseState=x,u.firstBaseUpdate=w,u.lastBaseUpdate=v,t=u.shared.interleaved,t!==null){u=t;do d|=u.lane,u=u.next;while(u!==t)}else c===null&&(u.shared.lanes=0);li|=d,e.lanes=d,e.memoizedState=_}}function Mh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=r,typeof u!="function")throw Error(Y(191,u));u.call(o)}}}var Co={},Kn=jr(Co),ao=jr(Co),lo=jr(Co);function ni(e){if(e===Co)throw Error(Y(174));return e}function n0(e,t){switch(We(lo,t),We(ao,e),We(Kn,Co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}$e(Kn),We(Kn,t)}function es(){$e(Kn),$e(ao),$e(lo)}function hd(e){ni(lo.current);var t=ni(Kn.current),r=Ou(t,e.type);t!==r&&(We(ao,e),We(Kn,r))}function r0(e){ao.current===e&&($e(Kn),$e(ao))}var Je=jr(0);function Pa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iu=[];function i0(){for(var e=0;e<iu.length;e++)iu[e]._workInProgressVersionPrimary=null;iu.length=0}var fa=ar.ReactCurrentDispatcher,su=ar.ReactCurrentBatchConfig,ai=0,et=null,xt=null,_t=null,Ma=!1,Hs=!1,uo=0,Am=0;function Mt(){throw Error(Y(321))}function s0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function o0(e,t,r,o,u,c){if(ai=c,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?bm:Nm,e=r(o,u),Hs){c=0;do{if(Hs=!1,uo=0,25<=c)throw Error(Y(301));c+=1,_t=xt=null,t.updateQueue=null,fa.current=Om,e=r(o,u)}while(Hs)}if(fa.current=La,t=xt!==null&&xt.next!==null,ai=0,_t=xt=et=null,Ma=!1,t)throw Error(Y(300));return e}function a0(){var e=uo!==0;return uo=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?et.memoizedState=_t=e:_t=_t.next=e,_t}function Sn(){if(xt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=_t===null?et.memoizedState:_t.next;if(t!==null)_t=t,xt=e;else{if(e===null)throw Error(Y(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},_t===null?et.memoizedState=_t=e:_t=_t.next=e}return _t}function co(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=Sn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var o=xt,u=o.baseQueue,c=r.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}o.baseQueue=u=c,r.pending=null}if(u!==null){c=u.next,o=o.baseState;var m=d=null,x=null,w=c;do{var v=w.lane;if((ai&v)===v)x!==null&&(x=x.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),o=w.hasEagerState?w.eagerState:e(o,w.action);else{var _={lane:v,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};x===null?(m=x=_,d=o):x=x.next=_,et.lanes|=v,li|=v}w=w.next}while(w!==null&&w!==c);x===null?d=o:x.next=m,Bn(o,t.memoizedState)||(en=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=x,r.lastRenderedState=o}if(e=r.interleaved,e!==null){u=e;do c=u.lane,et.lanes|=c,li|=c,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function au(e){var t=Sn(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,c=t.memoizedState;if(u!==null){r.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);Bn(c,t.memoizedState)||(en=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,o]}function fd(){}function dd(e,t){var r=et,o=Sn(),u=t(),c=!Bn(o.memoizedState,u);if(c&&(o.memoizedState=u,en=!0),o=o.queue,l0(md.bind(null,r,o,e),[e]),o.getSnapshot!==t||c||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,ho(9,pd.bind(null,r,o,u,t),void 0,null),At===null)throw Error(Y(349));ai&30||gd(r,t,u)}return u}function gd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pd(e,t,r,o){t.value=r,t.getSnapshot=o,xd(t)&&wd(e)}function md(e,t,r){return r(function(){xd(t)&&wd(e)})}function xd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function wd(e){var t=sr(e,1);t!==null&&Ln(t,e,1,-1)}function Lh(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:e},t.queue=e,e=e.dispatch=Tm.bind(null,et,e),[t.memoizedState,e]}function ho(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function yd(){return Sn().memoizedState}function da(e,t,r,o){var u=Xn();et.flags|=e,u.memoizedState=ho(1|t,r,void 0,o===void 0?null:o)}function tl(e,t,r,o){var u=Sn();o=o===void 0?null:o;var c=void 0;if(xt!==null){var d=xt.memoizedState;if(c=d.destroy,o!==null&&s0(o,d.deps)){u.memoizedState=ho(t,r,c,o);return}}et.flags|=e,u.memoizedState=ho(1|t,r,c,o)}function Bh(e,t){return da(8390656,8,e,t)}function l0(e,t){return tl(2048,8,e,t)}function vd(e,t){return tl(4,2,e,t)}function Ed(e,t){return tl(4,4,e,t)}function Cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,r){return r=r!=null?r.concat([e]):null,tl(4,4,Cd.bind(null,t,e),r)}function u0(){}function Ad(e,t){var r=Sn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&s0(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Sd(e,t){var r=Sn();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&s0(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Id(e,t,r){return ai&21?(Bn(r,t)||(r=Rf(),et.lanes|=r,li|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=r)}function Sm(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var o=su.transition;su.transition={};try{e(!1),t()}finally{Pe=r,su.transition=o}}function Td(){return Sn().memoizedState}function Im(e,t,r){var o=Pr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},bd(e))Nd(t,r);else if(r=ud(e,t,r,o),r!==null){var u=zt();Ln(r,e,o,u),Od(r,t,o)}}function Tm(e,t,r){var o=Pr(e),u={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(bd(e))Nd(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,m=c(d,r);if(u.hasEagerState=!0,u.eagerState=m,Bn(m,d)){var x=t.interleaved;x===null?(u.next=u,e0(t)):(u.next=x.next,x.next=u),t.interleaved=u;return}}catch{}finally{}r=ud(e,t,u,o),r!==null&&(u=zt(),Ln(r,e,o,u),Od(r,t,o))}}function bd(e){var t=e.alternate;return e===et||t!==null&&t===et}function Nd(e,t){Hs=Ma=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Od(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,jc(e,r)}}var La={readContext:An,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},bm={readContext:An,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:Bh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,da(4194308,4,Cd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var r=Xn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=Xn();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Im.bind(null,et,e),[o.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:Lh,useDebugValue:u0,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=Lh(!1),t=e[0];return e=Sm.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=et,u=Xn();if(Ze){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),At===null)throw Error(Y(349));ai&30||gd(o,t,r)}u.memoizedState=r;var c={value:r,getSnapshot:t};return u.queue=c,Bh(md.bind(null,o,c,e),[e]),o.flags|=2048,ho(9,pd.bind(null,o,c,r,t),void 0,null),r},useId:function(){var e=Xn(),t=At.identifierPrefix;if(Ze){var r=tr,o=er;r=(o&~(1<<32-Mn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=uo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Am++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nm={readContext:An,useCallback:Ad,useContext:An,useEffect:l0,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:Ed,useMemo:Sd,useReducer:ou,useRef:yd,useState:function(){return ou(co)},useDebugValue:u0,useDeferredValue:function(e){var t=Sn();return Id(t,xt.memoizedState,e)},useTransition:function(){var e=ou(co)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:fd,useSyncExternalStore:dd,useId:Td,unstable_isNewReconciler:!1},Om={readContext:An,useCallback:Ad,useContext:An,useEffect:l0,useImperativeHandle:_d,useInsertionEffect:vd,useLayoutEffect:Ed,useMemo:Sd,useReducer:au,useRef:yd,useState:function(){return au(co)},useDebugValue:u0,useDeferredValue:function(e){var t=Sn();return xt===null?t.memoizedState=e:Id(t,xt.memoizedState,e)},useTransition:function(){var e=au(co)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:fd,useSyncExternalStore:dd,useId:Td,unstable_isNewReconciler:!1};function Rn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qu(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nl={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=zt(),u=Pr(e),c=nr(o,u);c.payload=t,r!=null&&(c.callback=r),t=kr(e,c,u),t!==null&&(Ln(t,e,u,o),ha(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=zt(),u=Pr(e),c=nr(o,u);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=kr(e,c,u),t!==null&&(Ln(t,e,u,o),ha(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),o=Pr(e),u=nr(r,o);u.tag=2,t!=null&&(u.callback=t),t=kr(e,u,o),t!==null&&(Ln(t,e,o,r),ha(t,e,o))}};function Fh(e,t,r,o,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):t.prototype&&t.prototype.isPureReactComponent?!ro(r,o)||!ro(u,c):!0}function Rd(e,t,r){var o=!1,u=Fr,c=t.contextType;return typeof c=="object"&&c!==null?c=An(c):(u=nn(t)?si:Ft.current,o=t.contextTypes,c=(o=o!=null)?qi(e,u):Fr),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),t}function Uh(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function Qu(e,t,r,o){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},t0(e);var c=t.contextType;typeof c=="object"&&c!==null?u.context=An(c):(c=nn(t)?si:Ft.current,u.context=qi(e,c)),u.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(qu(e,t,c,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&nl.enqueueReplaceState(u,u.state,null),Da(e,r,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var r="",o=t;do r+=ip(o),o=o.return;while(o);var u=r}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:u,digest:null}}function lu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ju(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function kd(e,t,r){r=nr(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Fa||(Fa=!0,uc=o),Ju(e,t)},r}function Dd(e,t,r){r=nr(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;r.payload=function(){return o(u)},r.callback=function(){Ju(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){Ju(e,t),typeof o!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function jh(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Rm;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(r)||(u.add(r),e=Gm.bind(null,e,t,r),t.then(e,e))}function Vh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zh(e,t,r,o,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nr(-1,1),t.tag=2,kr(r,t,1))),r.lanes|=1),e)}var km=ar.ReactCurrentOwner,en=!1;function Vt(e,t,r,o){t.child=e===null?ld(t,null,r,o):Ji(t,e.child,r,o)}function Wh(e,t,r,o,u){r=r.render;var c=t.ref;return $i(t,u),o=o0(e,t,r,o,c,u),r=a0(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,or(e,t,u)):(Ze&&r&&Yc(t),t.flags|=1,Vt(e,t,o,u),t.child)}function Hh(e,t,r,o,u){if(e===null){var c=r.type;return typeof c=="function"&&!x0(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,Pd(e,t,c,o,u)):(e=xa(r.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&u)){var d=c.memoizedProps;if(r=r.compare,r=r!==null?r:ro,r(d,o)&&e.ref===t.ref)return or(e,t,u)}return t.flags|=1,e=Mr(c,o),e.ref=t.ref,e.return=t,t.child=e}function Pd(e,t,r,o,u){if(e!==null){var c=e.memoizedProps;if(ro(c,o)&&e.ref===t.ref)if(en=!1,t.pendingProps=o=c,(e.lanes&u)!==0)e.flags&131072&&(en=!0);else return t.lanes=e.lanes,or(e,t,u)}return ec(e,t,r,o,u)}function Md(e,t,r){var o=t.pendingProps,u=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Vi,un),un|=r;else{if(!(r&1073741824))return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Vi,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:r,We(Vi,un),un|=o}else c!==null?(o=c.baseLanes|r,t.memoizedState=null):o=r,We(Vi,un),un|=o;return Vt(e,t,u,r),t.child}function Ld(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ec(e,t,r,o,u){var c=nn(r)?si:Ft.current;return c=qi(t,c),$i(t,u),r=o0(e,t,r,o,c,u),o=a0(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,or(e,t,u)):(Ze&&o&&Yc(t),t.flags|=1,Vt(e,t,r,u),t.child)}function Gh(e,t,r,o,u){if(nn(r)){var c=!0;ba(t)}else c=!1;if($i(t,u),t.stateNode===null)ga(e,t),Rd(t,r,o),Qu(t,r,o,u),o=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var x=d.context,w=r.contextType;typeof w=="object"&&w!==null?w=An(w):(w=nn(r)?si:Ft.current,w=qi(t,w));var v=r.getDerivedStateFromProps,_=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function";_||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==o||x!==w)&&Uh(t,d,o,w),vr=!1;var T=t.memoizedState;d.state=T,Da(t,o,d,u),x=t.memoizedState,m!==o||T!==x||tn.current||vr?(typeof v=="function"&&(qu(t,r,v,o),x=t.memoizedState),(m=vr||Fh(t,r,m,o,T,x,w))?(_||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=x),d.props=o,d.state=x,d.context=w,o=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,cd(e,t),m=t.memoizedProps,w=t.type===t.elementType?m:Rn(t.type,m),d.props=w,_=t.pendingProps,T=d.context,x=r.contextType,typeof x=="object"&&x!==null?x=An(x):(x=nn(r)?si:Ft.current,x=qi(t,x));var D=r.getDerivedStateFromProps;(v=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==_||T!==x)&&Uh(t,d,o,x),vr=!1,T=t.memoizedState,d.state=T,Da(t,o,d,u);var L=t.memoizedState;m!==_||T!==L||tn.current||vr?(typeof D=="function"&&(qu(t,r,D,o),L=t.memoizedState),(w=vr||Fh(t,r,w,o,T,L,x)||!1)?(v||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,L,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,L,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=L),d.props=o,d.state=L,d.context=x,o=w):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),o=!1)}return tc(e,t,r,o,c,u)}function tc(e,t,r,o,u,c){Ld(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return u&&Oh(t,r,!1),or(e,t,c);o=t.stateNode,km.current=t;var m=d&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=Ji(t,e.child,null,c),t.child=Ji(t,null,m,c)):Vt(e,t,m,c),t.memoizedState=o.state,u&&Oh(t,r,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?Nh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nh(e,t.context,!1),n0(e,t.containerInfo)}function Xh(e,t,r,o,u){return Qi(),Zc(u),t.flags|=256,Vt(e,t,r,o),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fd(e,t,r){var o=t.pendingProps,u=Je.current,c=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(u&2)!==0),m?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),We(Je,u&1),e===null)return Ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=o.children,e=o.fallback,c?(o=t.mode,c=t.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=sl(d,o,0,null),e=ii(e,o,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=rc(r),t.memoizedState=nc,e):c0(t,d));if(u=e.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return Dm(e,t,d,o,m,u,r);if(c){c=o.fallback,d=t.mode,u=e.child,m=u.sibling;var x={mode:"hidden",children:o.children};return!(d&1)&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=x,t.deletions=null):(o=Mr(u,x),o.subtreeFlags=u.subtreeFlags&14680064),m!==null?c=Mr(m,c):(c=ii(c,d,r,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,d=e.child.memoizedState,d=d===null?rc(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~r,t.memoizedState=nc,o}return c=e.child,e=c.sibling,o=Mr(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function c0(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qo(e,t,r,o){return o!==null&&Zc(o),Ji(t,e.child,null,r),e=c0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,r,o,u,c,d){if(r)return t.flags&256?(t.flags&=-257,o=lu(Error(Y(422))),Qo(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,u=t.mode,o=sl({mode:"visible",children:o.children},u,0,null),c=ii(c,u,d,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&Ji(t,e.child,null,d),t.child.memoizedState=rc(d),t.memoizedState=nc,c);if(!(t.mode&1))return Qo(e,t,d,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var m=o.dgst;return o=m,c=Error(Y(419)),o=lu(c,o,void 0),Qo(e,t,d,o)}if(m=(d&e.childLanes)!==0,en||m){if(o=At,o!==null){switch(d&-d){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(o.suspendedLanes|d)?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,sr(e,u),Ln(o,e,u,-1))}return m0(),o=lu(Error(Y(421))),Qo(e,t,d,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Xm.bind(null,e),u._reactRetry=t,null):(e=c.treeContext,cn=Rr(u.nextSibling),hn=t,Ze=!0,Pn=null,e!==null&&(vn[En++]=er,vn[En++]=tr,vn[En++]=oi,er=e.id,tr=e.overflow,oi=t),t=c0(t,o.children),t.flags|=4096,t)}function $h(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Zu(e.return,t,r)}function uu(e,t,r,o,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=r,c.tailMode=u)}function Ud(e,t,r){var o=t.pendingProps,u=o.revealOrder,c=o.tail;if(Vt(e,t,o.children,r),o=Je.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,r,t);else if(e.tag===19)$h(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(We(Je,o),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Pa(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),uu(t,!1,u,r,c);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Pa(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}uu(t,!0,r,null,c);break;case"together":uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function or(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),li|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Pm(e,t,r){switch(t.tag){case 3:Bd(t),Qi();break;case 5:hd(t);break;case 1:nn(t.type)&&ba(t);break;case 4:n0(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;We(Ra,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(We(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?Fd(e,t,r):(We(Je,Je.current&1),e=or(e,t,r),e!==null?e.sibling:null);We(Je,Je.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return Ud(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),We(Je,Je.current),o)break;return null;case 22:case 23:return t.lanes=0,Md(e,t,r)}return or(e,t,r)}var jd,ic,Vd,zd;jd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ic=function(){};Vd=function(e,t,r,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,ni(Kn.current);var c=null;switch(r){case"input":u=Iu(e,u),o=Iu(e,o),c=[];break;case"select":u=tt({},u,{value:void 0}),o=tt({},o,{value:void 0}),c=[];break;case"textarea":u=Nu(e,u),o=Nu(e,o),c=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ia)}Ru(r,o);var d;r=null;for(w in u)if(!o.hasOwnProperty(w)&&u.hasOwnProperty(w)&&u[w]!=null)if(w==="style"){var m=u[w];for(d in m)m.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Zs.hasOwnProperty(w)?c||(c=[]):(c=c||[]).push(w,null));for(w in o){var x=o[w];if(m=u!=null?u[w]:void 0,o.hasOwnProperty(w)&&x!==m&&(x!=null||m!=null))if(w==="style")if(m){for(d in m)!m.hasOwnProperty(d)||x&&x.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in x)x.hasOwnProperty(d)&&m[d]!==x[d]&&(r||(r={}),r[d]=x[d])}else r||(c||(c=[]),c.push(w,r)),r=x;else w==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(c=c||[]).push(w,x)):w==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(w,""+x):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Zs.hasOwnProperty(w)?(x!=null&&w==="onScroll"&&Ge("scroll",e),c||m===x||(c=[])):(c=c||[]).push(w,x))}r&&(c=c||[]).push("style",r);var w=c;(t.updateQueue=w)&&(t.flags|=4)}};zd=function(e,t,r,o){r!==o&&(t.flags|=4)};function Os(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Mm(e,t,r){var o=t.pendingProps;switch(Kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return nn(t.type)&&Ta(),Lt(t),null;case 3:return o=t.stateNode,es(),$e(tn),$e(Ft),i0(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(fc(Pn),Pn=null))),ic(e,t),Lt(t),null;case 5:r0(t);var u=ni(lo.current);if(r=t.type,e!==null&&t.stateNode!=null)Vd(e,t,r,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(Y(166));return Lt(t),null}if(e=ni(Kn.current),Zo(t)){o=t.stateNode,r=t.type;var c=t.memoizedProps;switch(o[$n]=t,o[oo]=c,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":case"embed":Ge("load",o);break;case"video":case"audio":for(u=0;u<Bs.length;u++)Ge(Bs[u],o);break;case"source":Ge("error",o);break;case"img":case"image":case"link":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"input":nh(o,c),Ge("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Ge("invalid",o);break;case"textarea":ih(o,c),Ge("invalid",o)}Ru(r,c),u=null;for(var d in c)if(c.hasOwnProperty(d)){var m=c[d];d==="children"?typeof m=="string"?o.textContent!==m&&(c.suppressHydrationWarning!==!0&&Ko(o.textContent,m,e),u=["children",m]):typeof m=="number"&&o.textContent!==""+m&&(c.suppressHydrationWarning!==!0&&Ko(o.textContent,m,e),u=["children",""+m]):Zs.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&Ge("scroll",o)}switch(r){case"input":Vo(o),rh(o,c,!0);break;case"textarea":Vo(o),sh(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Ia)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(r,{is:o.is}):(e=d.createElement(r),r==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,r),e[$n]=t,e[oo]=o,jd(e,t,!1,!1),t.stateNode=e;e:{switch(d=ku(r,o),r){case"dialog":Ge("cancel",e),Ge("close",e),u=o;break;case"iframe":case"object":case"embed":Ge("load",e),u=o;break;case"video":case"audio":for(u=0;u<Bs.length;u++)Ge(Bs[u],e);u=o;break;case"source":Ge("error",e),u=o;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),u=o;break;case"details":Ge("toggle",e),u=o;break;case"input":nh(e,o),u=Iu(e,o),Ge("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=tt({},o,{value:void 0}),Ge("invalid",e);break;case"textarea":ih(e,o),u=Nu(e,o),Ge("invalid",e);break;default:u=o}Ru(r,u),m=u;for(c in m)if(m.hasOwnProperty(c)){var x=m[c];c==="style"?yf(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&xf(e,x)):c==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&qs(e,x):typeof x=="number"&&qs(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zs.hasOwnProperty(c)?x!=null&&c==="onScroll"&&Ge("scroll",e):x!=null&&Pc(e,c,x,d))}switch(r){case"input":Vo(e),rh(e,o,!1);break;case"textarea":Vo(e),sh(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Br(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?Wi(e,!!o.multiple,c,!1):o.defaultValue!=null&&Wi(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ia)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)zd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(Y(166));if(r=ni(lo.current),ni(Kn.current),Zo(t)){if(o=t.stateNode,r=t.memoizedProps,o[$n]=t,(c=o.nodeValue!==r)&&(e=hn,e!==null))switch(e.tag){case 3:Ko(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(o.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[$n]=t,t.stateNode=o}return Lt(t),null;case 13:if($e(Je),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&cn!==null&&t.mode&1&&!(t.flags&128))od(),Qi(),t.flags|=98560,c=!1;else if(c=Zo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(Y(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(Y(317));c[$n]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),c=!1}else Pn!==null&&(fc(Pn),Pn=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?wt===0&&(wt=3):m0())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return es(),ic(e,t),e===null&&io(t.stateNode.containerInfo),Lt(t),null;case 10:return Jc(t.type._context),Lt(t),null;case 17:return nn(t.type)&&Ta(),Lt(t),null;case 19:if($e(Je),c=t.memoizedState,c===null)return Lt(t),null;if(o=(t.flags&128)!==0,d=c.rendering,d===null)if(o)Os(c,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Pa(e),d!==null){for(t.flags|=128,Os(c,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)c=r,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Je,Je.current&1|2),t.child}e=e.sibling}c.tail!==null&&ct()>ns&&(t.flags|=128,o=!0,Os(c,!1),t.lanes=4194304)}else{if(!o)if(e=Pa(d),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Os(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ze)return Lt(t),null}else 2*ct()-c.renderingStartTime>ns&&r!==1073741824&&(t.flags|=128,o=!0,Os(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(r=c.last,r!==null?r.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ct(),t.sibling=null,r=Je.current,We(Je,o?r&1|2:r&1),t):(Lt(t),null);case 22:case 23:return p0(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?un&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function Lm(e,t){switch(Kc(t),t.tag){case 1:return nn(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),$e(tn),$e(Ft),i0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return r0(t),null;case 13:if($e(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Je),null;case 4:return es(),null;case 10:return Jc(t.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var Jo=!1,Bt=!1,Bm=typeof WeakSet=="function"?WeakSet:Set,se=null;function ji(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){at(e,t,o)}else r.current=null}function sc(e,t,r){try{r()}catch(o){at(e,t,o)}}var Yh=!1;function Fm(e,t){if(zu=_a,e=$f(),$c(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var d=0,m=-1,x=-1,w=0,v=0,_=e,T=null;t:for(;;){for(var D;_!==r||u!==0&&_.nodeType!==3||(m=d+u),_!==c||o!==0&&_.nodeType!==3||(x=d+o),_.nodeType===3&&(d+=_.nodeValue.length),(D=_.firstChild)!==null;)T=_,_=D;for(;;){if(_===e)break t;if(T===r&&++w===u&&(m=d),T===c&&++v===o&&(x=d),(D=_.nextSibling)!==null)break;_=T,T=_.parentNode}_=D}r=m===-1||x===-1?null:{start:m,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wu={focusedElem:e,selectionRange:r},_a=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var L=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var P=L.memoizedProps,H=L.memoizedState,N=t.stateNode,b=N.getSnapshotBeforeUpdate(t.elementType===t.type?P:Rn(t.type,P),H);N.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(U){at(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return L=Yh,Yh=!1,L}function Gs(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&sc(t,r,c)}u=u.next}while(u!==o)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function oc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wd(e){var t=e.alternate;t!==null&&(e.alternate=null,Wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[oo],delete t[Xu],delete t[vm],delete t[Em])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hd(e){return e.tag===5||e.tag===3||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ia));else if(o!==4&&(e=e.child,e!==null))for(ac(e,t,r),e=e.sibling;e!==null;)ac(e,t,r),e=e.sibling}function lc(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(lc(e,t,r),e=e.sibling;e!==null;)lc(e,t,r),e=e.sibling}var Nt=null,kn=!1;function mr(e,t,r){for(r=r.child;r!==null;)Gd(e,t,r),r=r.sibling}function Gd(e,t,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ka,r)}catch{}switch(r.tag){case 5:Bt||ji(r,t);case 6:var o=Nt,u=kn;Nt=null,mr(e,t,r),Nt=o,kn=u,Nt!==null&&(kn?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(kn?(e=Nt,r=r.stateNode,e.nodeType===8?nu(e.parentNode,r):e.nodeType===1&&nu(e,r),to(e)):nu(Nt,r.stateNode));break;case 4:o=Nt,u=kn,Nt=r.stateNode.containerInfo,kn=!0,mr(e,t,r),Nt=o,kn=u;break;case 0:case 11:case 14:case 15:if(!Bt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var c=u,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&sc(r,t,d),u=u.next}while(u!==o)}mr(e,t,r);break;case 1:if(!Bt&&(ji(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(m){at(r,t,m)}mr(e,t,r);break;case 21:mr(e,t,r);break;case 22:r.mode&1?(Bt=(o=Bt)||r.memoizedState!==null,mr(e,t,r),Bt=o):mr(e,t,r);break;default:mr(e,t,r)}}function Zh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bm),t.forEach(function(o){var u=$m.bind(null,e,o);r.has(o)||(r.add(o),o.then(u,u))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];try{var c=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Nt=m.stateNode,kn=!1;break e;case 3:Nt=m.stateNode.containerInfo,kn=!0;break e;case 4:Nt=m.stateNode.containerInfo,kn=!0;break e}m=m.return}if(Nt===null)throw Error(Y(160));Gd(c,d,u),Nt=null,kn=!1;var x=u.alternate;x!==null&&(x.return=null),u.return=null}catch(w){at(u,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xd(t,e),t=t.sibling}function Xd(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Gn(e),o&4){try{Gs(3,e,e.return),rl(3,e)}catch(P){at(e,e.return,P)}try{Gs(5,e,e.return)}catch(P){at(e,e.return,P)}}break;case 1:Nn(t,e),Gn(e),o&512&&r!==null&&ji(r,r.return);break;case 5:if(Nn(t,e),Gn(e),o&512&&r!==null&&ji(r,r.return),e.flags&32){var u=e.stateNode;try{qs(u,"")}catch(P){at(e,e.return,P)}}if(o&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,d=r!==null?r.memoizedProps:c,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&c.type==="radio"&&c.name!=null&&gf(u,c),ku(m,d);var w=ku(m,c);for(d=0;d<x.length;d+=2){var v=x[d],_=x[d+1];v==="style"?yf(u,_):v==="dangerouslySetInnerHTML"?xf(u,_):v==="children"?qs(u,_):Pc(u,v,_,w)}switch(m){case"input":Tu(u,c);break;case"textarea":pf(u,c);break;case"select":var T=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var D=c.value;D!=null?Wi(u,!!c.multiple,D,!1):T!==!!c.multiple&&(c.defaultValue!=null?Wi(u,!!c.multiple,c.defaultValue,!0):Wi(u,!!c.multiple,c.multiple?[]:"",!1))}u[oo]=c}catch(P){at(e,e.return,P)}}break;case 6:if(Nn(t,e),Gn(e),o&4){if(e.stateNode===null)throw Error(Y(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(P){at(e,e.return,P)}}break;case 3:if(Nn(t,e),Gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(P){at(e,e.return,P)}break;case 4:Nn(t,e),Gn(e);break;case 13:Nn(t,e),Gn(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(d0=ct())),o&4&&Zh(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(w=Bt)||v,Nn(t,e),Bt=w):Nn(t,e),Gn(e),o&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!v&&e.mode&1)for(se=e,v=e.child;v!==null;){for(_=se=v;se!==null;){switch(T=se,D=T.child,T.tag){case 0:case 11:case 14:case 15:Gs(4,T,T.return);break;case 1:ji(T,T.return);var L=T.stateNode;if(typeof L.componentWillUnmount=="function"){o=T,r=T.return;try{t=o,L.props=t.memoizedProps,L.state=t.memoizedState,L.componentWillUnmount()}catch(P){at(o,r,P)}}break;case 5:ji(T,T.return);break;case 22:if(T.memoizedState!==null){Qh(_);continue}}D!==null?(D.return=T,se=D):Qh(_)}v=v.sibling}e:for(v=null,_=e;;){if(_.tag===5){if(v===null){v=_;try{u=_.stateNode,w?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(m=_.stateNode,x=_.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=wf("display",d))}catch(P){at(e,e.return,P)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=w?"":_.memoizedProps}catch(P){at(e,e.return,P)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Nn(t,e),Gn(e),o&4&&Zh(e);break;case 21:break;default:Nn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hd(r)){var o=r;break e}r=r.return}throw Error(Y(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(qs(u,""),o.flags&=-33);var c=Kh(e);lc(e,c,u);break;case 3:case 4:var d=o.stateNode.containerInfo,m=Kh(e);ac(e,m,d);break;default:throw Error(Y(161))}}catch(x){at(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e,t,r){se=e,$d(e)}function $d(e,t,r){for(var o=(e.mode&1)!==0;se!==null;){var u=se,c=u.child;if(u.tag===22&&o){var d=u.memoizedState!==null||Jo;if(!d){var m=u.alternate,x=m!==null&&m.memoizedState!==null||Bt;m=Jo;var w=Bt;if(Jo=d,(Bt=x)&&!w)for(se=u;se!==null;)d=se,x=d.child,d.tag===22&&d.memoizedState!==null?Jh(u):x!==null?(x.return=d,se=x):Jh(u);for(;c!==null;)se=c,$d(c),c=c.sibling;se=u,Jo=m,Bt=w}qh(e)}else u.subtreeFlags&8772&&c!==null?(c.return=u,se=c):qh(e)}}function qh(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||rl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Bt)if(r===null)o.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Rn(t.type,r.memoizedProps);o.componentDidUpdate(u,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Mh(t,c,o);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mh(t,d,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var v=w.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&to(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Bt||t.flags&512&&oc(t)}catch(T){at(t,t.return,T)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Qh(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Jh(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(x){at(t,r,x)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(x){at(t,u,x)}}var c=t.return;try{oc(t)}catch(x){at(t,c,x)}break;case 5:var d=t.return;try{oc(t)}catch(x){at(t,d,x)}}}catch(x){at(t,t.return,x)}if(t===e){se=null;break}var m=t.sibling;if(m!==null){m.return=t.return,se=m;break}se=t.return}}var jm=Math.ceil,Ba=ar.ReactCurrentDispatcher,h0=ar.ReactCurrentOwner,_n=ar.ReactCurrentBatchConfig,Ne=0,At=null,ft=null,Rt=0,un=0,Vi=jr(0),wt=0,fo=null,li=0,il=0,f0=0,Xs=null,Qt=null,d0=0,ns=1/0,Qn=null,Fa=!1,uc=null,Dr=null,ea=!1,Ir=null,Ua=0,$s=0,cc=null,pa=-1,ma=0;function zt(){return Ne&6?ct():pa!==-1?pa:pa=ct()}function Pr(e){return e.mode&1?Ne&2&&Rt!==0?Rt&-Rt:_m.transition!==null?(ma===0&&(ma=Rf()),ma):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Ff(e.type)),e):1}function Ln(e,t,r,o){if(50<$s)throw $s=0,cc=null,Error(Y(185));yo(e,r,o),(!(Ne&2)||e!==At)&&(e===At&&(!(Ne&2)&&(il|=r),wt===4&&_r(e,Rt)),rn(e,o),r===1&&Ne===0&&!(t.mode&1)&&(ns=ct()+500,el&&Vr()))}function rn(e,t){var r=e.callbackNode;_p(e,t);var o=Ca(e,e===At?Rt:0);if(o===0)r!==null&&lh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&lh(r),t===1)e.tag===0?Cm(e1.bind(null,e)):rd(e1.bind(null,e)),wm(function(){!(Ne&6)&&Vr()}),r=null;else{switch(kf(o)){case 1:r=Uc;break;case 4:r=Nf;break;case 16:r=Ea;break;case 536870912:r=Of;break;default:r=Ea}r=tg(r,Yd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yd(e,t){if(pa=-1,ma=0,Ne&6)throw Error(Y(327));var r=e.callbackNode;if(Yi()&&e.callbackNode!==r)return null;var o=Ca(e,e===At?Rt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=ja(e,o);else{t=o;var u=Ne;Ne|=2;var c=Zd();(At!==e||Rt!==t)&&(Qn=null,ns=ct()+500,ri(e,t));do try{Wm();break}catch(m){Kd(e,m)}while(!0);Qc(),Ba.current=c,Ne=u,ft!==null?t=0:(At=null,Rt=0,t=wt)}if(t!==0){if(t===2&&(u=Bu(e),u!==0&&(o=u,t=hc(e,u))),t===1)throw r=fo,ri(e,0),_r(e,o),rn(e,ct()),r;if(t===6)_r(e,o);else{if(u=e.current.alternate,!(o&30)&&!Vm(u)&&(t=ja(e,o),t===2&&(c=Bu(e),c!==0&&(o=c,t=hc(e,c))),t===1))throw r=fo,ri(e,0),_r(e,o),rn(e,ct()),r;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(Y(345));case 2:qr(e,Qt,Qn);break;case 3:if(_r(e,o),(o&130023424)===o&&(t=d0+500-ct(),10<t)){if(Ca(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){zt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Gu(qr.bind(null,e,Qt,Qn),t);break}qr(e,Qt,Qn);break;case 4:if(_r(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var d=31-Mn(o);c=1<<d,d=t[d],d>u&&(u=d),o&=~c}if(o=u,o=ct()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*jm(o/1960))-o,10<o){e.timeoutHandle=Gu(qr.bind(null,e,Qt,Qn),o);break}qr(e,Qt,Qn);break;case 5:qr(e,Qt,Qn);break;default:throw Error(Y(329))}}}return rn(e,ct()),e.callbackNode===r?Yd.bind(null,e):null}function hc(e,t){var r=Xs;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=ja(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&fc(t)),e}function fc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Vm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var u=r[o],c=u.getSnapshot;u=u.value;try{if(!Bn(c(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~f0,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Mn(t),o=1<<r;e[r]=-1,t&=~o}}function e1(e){if(Ne&6)throw Error(Y(327));Yi();var t=Ca(e,0);if(!(t&1))return rn(e,ct()),null;var r=ja(e,t);if(e.tag!==0&&r===2){var o=Bu(e);o!==0&&(t=o,r=hc(e,o))}if(r===1)throw r=fo,ri(e,0),_r(e,t),rn(e,ct()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,Qt,Qn),rn(e,ct()),null}function g0(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(ns=ct()+500,el&&Vr())}}function ui(e){Ir!==null&&Ir.tag===0&&!(Ne&6)&&Yi();var t=Ne;Ne|=1;var r=_n.transition,o=Pe;try{if(_n.transition=null,Pe=1,e)return e()}finally{Pe=o,_n.transition=r,Ne=t,!(Ne&6)&&Vr()}}function p0(){un=Vi.current,$e(Vi)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xm(r)),ft!==null)for(r=ft.return;r!==null;){var o=r;switch(Kc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ta();break;case 3:es(),$e(tn),$e(Ft),i0();break;case 5:r0(o);break;case 4:es();break;case 13:$e(Je);break;case 19:$e(Je);break;case 10:Jc(o.type._context);break;case 22:case 23:p0()}r=r.return}if(At=e,ft=e=Mr(e.current,null),Rt=un=t,wt=0,fo=null,f0=il=li=0,Qt=Xs=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],o=r.interleaved,o!==null){r.interleaved=null;var u=o.next,c=r.pending;if(c!==null){var d=c.next;c.next=u,o.next=d}r.pending=o}ti=null}return e}function Kd(e,t){do{var r=ft;try{if(Qc(),fa.current=La,Ma){for(var o=et.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Ma=!1}if(ai=0,_t=xt=et=null,Hs=!1,uo=0,h0.current=null,r===null||r.return===null){wt=1,fo=t,ft=null;break}e:{var c=e,d=r.return,m=r,x=t;if(t=Rt,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var w=x,v=m,_=v.tag;if(!(v.mode&1)&&(_===0||_===11||_===15)){var T=v.alternate;T?(v.updateQueue=T.updateQueue,v.memoizedState=T.memoizedState,v.lanes=T.lanes):(v.updateQueue=null,v.memoizedState=null)}var D=Vh(d);if(D!==null){D.flags&=-257,zh(D,d,m,c,t),D.mode&1&&jh(c,w,t),t=D,x=w;var L=t.updateQueue;if(L===null){var P=new Set;P.add(x),t.updateQueue=P}else L.add(x);break e}else{if(!(t&1)){jh(c,w,t),m0();break e}x=Error(Y(426))}}else if(Ze&&m.mode&1){var H=Vh(d);if(H!==null){!(H.flags&65536)&&(H.flags|=256),zh(H,d,m,c,t),Zc(ts(x,m));break e}}c=x=ts(x,m),wt!==4&&(wt=2),Xs===null?Xs=[c]:Xs.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var N=kd(c,x,t);Ph(c,N);break e;case 1:m=x;var b=c.type,O=c.stateNode;if(!(c.flags&128)&&(typeof b.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Dr===null||!Dr.has(O)))){c.flags|=65536,t&=-t,c.lanes|=t;var U=Dd(c,m,t);Ph(c,U);break e}}c=c.return}while(c!==null)}Qd(r)}catch(K){t=K,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function Zd(){var e=Ba.current;return Ba.current=La,e===null?La:e}function m0(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||!(li&268435455)&&!(il&268435455)||_r(At,Rt)}function ja(e,t){var r=Ne;Ne|=2;var o=Zd();(At!==e||Rt!==t)&&(Qn=null,ri(e,t));do try{zm();break}catch(u){Kd(e,u)}while(!0);if(Qc(),Ne=r,Ba.current=o,ft!==null)throw Error(Y(261));return At=null,Rt=0,wt}function zm(){for(;ft!==null;)qd(ft)}function Wm(){for(;ft!==null&&!gp();)qd(ft)}function qd(e){var t=eg(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?Qd(e):ft=t,h0.current=null}function Qd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lm(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ft=null;return}}else if(r=Mm(r,t,un),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);wt===0&&(wt=5)}function qr(e,t,r){var o=Pe,u=_n.transition;try{_n.transition=null,Pe=1,Hm(e,t,r,o)}finally{_n.transition=u,Pe=o}return null}function Hm(e,t,r,o){do Yi();while(Ir!==null);if(Ne&6)throw Error(Y(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(Ap(e,c),e===At&&(ft=At=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,tg(Ea,function(){return Yi(),null})),c=(r.flags&15990)!==0,r.subtreeFlags&15990||c){c=_n.transition,_n.transition=null;var d=Pe;Pe=1;var m=Ne;Ne|=4,h0.current=null,Fm(e,r),Xd(r,e),cm(Wu),_a=!!zu,Wu=zu=null,e.current=r,Um(r),pp(),Ne=m,Pe=d,_n.transition=c}else e.current=r;if(ea&&(ea=!1,Ir=e,Ua=u),c=e.pendingLanes,c===0&&(Dr=null),wp(r.stateNode),rn(e,ct()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],o(u.value,{componentStack:u.stack,digest:u.digest});if(Fa)throw Fa=!1,e=uc,uc=null,e;return Ua&1&&e.tag!==0&&Yi(),c=e.pendingLanes,c&1?e===cc?$s++:($s=0,cc=e):$s=0,Vr(),null}function Yi(){if(Ir!==null){var e=kf(Ua),t=_n.transition,r=Pe;try{if(_n.transition=null,Pe=16>e?16:e,Ir===null)var o=!1;else{if(e=Ir,Ir=null,Ua=0,Ne&6)throw Error(Y(331));var u=Ne;for(Ne|=4,se=e.current;se!==null;){var c=se,d=c.child;if(se.flags&16){var m=c.deletions;if(m!==null){for(var x=0;x<m.length;x++){var w=m[x];for(se=w;se!==null;){var v=se;switch(v.tag){case 0:case 11:case 15:Gs(8,v,c)}var _=v.child;if(_!==null)_.return=v,se=_;else for(;se!==null;){v=se;var T=v.sibling,D=v.return;if(Wd(v),v===w){se=null;break}if(T!==null){T.return=D,se=T;break}se=D}}}var L=c.alternate;if(L!==null){var P=L.child;if(P!==null){L.child=null;do{var H=P.sibling;P.sibling=null,P=H}while(P!==null)}}se=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,se=d;else e:for(;se!==null;){if(c=se,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Gs(9,c,c.return)}var N=c.sibling;if(N!==null){N.return=c.return,se=N;break e}se=c.return}}var b=e.current;for(se=b;se!==null;){d=se;var O=d.child;if(d.subtreeFlags&2064&&O!==null)O.return=d,se=O;else e:for(d=b;se!==null;){if(m=se,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:rl(9,m)}}catch(K){at(m,m.return,K)}if(m===d){se=null;break e}var U=m.sibling;if(U!==null){U.return=m.return,se=U;break e}se=m.return}}if(Ne=u,Vr(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ka,e)}catch{}o=!0}return o}finally{Pe=r,_n.transition=t}}return!1}function t1(e,t,r){t=ts(r,t),t=kd(e,t,1),e=kr(e,t,1),t=zt(),e!==null&&(yo(e,1,t),rn(e,t))}function at(e,t,r){if(e.tag===3)t1(e,e,r);else for(;t!==null;){if(t.tag===3){t1(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=ts(r,e),e=Dd(t,e,1),t=kr(t,e,1),e=zt(),t!==null&&(yo(t,1,e),rn(t,e));break}}t=t.return}}function Gm(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,At===e&&(Rt&r)===r&&(wt===4||wt===3&&(Rt&130023424)===Rt&&500>ct()-d0?ri(e,0):f0|=r),rn(e,t)}function Jd(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var r=zt();e=sr(e,t),e!==null&&(yo(e,t,r),rn(e,r))}function Xm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jd(e,r)}function $m(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(Y(314))}o!==null&&o.delete(t),Jd(e,r)}var eg;eg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)en=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return en=!1,Pm(e,t,r);en=!!(e.flags&131072)}else en=!1,Ze&&t.flags&1048576&&id(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ga(e,t),e=t.pendingProps;var u=qi(t,Ft.current);$i(t,r),u=o0(null,t,o,e,u,r);var c=a0();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(o)?(c=!0,ba(t)):c=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,t0(t),u.updater=nl,t.stateNode=u,u._reactInternals=t,Qu(t,o,e,r),t=tc(null,t,o,!0,c,r)):(t.tag=0,Ze&&c&&Yc(t),Vt(null,t,u,r),t=t.child),t;case 16:o=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=Km(o),e=Rn(o,e),u){case 0:t=ec(null,t,o,e,r);break e;case 1:t=Gh(null,t,o,e,r);break e;case 11:t=Wh(null,t,o,e,r);break e;case 14:t=Hh(null,t,o,Rn(o.type,e),r);break e}throw Error(Y(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Rn(o,u),ec(e,t,o,u,r);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Rn(o,u),Gh(e,t,o,u,r);case 3:e:{if(Bd(t),e===null)throw Error(Y(387));o=t.pendingProps,c=t.memoizedState,u=c.element,cd(e,t),Da(t,o,null,r);var d=t.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){u=ts(Error(Y(423)),t),t=Xh(e,t,o,r,u);break e}else if(o!==u){u=ts(Error(Y(424)),t),t=Xh(e,t,o,r,u);break e}else for(cn=Rr(t.stateNode.containerInfo.firstChild),hn=t,Ze=!0,Pn=null,r=ld(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qi(),o===u){t=or(e,t,r);break e}Vt(e,t,o,r)}t=t.child}return t;case 5:return hd(t),e===null&&Ku(t),o=t.type,u=t.pendingProps,c=e!==null?e.memoizedProps:null,d=u.children,Hu(o,u)?d=null:c!==null&&Hu(o,c)&&(t.flags|=32),Ld(e,t),Vt(e,t,d,r),t.child;case 6:return e===null&&Ku(t),null;case 13:return Fd(e,t,r);case 4:return n0(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ji(t,null,o,r):Vt(e,t,o,r),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Rn(o,u),Wh(e,t,o,u,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,c=t.memoizedProps,d=u.value,We(Ra,o._currentValue),o._currentValue=d,c!==null)if(Bn(c.value,d)){if(c.children===u.children&&!tn.current){t=or(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var m=c.dependencies;if(m!==null){d=c.child;for(var x=m.firstContext;x!==null;){if(x.context===o){if(c.tag===1){x=nr(-1,r&-r),x.tag=2;var w=c.updateQueue;if(w!==null){w=w.shared;var v=w.pending;v===null?x.next=x:(x.next=v.next,v.next=x),w.pending=x}}c.lanes|=r,x=c.alternate,x!==null&&(x.lanes|=r),Zu(c.return,r,t),m.lanes|=r;break}x=x.next}}else if(c.tag===10)d=c.type===t.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(Y(341));d.lanes|=r,m=d.alternate,m!==null&&(m.lanes|=r),Zu(d,r,t),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Vt(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,$i(t,r),u=An(u),o=o(u),t.flags|=1,Vt(e,t,o,r),t.child;case 14:return o=t.type,u=Rn(o,t.pendingProps),u=Rn(o.type,u),Hh(e,t,o,u,r);case 15:return Pd(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Rn(o,u),ga(e,t),t.tag=1,nn(o)?(e=!0,ba(t)):e=!1,$i(t,r),Rd(t,o,u),Qu(t,o,u,r),tc(null,t,o,!0,e,r);case 19:return Ud(e,t,r);case 22:return Md(e,t,r)}throw Error(Y(156,t.tag))};function tg(e,t){return bf(e,t)}function Ym(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,r,o){return new Ym(e,t,r,o)}function x0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Km(e){if(typeof e=="function")return x0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lc)return 11;if(e===Bc)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=Cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xa(e,t,r,o,u,c){var d=2;if(o=e,typeof e=="function")x0(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Ri:return ii(r.children,u,c,t);case Mc:d=8,u|=8;break;case Cu:return e=Cn(12,r,t,u|2),e.elementType=Cu,e.lanes=c,e;case _u:return e=Cn(13,r,t,u),e.elementType=_u,e.lanes=c,e;case Au:return e=Cn(19,r,t,u),e.elementType=Au,e.lanes=c,e;case hf:return sl(r,u,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uf:d=10;break e;case cf:d=9;break e;case Lc:d=11;break e;case Bc:d=14;break e;case yr:d=16,o=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Cn(d,r,t,u),t.elementType=e,t.type=o,t.lanes=c,t}function ii(e,t,r,o){return e=Cn(7,e,o,t),e.lanes=r,e}function sl(e,t,r,o){return e=Cn(22,e,o,t),e.elementType=hf,e.lanes=r,e.stateNode={isHidden:!1},e}function cu(e,t,r){return e=Cn(6,e,null,t),e.lanes=r,e}function hu(e,t,r){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,r,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function w0(e,t,r,o,u,c,d,m,x){return e=new Zm(e,t,r,m,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=Cn(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(c),e}function qm(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function ng(e){if(!e)return Fr;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(nn(r))return nd(e,r,t)}return t}function rg(e,t,r,o,u,c,d,m,x){return e=w0(r,o,!0,e,u,c,d,m,x),e.context=ng(null),r=e.current,o=zt(),u=Pr(r),c=nr(o,u),c.callback=t??null,kr(r,c,u),e.current.lanes=u,yo(e,u,o),rn(e,o),e}function ol(e,t,r,o){var u=t.current,c=zt(),d=Pr(u);return r=ng(r),t.context===null?t.context=r:t.pendingContext=r,t=nr(c,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=kr(u,t,d),e!==null&&(Ln(e,u,d,c),ha(e,u,d)),d}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function n1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function y0(e,t){n1(e,t),(e=e.alternate)&&n1(e,t)}function Qm(){return null}var ig=typeof reportError=="function"?reportError:function(e){console.error(e)};function v0(e){this._internalRoot=e}al.prototype.render=v0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));ol(e,t,null,null)};al.prototype.unmount=v0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ui(function(){ol(null,e,null,null)}),t[ir]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cr.length&&t!==0&&t<Cr[r].priority;r++);Cr.splice(r,0,e),r===0&&Bf(e)}};function E0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r1(){}function Jm(e,t,r,o,u){if(u){if(typeof o=="function"){var c=o;o=function(){var w=Va(d);c.call(w)}}var d=rg(t,o,e,0,null,!1,!1,"",r1);return e._reactRootContainer=d,e[ir]=d.current,io(e.nodeType===8?e.parentNode:e),ui(),d}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var m=o;o=function(){var w=Va(x);m.call(w)}}var x=w0(e,0,!1,null,null,!1,!1,"",r1);return e._reactRootContainer=x,e[ir]=x.current,io(e.nodeType===8?e.parentNode:e),ui(function(){ol(t,x,r,o)}),x}function ul(e,t,r,o,u){var c=r._reactRootContainer;if(c){var d=c;if(typeof u=="function"){var m=u;u=function(){var x=Va(d);m.call(x)}}ol(t,d,e,u)}else d=Jm(r,t,e,u,o);return Va(d)}Df=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ls(t.pendingLanes);r!==0&&(jc(t,r|1),rn(t,ct()),!(Ne&6)&&(ns=ct()+500,Vr()))}break;case 13:ui(function(){var o=sr(e,1);if(o!==null){var u=zt();Ln(o,e,1,u)}}),y0(e,1)}};Vc=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var r=zt();Ln(t,e,134217728,r)}y0(e,134217728)}};Pf=function(e){if(e.tag===13){var t=Pr(e),r=sr(e,t);if(r!==null){var o=zt();Ln(r,e,t,o)}y0(e,t)}};Mf=function(){return Pe};Lf=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};Pu=function(e,t,r){switch(t){case"input":if(Tu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var u=Ja(o);if(!u)throw Error(Y(90));df(o),Tu(o,u)}}}break;case"textarea":pf(e,r);break;case"select":t=r.value,t!=null&&Wi(e,!!r.multiple,t,!1)}};Cf=g0;_f=ui;var ex={usingClientEntryPoint:!1,Events:[Eo,Mi,Ja,vf,Ef,g0]},Rs={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tx={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=If(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||Qm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Ka=ta.inject(tx),Yn=ta}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ex;dn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(t))throw Error(Y(200));return qm(e,t,null,r)};dn.createRoot=function(e,t){if(!E0(e))throw Error(Y(299));var r=!1,o="",u=ig;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=w0(e,1,!1,null,null,r,!1,o,u),e[ir]=t.current,io(e.nodeType===8?e.parentNode:e),new v0(t)};dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=If(t),e=e===null?null:e.stateNode,e};dn.flushSync=function(e){return ui(e)};dn.hydrate=function(e,t,r){if(!ll(t))throw Error(Y(200));return ul(null,e,t,!0,r)};dn.hydrateRoot=function(e,t,r){if(!E0(e))throw Error(Y(405));var o=r!=null&&r.hydratedSources||null,u=!1,c="",d=ig;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=rg(t,null,e,1,r??null,u,!1,c,d),e[ir]=t.current,io(e),o)for(e=0;e<o.length;e++)r=o[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new al(t)};dn.render=function(e,t,r){if(!ll(t))throw Error(Y(200));return ul(null,e,t,!1,r)};dn.unmountComponentAtNode=function(e){if(!ll(e))throw Error(Y(40));return e._reactRootContainer?(ui(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};dn.unstable_batchedUpdates=g0;dn.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!ll(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return ul(e,t,r,!1,o)};dn.version="18.3.1-next-f1338f8080-20240426";function sg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sg)}catch(e){console.error(e)}}sg(),sf.exports=dn;var nx=sf.exports,og,i1=nx;og=i1.createRoot,i1.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},go.apply(this,arguments)}var Tr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tr||(Tr={}));const s1="popstate";function rx(e){e===void 0&&(e={});function t(o,u){let{pathname:c,search:d,hash:m}=o.location;return dc("",{pathname:c,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){return typeof u=="string"?u:za(u)}return sx(t,r,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ag(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ix(){return Math.random().toString(36).substr(2,8)}function o1(e,t){return{usr:e.state,key:e.key,idx:t}}function dc(e,t,r,o){return r===void 0&&(r=null),go({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?us(t):t,{state:r,key:t&&t.key||o||ix()})}function za(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function sx(e,t,r,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:c=!1}=o,d=u.history,m=Tr.Pop,x=null,w=v();w==null&&(w=0,d.replaceState(go({},d.state,{idx:w}),""));function v(){return(d.state||{idx:null}).idx}function _(){m=Tr.Pop;let H=v(),N=H==null?null:H-w;w=H,x&&x({action:m,location:P.location,delta:N})}function T(H,N){m=Tr.Push;let b=dc(P.location,H,N);w=v()+1;let O=o1(b,w),U=P.createHref(b);try{d.pushState(O,"",U)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;u.location.assign(U)}c&&x&&x({action:m,location:P.location,delta:1})}function D(H,N){m=Tr.Replace;let b=dc(P.location,H,N);w=v();let O=o1(b,w),U=P.createHref(b);d.replaceState(O,"",U),c&&x&&x({action:m,location:P.location,delta:0})}function L(H){let N=u.location.origin!=="null"?u.location.origin:u.location.href,b=typeof H=="string"?H:za(H);return b=b.replace(/ $/,"%20"),dt(N,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,N)}let P={get action(){return m},get location(){return e(u,d)},listen(H){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(s1,_),x=H,()=>{u.removeEventListener(s1,_),x=null}},createHref(H){return t(u,H)},createURL:L,encodeLocation(H){let N=L(H);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:T,replace:D,go(H){return d.go(H)}};return P}var a1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(a1||(a1={}));function ox(e,t,r){return r===void 0&&(r="/"),ax(e,t,r,!1)}function ax(e,t,r,o){let u=typeof t=="string"?us(t):t,c=C0(u.pathname||"/",r);if(c==null)return null;let d=lg(e);lx(d);let m=null;for(let x=0;m==null&&x<d.length;++x){let w=yx(c);m=xx(d[x],w,o)}return m}function lg(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let u=(c,d,m)=>{let x={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};x.relativePath.startsWith("/")&&(dt(x.relativePath.startsWith(o),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(o.length));let w=Lr([o,x.relativePath]),v=r.concat(x);c.children&&c.children.length>0&&(dt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),lg(c.children,t,v,w)),!(c.path==null&&!c.index)&&t.push({path:w,score:px(w,c.index),routesMeta:v})};return e.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))u(c,d);else for(let x of ug(c.path))u(c,d,x)}),t}function ug(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return u?[c,""]:[c];let d=ug(o.join("/")),m=[];return m.push(...d.map(x=>x===""?c:[c,x].join("/"))),u&&m.push(...d),m.map(x=>e.startsWith("/")&&x===""?"/":x)}function lx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mx(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const ux=/^:[\w-]+$/,cx=3,hx=2,fx=1,dx=10,gx=-2,l1=e=>e==="*";function px(e,t){let r=e.split("/"),o=r.length;return r.some(l1)&&(o+=gx),t&&(o+=hx),r.filter(u=>!l1(u)).reduce((u,c)=>u+(ux.test(c)?cx:c===""?fx:dx),o)}function mx(e,t){return e.length===t.length&&e.slice(0,-1).every((o,u)=>o===t[u])?e[e.length-1]-t[t.length-1]:0}function xx(e,t,r){let{routesMeta:o}=e,u={},c="/",d=[];for(let m=0;m<o.length;++m){let x=o[m],w=m===o.length-1,v=c==="/"?t:t.slice(c.length)||"/",_=u1({path:x.relativePath,caseSensitive:x.caseSensitive,end:w},v),T=x.route;if(!_&&w&&r&&!o[o.length-1].route.index&&(_=u1({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!_)return null;Object.assign(u,_.params),d.push({params:u,pathname:Lr([c,_.pathname]),pathnameBase:_x(Lr([c,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(c=Lr([c,_.pathnameBase]))}return d}function u1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=wx(e.path,e.caseSensitive,e.end),u=t.match(r);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:o.reduce((w,v,_)=>{let{paramName:T,isOptional:D}=v;if(T==="*"){let P=m[_]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const L=m[_];return D&&!L?w[T]=void 0:w[T]=(L||"").replace(/%2F/g,"/"),w},{}),pathname:c,pathnameBase:d,pattern:e}}function wx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ag(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,x)=>(o.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),o]}function yx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ag(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function C0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function vx(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:u=""}=typeof e=="string"?us(e):e;return{pathname:r?r.startsWith("/")?r:Ex(r,t):t,search:Ax(o),hash:Sx(u)}}function Ex(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function fu(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cg(e,t){let r=Cx(e);return t?r.map((o,u)=>u===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function hg(e,t,r,o){o===void 0&&(o=!1);let u;typeof e=="string"?u=us(e):(u=go({},e),dt(!u.pathname||!u.pathname.includes("?"),fu("?","pathname","search",u)),dt(!u.pathname||!u.pathname.includes("#"),fu("#","pathname","hash",u)),dt(!u.search||!u.search.includes("#"),fu("#","search","hash",u)));let c=e===""||u.pathname==="",d=c?"/":u.pathname,m;if(d==null)m=r;else{let _=t.length-1;if(!o&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),_-=1;u.pathname=T.join("/")}m=_>=0?t[_]:"/"}let x=vx(u,m),w=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(w||v)&&(x.pathname+="/"),x}const Lr=e=>e.join("/").replace(/\/\/+/g,"/"),_x=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ix(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fg=["post","put","patch","delete"];new Set(fg);const Tx=["get",...fg];new Set(Tx);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},po.apply(this,arguments)}const _0=Q.createContext(null),bx=Q.createContext(null),fi=Q.createContext(null),cl=Q.createContext(null),di=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),dg=Q.createContext(null);function Nx(e,t){let{relative:r}=t===void 0?{}:t;_o()||dt(!1);let{basename:o,navigator:u}=Q.useContext(fi),{hash:c,pathname:d,search:m}=pg(e,{relative:r}),x=d;return o!=="/"&&(x=d==="/"?o:Lr([o,d])),u.createHref({pathname:x,search:m,hash:c})}function _o(){return Q.useContext(cl)!=null}function hl(){return _o()||dt(!1),Q.useContext(cl).location}function gg(e){Q.useContext(fi).static||Q.useLayoutEffect(e)}function Ox(){let{isDataRoute:e}=Q.useContext(di);return e?Wx():Rx()}function Rx(){_o()||dt(!1);let e=Q.useContext(_0),{basename:t,future:r,navigator:o}=Q.useContext(fi),{matches:u}=Q.useContext(di),{pathname:c}=hl(),d=JSON.stringify(cg(u,r.v7_relativeSplatPath)),m=Q.useRef(!1);return gg(()=>{m.current=!0}),Q.useCallback(function(w,v){if(v===void 0&&(v={}),!m.current)return;if(typeof w=="number"){o.go(w);return}let _=hg(w,JSON.parse(d),c,v.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Lr([t,_.pathname])),(v.replace?o.replace:o.push)(_,v.state,v)},[t,o,d,c,e])}function pg(e,t){let{relative:r}=t===void 0?{}:t,{future:o}=Q.useContext(fi),{matches:u}=Q.useContext(di),{pathname:c}=hl(),d=JSON.stringify(cg(u,o.v7_relativeSplatPath));return Q.useMemo(()=>hg(e,JSON.parse(d),c,r==="path"),[e,d,c,r])}function kx(e,t){return Dx(e,t)}function Dx(e,t,r,o){_o()||dt(!1);let{navigator:u}=Q.useContext(fi),{matches:c}=Q.useContext(di),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let x=d?d.pathnameBase:"/";d&&d.route;let w=hl(),v;if(t){var _;let H=typeof t=="string"?us(t):t;x==="/"||(_=H.pathname)!=null&&_.startsWith(x)||dt(!1),v=H}else v=w;let T=v.pathname||"/",D=T;if(x!=="/"){let H=x.replace(/^\//,"").split("/");D="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let L=ox(e,{pathname:D}),P=Fx(L&&L.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Lr([x,u.encodeLocation?u.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:Lr([x,u.encodeLocation?u.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,r,o);return t&&P?Q.createElement(cl.Provider,{value:{location:po({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Tr.Pop}},P):P}function Px(){let e=zx(),t=Ix(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),r?Q.createElement("pre",{style:u},r):null,null)}const Mx=Q.createElement(Px,null);class Lx extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Q.createElement(di.Provider,{value:this.props.routeContext},Q.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bx(e){let{routeContext:t,match:r,children:o}=e,u=Q.useContext(_0);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(di.Provider,{value:t},o)}function Fx(e,t,r,o){var u;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var c;if(!r)return null;if(r.errors)e=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let d=e,m=(u=r)==null?void 0:u.errors;if(m!=null){let v=d.findIndex(_=>_.route.id&&(m==null?void 0:m[_.route.id])!==void 0);v>=0||dt(!1),d=d.slice(0,Math.min(d.length,v+1))}let x=!1,w=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<d.length;v++){let _=d[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(w=v),_.route.id){let{loaderData:T,errors:D}=r,L=_.route.loader&&T[_.route.id]===void 0&&(!D||D[_.route.id]===void 0);if(_.route.lazy||L){x=!0,w>=0?d=d.slice(0,w+1):d=[d[0]];break}}}return d.reduceRight((v,_,T)=>{let D,L=!1,P=null,H=null;r&&(D=m&&_.route.id?m[_.route.id]:void 0,P=_.route.errorElement||Mx,x&&(w<0&&T===0?(L=!0,H=null):w===T&&(L=!0,H=_.route.hydrateFallbackElement||null)));let N=t.concat(d.slice(0,T+1)),b=()=>{let O;return D?O=P:L?O=H:_.route.Component?O=Q.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=v,Q.createElement(Bx,{match:_,routeContext:{outlet:v,matches:N,isDataRoute:r!=null},children:O})};return r&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?Q.createElement(Lx,{location:r.location,revalidation:r.revalidation,component:P,error:D,children:b(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):b()},null)}var mg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mg||{}),Wa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wa||{});function Ux(e){let t=Q.useContext(_0);return t||dt(!1),t}function jx(e){let t=Q.useContext(bx);return t||dt(!1),t}function Vx(e){let t=Q.useContext(di);return t||dt(!1),t}function xg(e){let t=Vx(),r=t.matches[t.matches.length-1];return r.route.id||dt(!1),r.route.id}function zx(){var e;let t=Q.useContext(dg),r=jx(Wa.UseRouteError),o=xg(Wa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function Wx(){let{router:e}=Ux(mg.UseNavigateStable),t=xg(Wa.UseNavigateStable),r=Q.useRef(!1);return gg(()=>{r.current=!0}),Q.useCallback(function(u,c){c===void 0&&(c={}),r.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,po({fromRouteId:t},c)))},[e,t])}const c1={};function Hx(e,t){c1[t]||(c1[t]=!0,console.warn(t))}const h1=(e,t,r)=>Hx(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Gx(e,t){e!=null&&e.v7_startTransition||h1("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&h1("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function gc(e){dt(!1)}function Xx(e){let{basename:t="/",children:r=null,location:o,navigationType:u=Tr.Pop,navigator:c,static:d=!1,future:m}=e;_o()&&dt(!1);let x=t.replace(/^\/*/,"/"),w=Q.useMemo(()=>({basename:x,navigator:c,static:d,future:po({v7_relativeSplatPath:!1},m)}),[x,m,c,d]);typeof o=="string"&&(o=us(o));let{pathname:v="/",search:_="",hash:T="",state:D=null,key:L="default"}=o,P=Q.useMemo(()=>{let H=C0(v,x);return H==null?null:{location:{pathname:H,search:_,hash:T,state:D,key:L},navigationType:u}},[x,v,_,T,D,L,u]);return P==null?null:Q.createElement(fi.Provider,{value:w},Q.createElement(cl.Provider,{children:r,value:P}))}function $x(e){let{children:t,location:r}=e;return kx(pc(t),r)}new Promise(()=>{});function pc(e,t){t===void 0&&(t=[]);let r=[];return Q.Children.forEach(e,(o,u)=>{if(!Q.isValidElement(o))return;let c=[...t,u];if(o.type===Q.Fragment){r.push.apply(r,pc(o.props.children,c));return}o.type!==gc&&dt(!1),!o.props.index||!o.props.children||dt(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=pc(o.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},mc.apply(this,arguments)}function Yx(e,t){if(e==null)return{};var r={},o=Object.keys(e),u,c;for(c=0;c<o.length;c++)u=o[c],!(t.indexOf(u)>=0)&&(r[u]=e[u]);return r}function Kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zx(e,t){return e.button===0&&(!t||t==="_self")&&!Kx(e)}const qx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qx="6";try{window.__reactRouterVersion=Qx}catch{}const Jx="startTransition",f1=G2[Jx];function ew(e){let{basename:t,children:r,future:o,window:u}=e,c=Q.useRef();c.current==null&&(c.current=rx({window:u,v5Compat:!0}));let d=c.current,[m,x]=Q.useState({action:d.action,location:d.location}),{v7_startTransition:w}=o||{},v=Q.useCallback(_=>{w&&f1?f1(()=>x(_)):x(_)},[x,w]);return Q.useLayoutEffect(()=>d.listen(v),[d,v]),Q.useEffect(()=>Gx(o),[o]),Q.createElement(Xx,{basename:t,children:r,location:m.location,navigationType:m.action,navigator:d,future:o})}const tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d1=Q.forwardRef(function(t,r){let{onClick:o,relative:u,reloadDocument:c,replace:d,state:m,target:x,to:w,preventScrollReset:v,viewTransition:_}=t,T=Yx(t,qx),{basename:D}=Q.useContext(fi),L,P=!1;if(typeof w=="string"&&nw.test(w)&&(L=w,tw))try{let O=new URL(window.location.href),U=w.startsWith("//")?new URL(O.protocol+w):new URL(w),K=C0(U.pathname,D);U.origin===O.origin&&K!=null?w=K+U.search+U.hash:P=!0}catch{}let H=Nx(w,{relative:u}),N=rw(w,{replace:d,state:m,target:x,preventScrollReset:v,relative:u,viewTransition:_});function b(O){o&&o(O),O.defaultPrevented||N(O)}return Q.createElement("a",mc({},T,{href:L||H,onClick:P||c?o:b,ref:r,target:x}))});var g1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g1||(g1={}));var p1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(p1||(p1={}));function rw(e,t){let{target:r,replace:o,state:u,preventScrollReset:c,relative:d,viewTransition:m}=t===void 0?{}:t,x=Ox(),w=hl(),v=pg(e,{relative:d});return Q.useCallback(_=>{if(Zx(_,r)){_.preventDefault();let T=o!==void 0?o:za(w)===za(v);x(e,{replace:T,state:u,preventScrollReset:c,relative:d,viewTransition:m})}},[w,x,v,o,u,r,e,c,d,m])}const iw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},m1=e=>{let t;const r=new Set,o=(v,_)=>{const T=typeof v=="function"?v(t):v;if(!Object.is(T,t)){const D=t;t=_??(typeof T!="object"||T===null)?T:Object.assign({},t,T),r.forEach(L=>L(t,D))}},u=()=>t,x={setState:o,getState:u,getInitialState:()=>w,subscribe:v=>(r.add(v),()=>r.delete(v)),destroy:()=>{(iw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},w=t=e(o,u,x);return x},sw=e=>e?m1(e):m1;var wg={exports:{}},yg={},vg={exports:{}},Eg={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Q;function ow(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aw=typeof Object.is=="function"?Object.is:ow,lw=rs.useState,uw=rs.useEffect,cw=rs.useLayoutEffect,hw=rs.useDebugValue;function fw(e,t){var r=t(),o=lw({inst:{value:r,getSnapshot:t}}),u=o[0].inst,c=o[1];return cw(function(){u.value=r,u.getSnapshot=t,du(u)&&c({inst:u})},[e,r,t]),uw(function(){return du(u)&&c({inst:u}),e(function(){du(u)&&c({inst:u})})},[e]),hw(r),r}function du(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!aw(e,r)}catch{return!0}}function dw(e,t){return t()}var gw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dw:fw;Eg.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:gw;vg.exports=Eg;var pw=vg.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Q,mw=pw;function xw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ww=typeof Object.is=="function"?Object.is:xw,yw=mw.useSyncExternalStore,vw=fl.useRef,Ew=fl.useEffect,Cw=fl.useMemo,_w=fl.useDebugValue;yg.useSyncExternalStoreWithSelector=function(e,t,r,o,u){var c=vw(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=Cw(function(){function x(D){if(!w){if(w=!0,v=D,D=o(D),u!==void 0&&d.hasValue){var L=d.value;if(u(L,D))return _=L}return _=D}if(L=_,ww(v,D))return L;var P=o(D);return u!==void 0&&u(L,P)?L:(v=D,_=P)}var w=!1,v,_,T=r===void 0?null:r;return[function(){return x(t())},T===null?void 0:function(){return x(T())}]},[t,r,o,u]);var m=yw(e,c[0],c[1]);return Ew(function(){d.hasValue=!0,d.value=m},[m]),_w(m),m};wg.exports=yg;var Aw=wg.exports;const Sw=Tc(Aw),Cg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:Iw}=nf,{useSyncExternalStoreWithSelector:Tw}=Sw;let x1=!1;const bw=e=>e;function Nw(e,t=bw,r){(Cg?"production":void 0)!=="production"&&r&&!x1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),x1=!0);const o=Tw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Iw(o),o}const w1=e=>{(Cg?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sw(e):e,r=(o,u)=>Nw(t,o,u);return Object.assign(r,t),r},Ow=e=>e?w1(e):w1,Rw="modulepreload",kw=function(e){return"/"+e},y1={},is=function(t,r,o){let u=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));u=Promise.allSettled(r.map(x=>{if(x=kw(x),x in y1)return;y1[x]=!0;const w=x.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const _=document.createElement("link");if(_.rel=w?"stylesheet":Rw,w||(_.as="script"),_.crossOrigin="",_.href=x,m&&_.setAttribute("nonce",m),document.head.appendChild(_),w)return new Promise((T,D)=>{_.addEventListener("load",T),_.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return u.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})},Dw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>is(async()=>{const{default:o}=await Promise.resolve().then(()=>cs);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)};class A0 extends Error{constructor(t,r="FunctionsError",o){super(t),this.name=r,this.context=o}}class Pw extends A0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mw extends A0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lw extends A0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xc||(xc={}));var Bw=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};class Fw{constructor(t,{headers:r={},customFetch:o,region:u=xc.Any}={}){this.url=t,this.headers=r,this.region=u,this.fetch=Dw(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var o;return Bw(this,void 0,void 0,function*(){try{const{headers:u,method:c,body:d}=r;let m={},{region:x}=r;x||(x=this.region),x&&x!=="any"&&(m["x-region"]=x);let w;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(m["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(m["Content-Type"]="application/json",w=JSON.stringify(d)));const v=yield this.fetch(`${this.url}/${t}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:w}).catch(L=>{throw new Pw(L)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new Mw(v);if(!v.ok)throw new Lw(v);let T=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),D;return T==="application/json"?D=yield v.json():T==="application/octet-stream"?D=yield v.blob():T==="text/event-stream"?D=v:T==="multipart/form-data"?D=yield v.formData():D=yield v.text(),{data:D,error:null}}catch(u){return{data:null,error:u}}})}}var Jt={},S0={},dl={},Ao={},gl={},pl={},Uw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ss=Uw();const jw=ss.fetch,_g=ss.fetch.bind(ss),Ag=ss.Headers,Vw=ss.Request,zw=ss.Response,cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ag,Request:Vw,Response:zw,default:_g,fetch:jw},Symbol.toStringTag,{value:"Module"})),Ww=N2(cs);var ml={};Object.defineProperty(ml,"__esModule",{value:!0});class Hw extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}ml.default=Hw;var Sg=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});const Gw=Sg(Ww),Xw=Sg(ml);let $w=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Gw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,m,x;let w=null,v=null,_=null,T=c.status,D=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=N:v=JSON.parse(N))}const P=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),H=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&H&&H.length>1&&(_=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(w={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,_=null,T=406,D="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const P=await c.text();try{w=JSON.parse(P),Array.isArray(w)&&c.status===404&&(v=[],w=null,T=200,D="OK")}catch{c.status===404&&P===""?(T=204,D="No Content"):w={message:P}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,T=200,D="OK"),w&&this.shouldThrowOnError)throw new Xw.default(w)}return{error:w,data:v,count:_,status:T,statusText:D}});return this.shouldThrowOnError||(u=u.catch(c=>{var d,m,x;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(x=c==null?void 0:c.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),u.then(t,r)}};pl.default=$w;var Yw=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});const Kw=Yw(pl);let Zw=class extends Kw.default{select(t){let r=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!r?"":(u==='"'&&(r=!r),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:o,foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${t}.${r?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:o=r}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${t}`),this}range(t,r,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${t}`),this.url.searchParams.set(d,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:o=!1,buffers:u=!1,wal:c=!1,format:d="text"}={}){var m;const x=[t?"analyze":null,r?"verbose":null,o?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),w=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${w}"; options=${x};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gl.default=Zw;var qw=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0});const Qw=qw(gl);let Jw=class extends Qw.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const o=Array.from(new Set(r)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(t,`in.(${o})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(t,`${c}fts${d}.${r}`),this}match(t){return Object.entries(t).forEach(([r,o])=>{this.url.searchParams.append(r,`eq.${o}`)}),this}not(t,r,o){return this.url.searchParams.append(t,`not.${r}.${o}`),this}or(t,{foreignTable:r,referencedTable:o=r}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${t})`),this}filter(t,r,o){return this.url.searchParams.append(t,`${r}.${o}`),this}};Ao.default=Jw;var ey=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dl,"__esModule",{value:!0});const ks=ey(Ao);let ty=class{constructor(t,{headers:r={},schema:o,fetch:u}){this.url=t,this.headers=r,this.schema=o,this.fetch=u}select(t,{head:r=!1,count:o}={}){const u=r?"HEAD":"GET";let c=!1;const d=(t??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new ks.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:o=!0}={}){const u="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),r&&c.push(`count=${r}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const d=t.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(d.length>0){const m=[...new Set(d)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new ks.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:o=!1,count:u,defaultToNull:c=!0}={}){const d="POST",m=[`resolution=${o?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),c||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(t)){const x=t.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(x.length>0){const w=[...new Set(x)].map(v=>`"${v}"`);this.url.searchParams.set("columns",w.join(","))}}return new ks.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),r&&u.push(`count=${r}`),this.headers.Prefer=u.join(","),new ks.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",o=[];return t&&o.push(`count=${t}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new ks.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dl.default=ty;var xl={},wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.version=void 0;wl.version="0.0.0-automated";Object.defineProperty(xl,"__esModule",{value:!0});xl.DEFAULT_HEADERS=void 0;const ny=wl;xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ny.version}`};var Ig=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S0,"__esModule",{value:!0});const ry=Ig(dl),iy=Ig(Ao),sy=xl;let oy=class Tg{constructor(t,{headers:r={},schema:o,fetch:u}={}){this.url=t,this.headers=Object.assign(Object.assign({},sy.DEFAULT_HEADERS),r),this.schemaName=o,this.fetch=u}from(t){const r=new URL(`${this.url}/${t}`);return new ry.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Tg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:o=!1,get:u=!1,count:c}={}){let d;const m=new URL(`${this.url}/rpc/${t}`);let x;o||u?(d=o?"HEAD":"GET",Object.entries(r).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{m.searchParams.append(v,_)})):(d="POST",x=r);const w=Object.assign({},this.headers);return c&&(w.Prefer=`count=${c}`),new iy.default({method:d,url:m,headers:w,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}};S0.default=oy;var hs=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const bg=hs(S0);Jt.PostgrestClient=bg.default;const Ng=hs(dl);Jt.PostgrestQueryBuilder=Ng.default;const Og=hs(Ao);Jt.PostgrestFilterBuilder=Og.default;const Rg=hs(gl);Jt.PostgrestTransformBuilder=Rg.default;const kg=hs(pl);Jt.PostgrestBuilder=kg.default;const Dg=hs(ml);Jt.PostgrestError=Dg.default;var ay=Jt.default={PostgrestClient:bg.default,PostgrestQueryBuilder:Ng.default,PostgrestFilterBuilder:Og.default,PostgrestTransformBuilder:Rg.default,PostgrestBuilder:kg.default,PostgrestError:Dg.default};const{PostgrestClient:ly,PostgrestQueryBuilder:Dv,PostgrestFilterBuilder:Pv,PostgrestTransformBuilder:Mv,PostgrestBuilder:Lv}=ay,uy="2.10.9",cy={"X-Client-Info":`realtime-js/${uy}`},hy="1.0.0",Pg=1e4,fy=1e3;var Ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ki||(Ki={}));var an;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(an||(an={}));var Dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dn||(Dn={}));var wc;(function(e){e.websocket="websocket"})(wc||(wc={}));var Jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jr||(Jr={}));class dy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),o=new TextDecoder;return this._decodeBroadcast(t,r,o)}_decodeBroadcast(t,r,o){const u=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const m=o.decode(t.slice(d,d+u));d=d+u;const x=o.decode(t.slice(d,d+c));d=d+c;const w=JSON.parse(o.decode(t.slice(d,t.byteLength)));return{ref:null,topic:m,event:x,payload:w}}}class Mg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const v1=(e,t,r={})=>{var o;const u=(o=r.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(t).reduce((c,d)=>(c[d]=gy(d,e,t,u),c),{})},gy=(e,t,r,o)=>{const u=t.find(m=>m.name===e),c=u==null?void 0:u.type,d=r[e];return c&&!o.includes(c)?Lg(c,d):yc(d)},Lg=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wy(t,r)}switch(e){case ze.bool:return py(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return my(t);case ze.json:case ze.jsonb:return xy(t);case ze.timestamp:return yy(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return yc(t);default:return yc(t)}},yc=e=>e,py=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},my=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},wy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,o=e[r];if(e[0]==="{"&&o==="}"){let c;const d=e.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>Lg(t,m))}return e},yy=e=>typeof e=="string"?e.replace(" ","T"):e,Bg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gu{constructor(t,r,o={},u=Pg){this.channel=t,this.event=r,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var o;return this._hasReceived(t)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var E1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(E1||(E1={}));class Ys{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,u,c,d),this.pendingDiffs.forEach(x=>{this.state=Ys.syncDiff(this.state,x,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},u=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ys.syncDiff(this.state,u,c,d),m())}),this.onJoin((u,c,d)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:d})}),this.onLeave((u,c,d)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,o,u){const c=this.cloneDeep(t),d=this.transformState(r),m={},x={};return this.map(c,(w,v)=>{d[w]||(x[w]=v)}),this.map(d,(w,v)=>{const _=c[w];if(_){const T=v.map(H=>H.presence_ref),D=_.map(H=>H.presence_ref),L=v.filter(H=>D.indexOf(H.presence_ref)<0),P=_.filter(H=>T.indexOf(H.presence_ref)<0);L.length>0&&(m[w]=L),P.length>0&&(x[w]=P)}else m[w]=v}),this.syncDiff(c,{joins:m,leaves:x},o,u)}static syncDiff(t,r,o,u){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(c,(m,x)=>{var w;const v=(w=t[m])!==null&&w!==void 0?w:[];if(t[m]=this.cloneDeep(x),v.length>0){const _=t[m].map(D=>D.presence_ref),T=v.filter(D=>_.indexOf(D.presence_ref)<0);t[m].unshift(...T)}o(m,v,x)}),this.map(d,(m,x)=>{let w=t[m];if(!w)return;const v=x.map(_=>_.presence_ref);w=w.filter(_=>v.indexOf(_.presence_ref)<0),t[m]=w,u(m,w,x),w.length===0&&delete t[m]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(o=>r(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,o)=>{const u=t[o];return"metas"in u?r[o]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[o]=u,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(C1||(C1={}));var _1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_1||(_1={}));var A1;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(A1||(A1={}));class I0{constructor(t,r={config:{}},o){this.topic=t,this.params=r,this.socket=o,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Mg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Ys(this),this.broadcastEndpointURL=Bg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var o,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:d,private:m}}=this.params;this._onError(v=>t&&t("CHANNEL_ERROR",v)),this._onClose(()=>t&&t("CLOSED"));const x={},w={broadcast:c,presence:d,postgres_changes:(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&u!==void 0?u:[],private:m};this.socket.accessToken&&(x.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:v})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),v===void 0){t&&t("SUBSCRIBED");return}else{const T=this.bindings.postgres_changes,D=(_=T==null?void 0:T.length)!==null&&_!==void 0?_:0,L=[];for(let P=0;P<D;P++){const H=T[P],{filter:{event:N,schema:b,table:O,filter:U}}=H,K=v&&v[P];if(K&&K.event===N&&K.schema===b&&K.table===O&&K.filter===U)L.push(Object.assign(Object.assign({},H),{id:K.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t("SUBSCRIBED");return}}).receive("error",v=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,o){return this._on(t,r,o)}async send(t,r={}){var o,u;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:d}=t,m={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=x.body)===null||u===void 0?void 0:u.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,x;const w=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((x=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||x===void 0)&&x.ack)&&c("ok"),w.receive("ok",()=>c("ok")),w.receive("error",()=>c("error")),w.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=an.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const u=new gu(this,Dn.leave,{},t);u.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}async _fetchWithTimeout(t,r,o){const u=new AbortController,c=setTimeout(()=>u.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(c),d}_push(t,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new gu(this,t,r,o);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(t,r,o){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,o){var u,c;const d=t.toLocaleLowerCase(),{close:m,error:x,leave:w,join:v}=Dn;if(o&&[m,x,w,v].indexOf(d)>=0&&o!==this._joinRef())return;let T=this._onMessage(d,r,o);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(D=>{var L,P,H;return((L=D.filter)===null||L===void 0?void 0:L.event)==="*"||((H=(P=D.filter)===null||P===void 0?void 0:P.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===d}).map(D=>D.callback(T,o)):(c=this.bindings[d])===null||c===void 0||c.filter(D=>{var L,P,H,N,b,O;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in D){const U=D.id,K=(L=D.filter)===null||L===void 0?void 0:L.event;return U&&((P=r.ids)===null||P===void 0?void 0:P.includes(U))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((H=r.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const U=(b=(N=D==null?void 0:D.filter)===null||N===void 0?void 0:N.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return U==="*"||U===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return D.type.toLocaleLowerCase()===d}).map(D=>{if(typeof T=="object"&&"ids"in T){const L=T.data,{schema:P,table:H,commit_timestamp:N,type:b,errors:O}=L;T=Object.assign(Object.assign({},{schema:P,table:H,commit_timestamp:N,eventType:b,new:{},old:{},errors:O}),this._getPayloadRecords(L))}D.callback(T,o)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,o){const u=t.toLocaleLowerCase(),c={type:u,filter:r,callback:o};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(t,r){const o=t.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&I0.isEqual(u.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const o in t)if(t[o]!==r[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=v1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=v1(t.columns,t.old_record)),r}}const vy=()=>{},Ey=typeof WebSocket<"u",Cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _y{constructor(t,r){var o;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cy,this.params={},this.timeout=Pg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vy,this.conn=null,this.sendBuffer=[],this.serializer=new dy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...m)=>is(async()=>{const{default:x}=await Promise.resolve().then(()=>cs);return{default:x}},void 0).then(({default:x})=>x(...m)):d=fetch,(...m)=>d(...m)},this.endPoint=`${t}/${wc.websocket}`,this.httpEndpoint=Bg(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const u=(o=r==null?void 0:r.params)===null||o===void 0?void 0:o.apikey;if(u&&(this.accessToken=u,this.apiKey=u),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(c,d)=>d(JSON.stringify(c)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Ey){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Ay(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),is(async()=>{const{default:t}=await import("./browser-DGM7BB7U.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,o){this.logger(t,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return Jr.Connecting;case Ki.open:return Jr.Open;case Ki.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(t,r={config:{}}){const o=new I0(`realtime:${t}`,r,this);return this.channels.push(o),o}push(t){const{topic:r,event:o,payload:u,ref:c}=t,d=()=>{this.encode(t,m=>{var x;(x=this.conn)===null||x===void 0||x.send(m)})};this.log("push",`${r} ${o} (${c})`,u),this.isConnected()?d():this.sendBuffer.push(d)}setAuth(t){if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0)){this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);return}}this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(Dn.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hy}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:o,event:u,payload:c,ref:d}=r;(d&&d===this.pendingHeartbeatRef||u===(c==null?void 0:c.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${u} ${d&&"("+d+")"||""}`,c),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(u,c,d)),this.stateChangeCallbacks.message.forEach(m=>m(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const o=t.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${t}${o}${u}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(fy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let r;if(t)r=t;else{const o=new Blob([Cy],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}}class Ay{constructor(t,r,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ki.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=o.close}}class T0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Sy extends T0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vc extends T0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Iy=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};const Fg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>is(async()=>{const{default:o}=await Promise.resolve().then(()=>cs);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},Ty=()=>Iy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>cs),void 0)).Response:Response}),Ec=e=>{if(Array.isArray(e))return e.map(r=>Ec(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,o])=>{const u=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[u]=Ec(o)}),t};var gi=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};const pu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),by=(e,t,r)=>gi(void 0,void 0,void 0,function*(){const o=yield Ty();e instanceof o&&!(r!=null&&r.noResolveJson)?e.json().then(u=>{t(new Sy(pu(u),e.status||500))}).catch(u=>{t(new vc(pu(u),u))}):t(new vc(pu(e),e))}),Ny=(e,t,r,o)=>{const u={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o&&(u.body=JSON.stringify(o)),Object.assign(Object.assign({},u),r))};function So(e,t,r,o,u,c){return gi(this,void 0,void 0,function*(){return new Promise((d,m)=>{e(r,Ny(t,o,u,c)).then(x=>{if(!x.ok)throw x;return o!=null&&o.noResolveJson?x:x.json()}).then(x=>d(x)).catch(x=>by(x,m,o))})})}function Ha(e,t,r,o){return gi(this,void 0,void 0,function*(){return So(e,"GET",t,r,o)})}function Er(e,t,r,o,u){return gi(this,void 0,void 0,function*(){return So(e,"POST",t,o,u,r)})}function Oy(e,t,r,o,u){return gi(this,void 0,void 0,function*(){return So(e,"PUT",t,o,u,r)})}function Ry(e,t,r,o){return gi(this,void 0,void 0,function*(){return So(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function Ug(e,t,r,o,u){return gi(this,void 0,void 0,function*(){return So(e,"DELETE",t,o,u,r)})}var qt=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};const ky={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Dy{constructor(t,r={},o,u){this.url=t,this.headers=r,this.bucketId=o,this.fetch=Fg(u)}uploadOrUpdate(t,r,o,u){return qt(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},S1),u);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const x=d.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),x&&c.append("metadata",this.encodeMetadata(x)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",d.cacheControl),x&&c.append("metadata",this.encodeMetadata(x))):(c=o,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,x&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),u!=null&&u.headers&&(m=Object.assign(Object.assign({},m),u.headers));const w=this._removeEmptyFolders(r),v=this._getFinalPath(w),_=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:t,body:c,headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{})),T=yield _.json();return _.ok?{data:{path:w,id:T.Id,fullPath:T.Key},error:null}:{data:null,error:T}}catch(c){if(Ct(c))return{data:null,error:c};throw c}})}upload(t,r,o){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,o)})}uploadToSignedUrl(t,r,o,u){return qt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let x;const w=Object.assign({upsert:S1.upsert},u),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&o instanceof Blob?(x=new FormData,x.append("cacheControl",w.cacheControl),x.append("",o)):typeof FormData<"u"&&o instanceof FormData?(x=o,x.append("cacheControl",w.cacheControl)):(x=o,v["cache-control"]=`max-age=${w.cacheControl}`,v["content-type"]=w.contentType);const _=yield this.fetch(m.toString(),{method:"PUT",body:x,headers:v}),T=yield _.json();return _.ok?{data:{path:c,fullPath:T.Key},error:null}:{data:null,error:T}}catch(x){if(Ct(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(t,r){return qt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t);const u=Object.assign({},this.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const c=yield Er(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:u}),d=new URL(this.url+c.url),m=d.searchParams.get("token");if(!m)throw new T0("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:m},error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}update(t,r,o){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,o)})}move(t,r,o){return qt(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}copy(t,r,o){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}createSignedUrl(t,r,o){return qt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(t),c=yield Er(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}createSignedUrls(t,r,o){return qt(this,void 0,void 0,function*(){try{const u=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:u.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}download(t,r){return qt(this,void 0,void 0,function*(){const u=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=c?`?${c}`:"";try{const m=this._getFinalPath(t);return{data:yield(yield Ha(this.fetch,`${this.url}/${u}/${m}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Ct(m))return{data:null,error:m};throw m}})}info(t){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const o=yield Ha(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ec(o),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}exists(t){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ry(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ct(o)&&o instanceof vc){const u=o.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:o}}throw o}})}getPublicUrl(t,r){const o=this._getFinalPath(t),u=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&u.push(c);const m=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});x!==""&&u.push(x);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${w}`)}}}remove(t){return qt(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,o){return qt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ky),r),{prefix:t||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},o),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Py="2.7.1",My={"X-Client-Info":`storage-js/${Py}`};var Ti=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};class Ly{constructor(t,r={},o){this.url=t,this.headers=Object.assign(Object.assign({},My),r),this.fetch=Fg(o)}listBuckets(){return Ti(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}getBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ti(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return Ti(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}emptyBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ti(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}}class By extends Ly{constructor(t,r={},o){super(t,r,o)}from(t){return new Dy(this.url,this.headers,t,this.fetch)}}const Fy="2.46.2";let Fs="";typeof Deno<"u"?Fs="deno":typeof document<"u"?Fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fs="react-native":Fs="node";const Uy={"X-Client-Info":`supabase-js-${Fs}/${Fy}`},jy={headers:Uy},Vy={schema:"public"},zy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wy={};var Hy=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};const Gy=e=>{let t;return e?t=e:typeof fetch>"u"?t=_g:t=fetch,(...r)=>t(...r)},Xy=()=>typeof Headers>"u"?Ag:Headers,$y=(e,t,r)=>{const o=Gy(r),u=Xy();return(c,d)=>Hy(void 0,void 0,void 0,function*(){var m;const x=(m=yield t())!==null&&m!==void 0?m:e;let w=new u(d==null?void 0:d.headers);return w.has("apikey")||w.set("apikey",e),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),o(c,Object.assign(Object.assign({},d),{headers:w}))})};var Yy=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};function Ky(e){return e.replace(/\/$/,"")}function Zy(e,t){const{db:r,auth:o,realtime:u,global:c}=e,{db:d,auth:m,realtime:x,global:w}=t,v={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},x),u),global:Object.assign(Object.assign({},w),c),accessToken:()=>Yy(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const jg="2.65.1",qy="http://localhost:9999",Qy="supabase.auth.token",Jy={"X-Client-Info":`gotrue-js/${jg}`},I1=10,Cc="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function e3(e){return Math.round(Date.now()/1e3)+e}function t3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const On=()=>typeof document<"u",Kr={tested:!1,writable:!1},Ks=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kr.tested)return Kr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kr.tested=!0,Kr.writable=!0}catch{Kr.tested=!0,Kr.writable=!1}return Kr.writable};function mu(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,c)=>{t[c]=u})}catch{}return r.searchParams.forEach((o,u)=>{t[u]=o}),t}const zg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>is(async()=>{const{default:o}=await Promise.resolve().then(()=>cs);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},n3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wg=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},na=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ra=async(e,t)=>{await e.removeItem(t)};function r3(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",o,u,c,d,m,x,w,v=0;for(e=e.replace("-","+").replace("_","/");v<e.length;)d=t.indexOf(e.charAt(v++)),m=t.indexOf(e.charAt(v++)),x=t.indexOf(e.charAt(v++)),w=t.indexOf(e.charAt(v++)),o=d<<2|m>>4,u=(m&15)<<4|x>>2,c=(x&3)<<6|w,r=r+String.fromCharCode(o),x!=64&&u!=0&&(r=r+String.fromCharCode(u)),w!=64&&c!=0&&(r=r+String.fromCharCode(c));return r}class yl{constructor(){this.promise=new yl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yl.promiseConstructor=Promise;function T1(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=r[1];return JSON.parse(r3(o))}async function i3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function s3(e,t){return new Promise((o,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await e(c);if(!t(c,null,d)){o(d);return}}catch(d){if(!t(c,d)){u(d);return}}})()})}function o3(e){return("0"+e.toString(16)).substr(-2)}function a3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let u="";for(let c=0;c<56;c++)u+=r.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(t),Array.from(t,o3).join("")}async function l3(e){const r=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(o);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}function u3(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function c3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await l3(e);return u3(r)}async function bi(e,t,r=!1){const o=a3();let u=o;r&&(u+="/PASSWORD_RECOVERY"),await Wg(e,`${t}-code-verifier`,u);const c=await c3(o);return[c,o===c?"plain":"s256"]}const h3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f3(e){const t=e.headers.get(Cc);if(!t||!t.match(h3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class b0 extends Error{constructor(t,r,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class d3 extends b0{constructor(t,r,o){super(t,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function g3(e){return ve(e)&&e.name==="AuthApiError"}class Hg extends b0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pi extends b0{constructor(t,r,o,u){super(t,o,u),this.name=r,this.status=o}}class xr extends pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p3(e){return ve(e)&&e.name==="AuthSessionMissingError"}class xu extends pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ia extends pi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sa extends pi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b1 extends pi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _c extends pi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wu(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class N1 extends pi{constructor(t,r,o){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}var m3=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(e);u<o.length;u++)t.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(e,o[u])&&(r[o[u]]=e[o[u]]);return r};const Qr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x3=[502,503,504];async function O1(e){var t;if(!n3(e))throw new _c(Qr(e),0);if(x3.includes(e.status))throw new _c(Qr(e),e.status);let r;try{r=await e.json()}catch(c){throw new Hg(Qr(c),c)}let o;const u=f3(e);if(u&&u.getTime()>=Vg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new N1(Qr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new N1(Qr(r),e.status,r.weak_password.reasons);throw new d3(Qr(r),e.status||500,o)}const w3=(e,t,r,o)=>{const u={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),r))};async function Ae(e,t,r,o){var u;const c=Object.assign({},o==null?void 0:o.headers);c[Cc]||(c[Cc]=Vg["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(u=o==null?void 0:o.query)!==null&&u!==void 0?u:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",x=await y3(e,t,r+m,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(x):{data:Object.assign({},x),error:null}}async function y3(e,t,r,o,u,c){const d=w3(t,o,u,c);let m;try{m=await e(r,Object.assign({},d))}catch(x){throw console.error(x),new _c(Qr(x),0)}if(m.ok||await O1(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(x){await O1(x)}}function wr(e){var t;let r=null;_3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=e3(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:o},error:null}}function R1(e){const t=wr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function v3(e){return{data:e,error:null}}function E3(e){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:u,verification_type:c}=e,d=m3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:r,hashed_token:o,redirect_to:u,verification_type:c},x=Object.assign({},d);return{data:{properties:m,user:x},error:null}}function C3(e){return e}function _3(e){return e.access_token&&e.refresh_token&&e.expires_in}var A3=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(e);u<o.length;u++)t.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(e,o[u])&&(r[o[u]]=e[o[u]]);return r};class S3{constructor({url:t="",headers:r={},fetch:o}){this.url=t,this.headers=r,this.fetch=zg(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ve(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,r={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ar})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:r}=t,o=A3(t,["options"]),u=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(u.new_email=o==null?void 0:o.newEmail,delete u.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:E3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,o,u,c,d,m,x;try{const w={nextPage:null,lastPage:0,total:0},v=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(c=(u=t==null?void 0:t.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:C3});if(v.error)throw v.error;const _=await v.json(),T=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,D=(x=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&x!==void 0?x:[];return D.length>0&&(D.forEach(L=>{const P=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(L.split(";")[1].split("=")[1]);w[`${H}Page`]=P}),w.total=parseInt(T)),{data:Object.assign(Object.assign({},_),w),error:null}}catch(w){if(ve(w))return{data:{users:[]},error:w};throw w}}async getUserById(t){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ar})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,r=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ar})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){try{const{data:r,error:o}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:o}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}const I3={getItem:e=>Ks()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ks()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ks()&&globalThis.localStorage.removeItem(e)}};function k1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function T3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ni={debug:!!(globalThis&&Ks()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b3 extends Gg{}async function N3(e,t,r){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,u.name);try{return await r()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,u.name)}}else{if(t===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ni.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}T3();const O3={url:qy,storageKey:Qy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ds=30*1e3,D1=3;async function P1(e,t,r){return await r()}class mo{constructor(t){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mo.nextInstanceID,mo.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},O3),t);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new S3({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=zg(u.fetch),this.lock=u.lock||P1,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:On()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=N3:this.lock=P1,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?u.storage?this.storage=u.storage:Ks()?this.storage=I3:(this.memoryStorage={},this.storage=k1(this.memoryStorage)):(this.memoryStorage={},this.storage=k1(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=On()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:o}=await this._getSessionFromURL(t);if(o)return this._debug("#_initialize()","error detecting session from URL",o),(o==null?void 0:o.code)==="identity_already_exists"?{error:o}:(await this._removeSession(),{error:o});const{session:u,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",u,"redirect type",c),await this._saveSession(u),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ve(t)?{error:t}:{error:new Hg("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,u;try{const c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=t==null?void 0:t.options)===null||u===void 0?void 0:u.captchaToken}},xform:wr}),{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const x=d.session,w=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:w,session:x},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,o,u;try{let c;if("email"in t){const{email:v,password:_,options:T}=t;let D=null,L=null;this.flowType==="pkce"&&([D,L]=await bi(this.storage,this.storageKey)),c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:v,password:_,data:(r=T==null?void 0:T.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:D,code_challenge_method:L},xform:wr})}else if("phone"in t){const{phone:v,password:_,options:T}=t;c=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=T==null?void 0:T.data)!==null&&o!==void 0?o:{},channel:(u=T==null?void 0:T.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:wr})}else throw new ia("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const x=d.session,w=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:w,session:x},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:d,options:m}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:R1})}else if("phone"in t){const{phone:c,password:d,options:m}=t;r=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:R1})}else throw new ia("You must provide either an email or phone number and a password");const{data:o,error:u}=r;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new xu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,o,u,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await na(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(r??"").split("/");try{const{data:c,error:d}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:wr});if(await ra(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new xu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:d})}catch(c){if(ve(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:o,token:u,access_token:c,nonce:d}=t,m=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wr}),{data:x,error:w}=m;return w?{data:{user:null,session:null},error:w}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new xu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:w})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,o,u,c,d;try{if("email"in t){const{email:m,options:x}=t;let w=null,v=null;this.flowType==="pkce"&&([w,v]=await bi(this.storage,this.storageKey));const{error:_}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},create_user:(o=x==null?void 0:x.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:v},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in t){const{phone:m,options:x}=t,{data:w,error:v}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=x==null?void 0:x.data)!==null&&u!==void 0?u:{},create_user:(c=x==null?void 0:x.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(d=x==null?void 0:x.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:v}}throw new ia("You must provide either an email or phone number.")}catch(m){if(ve(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(t){var r,o;try{let u,c;"options"in t&&(u=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:m}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:wr});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const x=d.session,w=d.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:w,session:x},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(t){var r,o,u;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await bi(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=t==null?void 0:t.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:v3})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new xr;const{error:u}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:o,type:u,options:c}=t,{error:d}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:o,type:u,options:c}=t,{data:d,error:m}=await Ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new ia("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await na(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(x,w,v)=>(!d&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,w,v))})}return{data:{session:t},error:null}}const{session:u,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async r=>{var o,u,c;const{data:d,error:m}=r;if(m)throw m;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ar})})}catch(r){if(ve(r))return p3(r)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{const{data:u,error:c}=o;if(c)throw c;if(!u.session)throw new xr;const d=u.session;let m=null,x=null;this.flowType==="pkce"&&t.email!=null&&([m,x]=await bi(this.storage,this.storageKey));const{data:w,error:v}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:x}),jwt:d.access_token,xform:Ar});if(v)throw v;return d.user=w.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(ve(o))return{data:{user:null},error:o};throw o}}_decodeJWT(t){return T1(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xr;const r=Date.now()/1e3;let o=r,u=!0,c=null;const d=T1(t.access_token);if(d.exp&&(o=d.exp,u=o<=r),u){const{session:m,error:x}=await this._callRefreshToken(t.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:x}=await this._getUser(t.access_token);if(x)throw x;c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){const{data:d,error:m}=r;if(m)throw m;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new xr;const{session:u,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!On())throw new sa("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new sa("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new b1("Not a valid PKCE flow url.");const r=mu(window.location.href);if(t){if(!r.code)throw new b1("No code detected.");const{data:b,error:O}=await this._exchangeCodeForSession(r.code);if(O)throw O;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:b.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new sa(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:o,provider_refresh_token:u,access_token:c,refresh_token:d,expires_in:m,expires_at:x,token_type:w}=r;if(!c||!m||!d||!w)throw new sa("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let T=v+_;x&&(T=parseInt(x));const D=T-v;D*1e3<=Ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${D}s, should have been closer to ${_}s`);const L=T-_;v-L>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",L,T,v):v-L<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",L,T,v);const{data:P,error:H}=await this._getUser(c);if(H)throw H;const N={provider_token:o,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:T,refresh_token:d,token_type:w,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(r){if(ve(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=mu(window.location.href);return!!(On()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=mu(window.location.href),r=await na(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:u,error:c}=r;if(c)return{error:c};const d=(o=u.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:m}=await this.admin.signOut(d,t);if(m&&!(g3(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return t!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=t3(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,u;try{const{data:{session:c},error:d}=r;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(t))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await bi(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:o,error:u}=await this._useSession(async c=>{var d,m,x,w,v;const{data:_,error:T}=c;if(T)throw T;const D=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(x=t.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",D,{headers:this.headers,jwt:(v=(w=_.session)===null||w===void 0?void 0:w.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return On()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:t.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(ve(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,u;const{data:c,error:d}=r;if(d)throw d;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await s3(async u=>(u>0&&await i3(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wr})),(u,c)=>{const d=200*Math.pow(2,u);return c&&wu(c)&&Date.now()+d-o<Ds})}catch(o){if(this._debug(r,"error",o),ve(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),On()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await na(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)<u+I1;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${I1}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),wu(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new yl;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new xr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),ve(c)){const d={session:null,error:c};return wu(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(t,r,o=!0){const u=`#_notifyAllSubscribers(${t})`;this._debug(u,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,r)}catch(x){c.push(x)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ds);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-t)/Ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ds}ms, refresh threshold is ${D1} ticks`),u<=D1&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){const u=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await bi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});u.push(m.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);u.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${u.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;const{data:u,error:c}=r;return c?{data:null,error:c}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,u;const{data:c,error:d}=r;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:x,error:w}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return w?{data:null,error:w}:(t.factorType==="totp"&&(!((u=x==null?void 0:x.totp)===null||u===void 0)&&u.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:u,error:c}=r;if(c)return{data:null,error:c};const{data:d,error:m}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:m})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:u,error:c}=r;return c?{data:null,error:c}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o=(t==null?void 0:t.factors)||[],u=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:u,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,o;const{data:{session:u},error:c}=t;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(u.access_token);let m=null;d.aal&&(m=d.aal);let x=m;((o=(r=u.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(x="aal2");const v=d.amr||[];return{data:{currentLevel:m,nextLevel:x,currentAuthenticationMethods:v},error:null}}))}}mo.nextInstanceID=0;const R3=mo;class k3 extends R3{constructor(t){super(t)}}var D3=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})};class P3{constructor(t,r,o){var u,c,d;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const m=Ky(t);this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,this.functionsUrl=`${m}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:Vy,realtime:Wy,auth:Object.assign(Object.assign({},zy),{storageKey:x}),global:jy},v=Zy(o??{},w);this.storageKey=(u=v.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=$y(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new ly(`${m}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new Fw(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new By(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},o={}){return this.rest.rpc(t,r,o)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return D3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(r=(t=o.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:u,storageKey:c,flowType:d,lock:m,debug:x},w,v){var _;const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new k3({url:this.authUrl,headers:Object.assign(Object.assign({},T),w),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:u,flowType:d,lock:m,debug:x,fetch:v,hasCustomAuthorizationHeader:(_="Authorization"in this.headers)!==null&&_!==void 0?_:!1})}_initRealtimeClient(t){return new _y(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,o)=>{this._handleTokenChanged(r,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(t,r,o){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==o?(this.realtime.setAuth(o??null),this.changedAccessToken=o):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M3=(e,t,r)=>new P3(e,t,r),L3="https://rmnchopvunmpgushbkft.supabase.co",B3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJtbmNob3B2dW5tcGd1c2hia2Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5OTMyNzQsImV4cCI6MjA0ODU2OTI3NH0.XDl2Gv1yzf5oVOjujOr5YSBT7_sz9aDgHLOSPcaYTYg",yu=M3(L3,B3),Xg=Ow((e,t)=>({authenticProducts:[],isLoading:!1,error:null,fetchProducts:async()=>{e({isLoading:!0,error:null});try{const{data:r,error:o}=await yu.from("products").select("*");if(o)throw o;const u=r.map(c=>({id:c.id,name:c.name,description:c.description||"",manufacturer:c.manufacturer||"",manufactureDate:c.manufacture_date||"",qrCode:c.qr_code,imageUrl:c.image_url||"https://images.unsplash.com/photo-1523275335684-37898b6baf30"}));e({authenticProducts:u})}catch(r){e({error:r.message})}finally{e({isLoading:!1})}},addProduct:async r=>{e({isLoading:!0,error:null});try{const{error:o}=await yu.from("products").insert([{name:r.name,description:r.description,manufacturer:r.manufacturer,manufacture_date:r.manufactureDate,qr_code:r.qrCode,image_url:r.imageUrl}]);if(o)throw o;await t().fetchProducts()}catch(o){e({error:o.message}),e({isLoading:!1})}},removeProduct:async r=>{e({isLoading:!0,error:null});try{const{error:o}=await yu.from("products").delete().eq("id",r);if(o)throw o;await t().fetchProducts()}catch(o){e({error:o.message}),e({isLoading:!1})}},verifyProduct:r=>t().authenticProducts.find(o=>o.qrCode===r)}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),sn=(e,t)=>{const r=Q.forwardRef(({color:o="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:x,...w},v)=>Q.createElement("svg",{ref:v,...F3,width:u,height:u,stroke:o,strokeWidth:d?Number(c)*24/Number(u):c,className:["lucide",`lucide-${U3(e)}`,m].join(" "),...w},[...t.map(([_,T])=>Q.createElement(_,T)),...Array.isArray(x)?x:[x]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=sn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=sn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=sn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=sn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=sn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=sn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=sn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=sn("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=sn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=sn("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=sn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=sn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var ie;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var M1=new Map([[ie.QR_CODE,"QR_CODE"],[ie.AZTEC,"AZTEC"],[ie.CODABAR,"CODABAR"],[ie.CODE_39,"CODE_39"],[ie.CODE_93,"CODE_93"],[ie.CODE_128,"CODE_128"],[ie.DATA_MATRIX,"DATA_MATRIX"],[ie.MAXICODE,"MAXICODE"],[ie.ITF,"ITF"],[ie.EAN_13,"EAN_13"],[ie.EAN_8,"EAN_8"],[ie.PDF_417,"PDF_417"],[ie.RSS_14,"RSS_14"],[ie.RSS_EXPANDED,"RSS_EXPANDED"],[ie.UPC_A,"UPC_A"],[ie.UPC_E,"UPC_E"],[ie.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),L1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(L1||(L1={}));function q3(e){return Object.values(ie).includes(e)}var Ga;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ga||(Ga={}));var Q3=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ga.SCAN_TYPE_CAMERA,Ga.SCAN_TYPE_FILE],e}(),Yg=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!M1.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,M1.get(t))},e}(),B1=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Sc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sc||(Sc={}));var J3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Sc.UNKWOWN_ERROR}},e}(),ev=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function qn(e){return typeof e>"u"||e===null}var zi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Kg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var o=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(u),d=Object.keys(t),m=0,x=d;m<x.length;m++){var w=x[m];if(c.has(w))return r.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),Ic={exports:{}};(function(e,t){(function(r,o){o(t)})(Ot,function(r){function o(E){return E==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,n){E.__proto__=n}||function(E,n){for(var i in n)n.hasOwnProperty(i)&&(E[i]=n[i])};function c(E,n){u(E,n);function i(){this.constructor=E}E.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function d(E,n){var i=Object.setPrototypeOf;i?i(E,n):E.__proto__=n}function m(E,n){n===void 0&&(n=E.constructor);var i=Error.captureStackTrace;i&&i(E,n)}var x=function(E){c(n,E);function n(i){var s=this.constructor,a=E.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),d(a,s.prototype),m(a),a}return n}(Error);class w extends x{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}w.kind="Exception";class v extends w{}v.kind="ArgumentException";class _ extends w{}_.kind="IllegalArgumentException";class T{constructor(n){if(this.binarizer=n,n===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,s,a){const l=this.binarizer.getLuminanceSource().crop(n,i,s,a);return new T(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends w{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class L{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(n,i,s,a,l){for(;l--;)s[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class H extends w{}H.kind="IndexOutOfBoundsException";class N extends H{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}N.kind="ArrayIndexOutOfBoundsException";class b{static fill(n,i){for(let s=0,a=n.length;s<a;s++)n[s]=i}static fillWithin(n,i,s,a){b.rangeCheck(n.length,i,s);for(let l=i;l<s;l++)n[l]=a}static rangeCheck(n,i,s){if(i>s)throw new _("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new N(i);if(s>n)throw new N(s)}static asList(...n){return n}static create(n,i,s){return Array.from({length:n}).map(l=>Array.from({length:i}).fill(s))}static createInt32Array(n,i,s){return Array.from({length:n}).map(l=>Int32Array.from({length:i}).fill(s))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==i[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const s of n)i=31*i+s;return i}static fillUint8Array(n,i){for(let s=0;s!==n.length;s++)n[s]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const s=new Uint8Array(i);return s.set(n),s}return n.slice(0,i)}static copyOfRange(n,i,s){const a=s-i,l=new Int32Array(a);return P.arraycopy(n,i,l,0,a),l}static binarySearch(n,i,s){s===void 0&&(s=b.numberComparator);let a=0,l=n.length-1;for(;a<=l;){const h=l+a>>1,f=s(i,n[h]);if(f>0)a=h+1;else if(f<0)l=h-1;else return h}return-a-1}static numberComparator(n,i){return n-i}}class O{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let s=31;return i=n<<16,i!==0&&(s-=16,n=i),i=n<<8,i!==0&&(s-=8,n=i),i=n<<4,i!==0&&(s-=4,n=i),i=n<<2,i!==0&&(s-=2,n=i),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=U.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=U.makeArray(n);P.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),l=s[a];l&=~((1<<(n&31))-1);const h=s.length;for(;l===0;){if(++a===h)return i;l=s[a]}const f=a*32+O.numberOfTrailingZeros(l);return f>i?i:f}getNextUnset(n){const i=this.size;if(n>=i)return i;const s=this.bits;let a=Math.floor(n/32),l=~s[a];l&=~((1<<(n&31))-1);const h=s.length;for(;l===0;){if(++a===h)return i;l=~s[a]}const f=a*32+O.numberOfTrailingZeros(l);return f>i?i:f}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new _;if(i===n)return;i--;const s=Math.floor(n/32),a=Math.floor(i/32),l=this.bits;for(let h=s;h<=a;h++){const f=h>s?0:n&31,p=(2<<(h<a?31:i&31))-(1<<f);l[h]|=p}}clear(){const n=this.bits.length,i=this.bits;for(let s=0;s<n;s++)i[s]=0}isRange(n,i,s){if(i<n||n<0||i>this.size)throw new _;if(i===n)return!0;i--;const a=Math.floor(n/32),l=Math.floor(i/32),h=this.bits;for(let f=a;f<=l;f++){const g=f>a?0:n&31,y=(2<<(f<l?31:i&31))-(1<<g)&4294967295;if((h[f]&y)!==(s?y:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new _("Sizes don't match");const i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=n.bits[s]}toBytes(n,i,s,a){for(let l=0;l<a;l++){let h=0;for(let f=0;f<8;f++)this.get(n)&&(h|=1<<7-f),n++;i[s+l]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let l=0;l<s;l++){let h=a[l];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[i-l]=h}if(this.size!==s*32){const l=s*32-this.size;let h=n[0]>>>l;for(let f=1;f<s;f++){const g=n[f];h|=g<<32-l,n[f-1]=h,h=g>>>l}n[s-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof U))return!1;const i=n;return this.size===i.size&&b.equals(this.bits,i.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let n="";for(let i=0,s=this.size;i<s;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new U(this.size,this.bits.slice())}}var K;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var J=K;class z extends w{static getFormatInstance(){return new z}}z.kind="FormatException";var ee;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class G{constructor(n,i,s,...a){this.valueIdentifier=n,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,G.VALUE_IDENTIFIER_TO_ECI.set(n,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let h=0,f=l.length;h!==f;h++){const g=l[h];G.VALUES_TO_ECI.set(g,this)}for(const h of a)G.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new z("incorect value");const i=G.VALUES_TO_ECI.get(n);if(i===void 0)throw new z("incorect value");return i}static getCharacterSetECIByName(n){const i=G.NAME_TO_ECI.get(n);if(i===void 0)throw new z("incorect value");return i}equals(n){if(!(n instanceof G))return!1;const i=n;return this.getName()===i.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(ee.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(ee.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(ee.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(ee.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(ee.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(ee.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(ee.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(ee.Big5,28,"Big5"),G.GB18030=new G(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(ee.EUC_KR,30,"EUC_KR","EUC-KR");class me extends w{}me.kind="UnsupportedOperationException";class Ue{static decode(n,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Ue.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof G?n:G.getCharacterSetECIByName(n)}static decodeFallback(n,i){const s=this.encodingCharacterSet(i);if(Ue.isDecodeFallbackSupported(s)){let a="";for(let l=0,h=n.length;l<h;l++){let f=n[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new me(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(G.UTF8)||n.equals(G.ISO8859_1)||n.equals(G.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let l=0;l<s.length;l++)a.push(s[l].charCodeAt(0));return new Uint8Array(a)}}class ce{static castAsNonUtf8Char(n,i=null){const s=i?i.getName():this.ISO88591;return Ue.decode(new Uint8Array([n]),s)}static guessEncoding(n,i){if(i!=null&&i.get(J.CHARACTER_SET)!==void 0)return i.get(J.CHARACTER_SET).toString();const s=n.length;let a=!0,l=!0,h=!0,f=0,g=0,p=0,y=0,C=0,A=0,I=0,R=0,k=0,M=0,V=0;const Z=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let q=0;q<s&&(a||l||h);q++){const $=n[q]&255;h&&(f>0?$&128?f--:h=!1:$&128&&($&64?(f++,$&32?(f++,$&16?(f++,$&8?h=!1:y++):p++):g++):h=!1)),a&&($>127&&$<160?a=!1:$>159&&($<192||$===215||$===247)&&V++),l&&(C>0?$<64||$===127||$>252?l=!1:C--:$===128||$===160||$>239?l=!1:$>160&&$<224?(A++,R=0,I++,I>k&&(k=I)):$>127?(C++,I=0,R++,R>M&&(M=R)):(I=0,R=0))}return h&&f>0&&(h=!1),l&&C>0&&(l=!1),h&&(Z||g+p+y>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||k>=3||M>=3)?ce.SHIFT_JIS:a&&l?k===2&&A===2||V*10>=s?ce.SHIFT_JIS:ce.ISO88591:a?ce.ISO88591:l?ce.SHIFT_JIS:h?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let s=-1;function a(h,f,g,p,y,C){if(h==="%%")return"%";if(i[++s]===void 0)return;h=p?parseInt(p.substr(1)):void 0;let A=y?parseInt(y.substr(1)):void 0,I;switch(C){case"s":I=i[s];break;case"c":I=i[s][0];break;case"f":I=parseFloat(i[s]).toFixed(h);break;case"p":I=parseFloat(i[s]).toPrecision(h);break;case"e":I=parseFloat(i[s]).toExponential(h);break;case"x":I=parseInt(i[s]).toString(A||16);break;case"d":I=parseFloat(parseInt(i[s],A||10).toPrecision(h)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let R=parseInt(g),k=g&&g[0]+""=="0"?"0":" ";for(;I.length<R;)I=f!==void 0?I+k:k+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}static getBytes(n,i){return Ue.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ce.SHIFT_JIS=G.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=G.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=G.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Se{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,s){for(let a=i;i<i+s;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class lt{constructor(n,i,s,a){if(this.width=n,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new _("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,s=n[0].length,a=new lt(s,i);for(let l=0;l<i;l++){const h=n[l];for(let f=0;f<s;f++)h[f]&&a.set(f,l)}return a}static parseFromString(n,i,s){if(n===null)throw new _("stringRepresentation cannot be null");const a=new Array(n.length);let l=0,h=0,f=-1,g=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new _("row lengths do not match");h=l,g++}p++}else if(n.substring(p,p+i.length)===i)p+=i.length,a[l]=!0,l++;else if(n.substring(p,p+s.length)===s)p+=s.length,a[l]=!1,l++;else throw new _("illegal character encountered: "+n.substring(p));if(l>h){if(f===-1)f=l-h;else if(l-h!==f)throw new _("row lengths do not match");g++}const y=new lt(f,g);for(let C=0;C<l;C++)a[C]&&y.set(Math.floor(C%f),Math.floor(C/f));return y}get(n,i){const s=i*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,i){const s=i*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new _("input matrix dimensions do not match");const i=new U(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let l=0,h=this.height;l<h;l++){const f=l*s,g=n.getRow(l,i).getBitArray();for(let p=0;p<s;p++)a[f+p]^=g[p]}}clear(){const n=this.bits,i=n.length;for(let s=0;s<i;s++)n[s]=0}setRegion(n,i,s,a){if(i<0||n<0)throw new _("Left and top must be nonnegative");if(a<1||s<1)throw new _("Height and width must be at least 1");const l=n+s,h=i+a;if(h>this.height||l>this.width)throw new _("The region must fit inside the matrix");const f=this.rowSize,g=this.bits;for(let p=i;p<h;p++){const y=p*f;for(let C=n;C<l;C++)g[y+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new U(this.width):i.clear();const s=this.rowSize,a=this.bits,l=n*s;for(let h=0;h<s;h++)i.setBulk(h*32,a[l+h]);return i}setRow(n,i){P.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let s=new U(n),a=new U(n);for(let l=0,h=Math.floor((i+1)/2);l<h;l++)s=this.getRow(l,s),a=this.getRow(i-1-l,a),s.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,s)}getEnclosingRectangle(){const n=this.width,i=this.height,s=this.rowSize,a=this.bits;let l=n,h=i,f=-1,g=-1;for(let p=0;p<i;p++)for(let y=0;y<s;y++){const C=a[p*s+y];if(C!==0){if(p<h&&(h=p),p>g&&(g=p),y*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;y*32+A<l&&(l=y*32+A)}if(y*32+31>f){let A=31;for(;!(C>>>A);)A--;y*32+A>f&&(f=y*32+A)}}}return f<l||g<h?null:Int32Array.from([l,h,f-l+1,g-h+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const a=s/n;let l=s%n*32;const h=i[s];let f=0;for(;!(h<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const a=Math.floor(s/n);let l=Math.floor(s%n)*32;const h=i[s];let f=31;for(;!(h>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof lt))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&b.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+b.hashCode(this.bits),n}toString(n="X ",i="  ",s=`
`){return this.buildToString(n,i,s)}buildToString(n,i,s){let a=new Se;for(let l=0,h=this.height;l<h;l++){for(let f=0,g=this.width;f<g;f++)a.append(this.get(f,l)?n:i);a.append(s)}return a.toString()}clone(){return new lt(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends w{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class nt extends L{constructor(n){super(n),this.luminances=nt.EMPTY,this.buckets=new Int32Array(nt.LUMINANCE_BUCKETS)}getBlackRow(n,i){const s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new U(a):i.clear(),this.initArrays(a);const l=s.getRow(n,this.luminances),h=this.buckets;for(let g=0;g<a;g++)h[(l[g]&255)>>nt.LUMINANCE_SHIFT]++;const f=nt.estimateBlackPoint(h);if(a<3)for(let g=0;g<a;g++)(l[g]&255)<f&&i.set(g);else{let g=l[0]&255,p=l[1]&255;for(let y=1;y<a-1;y++){const C=l[y+1]&255;(p*4-g-C)/2<f&&i.set(y),g=p,p=C}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight(),a=new lt(i,s);this.initArrays(i);const l=this.buckets;for(let g=1;g<5;g++){const p=Math.floor(s*g/5),y=n.getRow(p,this.luminances),C=Math.floor(i*4/5);for(let A=Math.floor(i/5);A<C;A++){const I=y[A]&255;l[I>>nt.LUMINANCE_SHIFT]++}}const h=nt.estimateBlackPoint(l),f=n.getMatrix();for(let g=0;g<s;g++){const p=g*i;for(let y=0;y<i;y++)(f[p+y]&255)<h&&a.set(y,g)}return a}createBinarizer(n){return new nt(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let s=0;s<nt.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(n){const i=n.length;let s=0,a=0,l=0;for(let y=0;y<i;y++)n[y]>l&&(a=y,l=n[y]),n[y]>s&&(s=n[y]);let h=0,f=0;for(let y=0;y<i;y++){const C=y-a,A=n[y]*C*C;A>f&&(h=y,f=A)}if(a>h){const y=a;a=h,h=y}if(h-a<=i/16)throw new W;let g=h-1,p=-1;for(let y=h-1;y>a;y--){const C=y-a,A=C*C*(h-y)*(s-n[y]);A>p&&(g=y,p=A)}return g<<nt.LUMINANCE_SHIFT}}nt.LUMINANCE_BITS=5,nt.LUMINANCE_SHIFT=8-nt.LUMINANCE_BITS,nt.LUMINANCE_BUCKETS=1<<nt.LUMINANCE_BITS,nt.EMPTY=Uint8ClampedArray.from([0]);class pe extends nt{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),s=n.getHeight();if(i>=pe.MINIMUM_DIMENSION&&s>=pe.MINIMUM_DIMENSION){const a=n.getMatrix();let l=i>>pe.BLOCK_SIZE_POWER;i&pe.BLOCK_SIZE_MASK&&l++;let h=s>>pe.BLOCK_SIZE_POWER;s&pe.BLOCK_SIZE_MASK&&h++;const f=pe.calculateBlackPoints(a,l,h,i,s),g=new lt(i,s);pe.calculateThresholdForBlock(a,l,h,i,s,f,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new pe(n)}static calculateThresholdForBlock(n,i,s,a,l,h,f){const g=l-pe.BLOCK_SIZE,p=a-pe.BLOCK_SIZE;for(let y=0;y<s;y++){let C=y<<pe.BLOCK_SIZE_POWER;C>g&&(C=g);const A=pe.cap(y,2,s-3);for(let I=0;I<i;I++){let R=I<<pe.BLOCK_SIZE_POWER;R>p&&(R=p);const k=pe.cap(I,2,i-3);let M=0;for(let Z=-2;Z<=2;Z++){const q=h[A+Z];M+=q[k-2]+q[k-1]+q[k]+q[k+1]+q[k+2]}const V=M/25;pe.thresholdBlock(n,R,C,V,a,f)}}}static cap(n,i,s){return n<i?i:n>s?s:n}static thresholdBlock(n,i,s,a,l,h){for(let f=0,g=s*l+i;f<pe.BLOCK_SIZE;f++,g+=l)for(let p=0;p<pe.BLOCK_SIZE;p++)(n[g+p]&255)<=a&&h.set(i+p,s+f)}static calculateBlackPoints(n,i,s,a,l){const h=l-pe.BLOCK_SIZE,f=a-pe.BLOCK_SIZE,g=new Array(s);for(let p=0;p<s;p++){g[p]=new Int32Array(i);let y=p<<pe.BLOCK_SIZE_POWER;y>h&&(y=h);for(let C=0;C<i;C++){let A=C<<pe.BLOCK_SIZE_POWER;A>f&&(A=f);let I=0,R=255,k=0;for(let V=0,Z=y*a+A;V<pe.BLOCK_SIZE;V++,Z+=a){for(let q=0;q<pe.BLOCK_SIZE;q++){const $=n[Z+q]&255;I+=$,$<R&&(R=$),$>k&&(k=$)}if(k-R>pe.MIN_DYNAMIC_RANGE)for(V++,Z+=a;V<pe.BLOCK_SIZE;V++,Z+=a)for(let q=0;q<pe.BLOCK_SIZE;q++)I+=n[Z+q]&255}let M=I>>pe.BLOCK_SIZE_POWER*2;if(k-R<=pe.MIN_DYNAMIC_RANGE&&(M=R/2,p>0&&C>0)){const V=(g[p-1][C]+2*g[p][C-1]+g[p-1][C-1])/4;R<V&&(M=V)}g[p][C]=M}}return g}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ne{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,s,a){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new Se;for(let s=0;s<this.height;s++){const a=this.getRow(s,n);for(let l=0;l<this.width;l++){const h=a[l]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class fe extends ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const s=this.delegate.getRow(n,i),a=this.getWidth();for(let l=0;l<a;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(n[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,s,a){return new fe(this.delegate.crop(n,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ge extends ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return ge.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,s){const a=new Uint8ClampedArray(i*s);for(let l=0,h=0,f=n.length;l<f;l+=4,h++){let g;if(n[l+3]===0)g=255;else{const y=n[l],C=n[l+1],A=n[l+2];g=306*y+601*C+117*A+512>>10}a[h]=g}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth(),a=n*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,s,a){return super.crop(n,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),s=i.getContext("2d"),a=n*ge.DEGREE_TO_RADIANS,l=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*h),g=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*h);return i.width=f,i.height=g,s.translate(f/2,g/2),s.rotate(a),s.drawImage(this.canvas,l/-2,h/-2),this.buffer=ge.makeBufferFromCanvasImageData(i),this}invert(){return new fe(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(n,i,s){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||Ot||self||window||void 0)&&(globalThis||Ot||self||window||void 0).__awaiter||function(E,n,i,s){function a(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function f(y){try{p(s.next(y))}catch(C){h(C)}}function g(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((s=s.apply(E,n||[])).next())})};class pn{constructor(n,i=500,s){this.reader=n,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of n){const a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;const l=s.deviceId||s.id,h=s.label||`Video device ${i.length+1}`,f=s.groupId,g={deviceId:l,label:h,kind:a,groupId:f};i.push(g)}return i})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ye(i.deviceId,i.label))})}findDeviceById(n){return Ie(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Ie(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return Ie(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(n,i){return Ie(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,i,s){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,s)})}decodeFromVideoDevice(n,i,s){return Ie(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,i,s)})}decodeFromConstraints(n,i,s){return Ie(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(n,i,s){return Ie(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Ie(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((i,s)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const s=document.getElementById(n);if(!s)throw new v(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new v(`element with id '${n}' must be an ${i} element`);return s}decodeFromImage(n,i){if(!n&&!i)throw new v("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new v("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,s){if(n===void 0&&i===void 0)throw new v("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new v("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(n){if(!n)throw new v("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=n,s}decodeFromVideoUrl(n){if(!n)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=n,s}decodeFromVideoUrlContinuously(n,i){if(!n)throw new v("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=n,a}_decodeOnLoadImage(n){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,s=!0){this._stopAsyncDecode=!1;const a=(l,h)=>{if(this._stopAsyncDecode){h(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);l(f)}catch(f){const g=i&&f instanceof W,y=(f instanceof D||f instanceof z)&&s;if(g||y)return setTimeout(a,this._timeBetweenDecodingAttempts,l,h);h(f)}};return new Promise((l,h)=>a(l,h))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);const l=a instanceof D||a instanceof z,h=a instanceof W;(l||h)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,s){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),s=new ge(i),a=new pe(s);return new T(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class qe{constructor(n,i,s=i==null?0:8*i.length,a,l,h=P.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=l,this.timestamp=h,this.text=n,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=l,this.resultMetadata=null,h==null?this.timestamp=P.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(i.length+n.length);P.arraycopy(i,0,s,0,i.length),P.arraycopy(n,0,s,i.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var zr;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(zr||(zr={}));var ae=zr,lr;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lr||(lr={}));var yt=lr;class fs{constructor(n,i,s,a,l=-1,h=-1){this.rawBytes=n,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ds{exp(n){return this.expTable[n]}log(n){if(n===0)throw new _;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Gt{constructor(n,i){if(i.length===0)throw new _;this.field=n;const s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),P.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(n===1){s=0;for(let h=0,f=i.length;h!==f;h++){const g=i[h];s=ds.addOrSubtract(s,g)}return s}s=i[0];const a=i.length,l=this.field;for(let h=1;h<a;h++)s=ds.addOrSubtract(l.multiply(n,s),i[h]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){const h=i;i=s,s=h}let a=new Int32Array(s.length);const l=s.length-i.length;P.arraycopy(s,0,a,0,l);for(let h=l;h<s.length;h++)a[h]=ds.addOrSubtract(i[h-l],s[h]);return new Gt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,a=n.coefficients,l=a.length,h=new Int32Array(s+l-1),f=this.field;for(let g=0;g<s;g++){const p=i[g];for(let y=0;y<l;y++)h[g+y]=ds.addOrSubtract(h[g+y],f.multiply(p,a[y]))}return new Gt(f,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,s=this.field,a=new Int32Array(i),l=this.coefficients;for(let h=0;h<i;h++)a[h]=s.multiply(l[h],n);return new Gt(s,a)}multiplyByMonomial(n,i){if(n<0)throw new _;if(i===0)return this.field.getZero();const s=this.coefficients,a=s.length,l=new Int32Array(a+n),h=this.field;for(let f=0;f<a;f++)l[f]=h.multiply(s[f],i);return new Gt(h,l)}divide(n){if(!this.field.equals(n.field))throw new _("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new _("Divide by 0");const i=this.field;let s=i.getZero(),a=this;const l=n.getCoefficient(n.getDegree()),h=i.inverse(l);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const f=a.getDegree()-n.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),h),p=n.multiplyByMonomial(f,g),y=i.buildMonomial(f,g);s=s.addOrSubtract(y),a=a.addOrSubtract(p)}return[s,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),i===0||s!==1){const a=this.field.log(s);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Io extends w{}Io.kind="ArithmeticException";class Oe extends ds{constructor(n,i,s){super(),this.primitive=n,this.size=i,this.generatorBase=s;const a=new Int32Array(i);let l=1;for(let f=0;f<i;f++)a[f]=l,l*=2,l>=i&&(l^=n,l&=i-1);this.expTable=a;const h=new Int32Array(i);for(let f=0;f<i-1;f++)h[a[f]]=f;this.logTable=h,this.zero=new Gt(this,Int32Array.from([0])),this.one=new Gt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new _;if(i===0)return this.zero;const s=new Int32Array(n+1);return s[0]=i,new Gt(this,s)}inverse(n){if(n===0)throw new Io;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class mi extends w{}mi.kind="ReedSolomonException";class Fn extends w{}Fn.kind="IllegalStateException";class gs{constructor(n){this.field=n}decode(n,i){const s=this.field,a=new Gt(s,n),l=new Int32Array(i);let h=!0;for(let I=0;I<i;I++){const R=a.evaluateAt(s.exp(I+s.getGeneratorBase()));l[l.length-1-I]=R,R!==0&&(h=!1)}if(h)return;const f=new Gt(s,l),g=this.runEuclideanAlgorithm(s.buildMonomial(i,1),f,i),p=g[0],y=g[1],C=this.findErrorLocations(p),A=this.findErrorMagnitudes(y,C);for(let I=0;I<C.length;I++){const R=n.length-1-s.log(C[I]);if(R<0)throw new mi("Bad error location");n[R]=Oe.addOrSubtract(n[R],A[I])}}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){const I=n;n=i,i=I}const a=this.field;let l=n,h=i,f=a.getZero(),g=a.getOne();for(;h.getDegree()>=(s/2|0);){let I=l,R=f;if(l=h,f=g,l.isZero())throw new mi("r_{i-1} was zero");h=I;let k=a.getZero();const M=l.getCoefficient(l.getDegree()),V=a.inverse(M);for(;h.getDegree()>=l.getDegree()&&!h.isZero();){const Z=h.getDegree()-l.getDegree(),q=a.multiply(h.getCoefficient(h.getDegree()),V);k=k.addOrSubtract(a.buildMonomial(Z,q)),h=h.addOrSubtract(l.multiplyByMonomial(Z,q))}if(g=k.multiply(f).addOrSubtract(R),h.getDegree()>=l.getDegree())throw new Fn("Division algorithm failed to reduce polynomial?")}const p=g.getCoefficient(0);if(p===0)throw new mi("sigmaTilde(0) was zero");const y=a.inverse(p),C=g.multiplyScalar(y),A=h.multiplyScalar(y);return[C,A]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(i);let a=0;const l=this.field;for(let h=1;h<l.getSize()&&a<i;h++)n.evaluateAt(h)===0&&(s[a]=l.inverse(h),a++);if(a!==i)throw new mi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,i){const s=i.length,a=new Int32Array(s),l=this.field;for(let h=0;h<s;h++){const f=l.inverse(i[h]);let g=1;for(let p=0;p<s;p++)if(h!==p){const y=l.multiply(i[p],f),C=y&1?y&-2:y|1;g=l.multiply(g,C)}a[h]=l.multiply(n.evaluateAt(f),l.inverse(g)),l.getGeneratorBase()!==0&&(a[h]=l.multiply(a[h],f))}return a}}var St;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(St||(St={}));class je{decode(n){this.ddata=n;let i=n.getBits(),s=this.extractBits(i),a=this.correctBits(s),l=je.convertBoolArrayToByteArray(a),h=je.getEncodedData(a),f=new fs(l,h,null,null);return f.setNumBits(a.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,s=St.UPPER,a=St.UPPER,l="",h=0;for(;h<i;)if(a===St.BINARY){if(i-h<5)break;let f=je.readCode(n,h,5);if(h+=5,f===0){if(i-h<11)break;f=je.readCode(n,h,11)+31,h+=11}for(let g=0;g<f;g++){if(i-h<8){h=i;break}const p=je.readCode(n,h,8);l+=ce.castAsNonUtf8Char(p),h+=8}a=s}else{let f=a===St.DIGIT?4:5;if(i-h<f)break;let g=je.readCode(n,h,f);h+=f;let p=je.getCharacter(a,g);p.startsWith("CTRL_")?(s=a,a=je.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=a)):(l+=p,a=s)}return l}static getTable(n){switch(n){case"L":return St.LOWER;case"P":return St.PUNCT;case"M":return St.MIXED;case"D":return St.DIGIT;case"B":return St.BINARY;case"U":default:return St.UPPER}}static getCharacter(n,i){switch(n){case St.UPPER:return je.UPPER_TABLE[i];case St.LOWER:return je.LOWER_TABLE[i];case St.MIXED:return je.MIXED_TABLE[i];case St.PUNCT:return je.PUNCT_TABLE[i];case St.DIGIT:return je.DIGIT_TABLE[i];default:throw new Fn("Bad table")}}correctBits(n){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=Oe.AZTEC_DATA_10):(s=12,i=Oe.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=n.length/s;if(l<a)throw new z;let h=n.length%s,f=new Int32Array(l);for(let A=0;A<l;A++,h+=s)f[A]=je.readCode(n,h,s);try{new gs(i).decode(f,l-a)}catch(A){throw new z(A)}let g=(1<<s)-1,p=0;for(let A=0;A<a;A++){let I=f[A];if(I===0||I===g)throw new z;(I===1||I===g-1)&&p++}let y=new Array(a*s-p),C=0;for(let A=0;A<a;A++){let I=f[A];if(I===1||I===g-1)y.fill(I>1,C,C+s-1),C+=s-1;else for(let R=s-1;R>=0;--R)y[C++]=(I&1<<R)!==0}return y}extractBits(n){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(i?11:14)+s*4,l=new Int32Array(a),h=new Array(this.totalBitsInLayer(s,i));if(i)for(let f=0;f<l.length;f++)l[f]=f;else{let f=a+1+2*O.truncDivision(O.truncDivision(a,2)-1,15),g=a/2,p=O.truncDivision(f,2);for(let y=0;y<g;y++){let C=y+O.truncDivision(y,15);l[g-y-1]=p-C-1,l[g+y]=p+C+1}}for(let f=0,g=0;f<s;f++){let p=(s-f)*4+(i?9:12),y=f*2,C=a-1-y;for(let A=0;A<p;A++){let I=A*2;for(let R=0;R<2;R++)h[g+I+R]=n.get(l[y+R],l[y+A]),h[g+2*p+I+R]=n.get(l[y+A],l[C-R]),h[g+4*p+I+R]=n.get(l[C-R],l[C-A]),h[g+6*p+I+R]=n.get(l[C-A],l[y+R])}g+=p*8}return h}static readCode(n,i,s){let a=0;for(let l=i;l<i+s;l++)a<<=1,n[l]&&(a|=1);return a}static readByte(n,i){let s=n.length-i;return s>=8?je.readCode(n,i,8):je.readCode(n,i,s)<<8-s}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let s=0;s<i.length;s++)i[s]=je.readByte(n,8*s);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,s,a){const l=n-s,h=i-a;return Math.sqrt(l*l+h*h)}static sum(n){let i=0;for(let s=0,a=n.length;s!==a;s++){const l=n[s];i+=l}return i}}class To{static floatToIntBits(n){return n}}To.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof oe){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*To.floatToIntBits(this.x)+To.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let l,h,f;if(s>=i&&s>=a?(h=n[0],l=n[1],f=n[2]):a>=s&&a>=i?(h=n[1],l=n[0],f=n[2]):(h=n[2],l=n[0],f=n[1]),this.crossProductZ(l,h,f)<0){const g=l;l=f,f=g}n[0]=l,n[1]=h,n[2]=f}static distance(n,i){return Te.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,s){const a=i.x,l=i.y;return(s.x-a)*(n.y-l)-(s.y-l)*(n.x-a)}}class bo{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class O0 extends bo{constructor(n,i,s,a,l){super(n,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zn{constructor(n,i,s,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=Zn.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const l=i/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let n=this.leftInit,i=this.rightInit,s=this.upInit,a=this.downInit,l=!1,h=!0,f=!1,g=!1,p=!1,y=!1,C=!1;const A=this.width,I=this.height;for(;h;){h=!1;let R=!0;for(;(R||!g)&&i<A;)R=this.containsBlackPoint(s,a,i,!1),R?(i++,h=!0,g=!0):g||i++;if(i>=A){l=!0;break}let k=!0;for(;(k||!p)&&a<I;)k=this.containsBlackPoint(n,i,a,!0),k?(a++,h=!0,p=!0):p||a++;if(a>=I){l=!0;break}let M=!0;for(;(M||!y)&&n>=0;)M=this.containsBlackPoint(s,a,n,!1),M?(n--,h=!0,y=!0):y||n--;if(n<0){l=!0;break}let V=!0;for(;(V||!C)&&s>=0;)V=this.containsBlackPoint(n,i,s,!0),V?(s--,h=!0,C=!0):C||s--;if(s<0){l=!0;break}h&&(f=!0)}if(!l&&f){const R=i-n;let k=null;for(let q=1;k===null&&q<R;q++)k=this.getBlackPointOnSegment(n,a-q,n+q,a);if(k==null)throw new W;let M=null;for(let q=1;M===null&&q<R;q++)M=this.getBlackPointOnSegment(n,s+q,n+q,s);if(M==null)throw new W;let V=null;for(let q=1;V===null&&q<R;q++)V=this.getBlackPointOnSegment(i,s+q,i-q,s);if(V==null)throw new W;let Z=null;for(let q=1;Z===null&&q<R;q++)Z=this.getBlackPointOnSegment(i,a-q,i-q,a);if(Z==null)throw new W;return this.centerEdges(Z,k,V,M)}else throw new W}getBlackPointOnSegment(n,i,s,a){const l=Te.round(Te.distance(n,i,s,a)),h=(s-n)/l,f=(a-i)/l,g=this.image;for(let p=0;p<l;p++){const y=Te.round(n+p*h),C=Te.round(i+p*f);if(g.get(y,C))return new oe(y,C)}return null}centerEdges(n,i,s,a){const l=n.getX(),h=n.getY(),f=i.getX(),g=i.getY(),p=s.getX(),y=s.getY(),C=a.getX(),A=a.getY(),I=Zn.CORR;return l<this.width/2?[new oe(C-I,A+I),new oe(f+I,g+I),new oe(p-I,y-I),new oe(l+I,h-I)]:[new oe(C+I,A+I),new oe(f+I,g-I),new oe(p-I,y+I),new oe(l-I,h-I)]}containsBlackPoint(n,i,s,a){const l=this.image;if(a){for(let h=n;h<=i;h++)if(l.get(h,s))return!0}else for(let h=n;h<=i;h++)if(l.get(s,h))return!0;return!1}}Zn.INIT_SIZE=10,Zn.CORR=1;class vl{static checkAndNudgePoints(n,i){const s=n.getWidth(),a=n.getHeight();let l=!0;for(let h=0;h<i.length&&l;h+=2){const f=Math.floor(i[h]),g=Math.floor(i[h+1]);if(f<-1||f>s||g<-1||g>a)throw new W;l=!1,f===-1?(i[h]=0,l=!0):f===s&&(i[h]=s-1,l=!0),g===-1?(i[h+1]=0,l=!0):g===a&&(i[h+1]=a-1,l=!0)}l=!0;for(let h=i.length-2;h>=0&&l;h-=2){const f=Math.floor(i[h]),g=Math.floor(i[h+1]);if(f<-1||f>s||g<-1||g>a)throw new W;l=!1,f===-1?(i[h]=0,l=!0):f===s&&(i[h]=s-1,l=!0),g===-1?(i[h+1]=0,l=!0):g===a&&(i[h+1]=a-1,l=!0)}}}class In{constructor(n,i,s,a,l,h,f,g,p){this.a11=n,this.a21=i,this.a31=s,this.a12=a,this.a22=l,this.a32=h,this.a13=f,this.a23=g,this.a33=p}static quadrilateralToQuadrilateral(n,i,s,a,l,h,f,g,p,y,C,A,I,R,k,M){const V=In.quadrilateralToSquare(n,i,s,a,l,h,f,g);return In.squareToQuadrilateral(p,y,C,A,I,R,k,M).times(V)}transformPoints(n){const i=n.length,s=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,g=this.a23,p=this.a31,y=this.a32,C=this.a33;for(let A=0;A<i;A+=2){const I=n[A],R=n[A+1],k=l*I+g*R+C;n[A]=(s*I+h*R+p)/k,n[A+1]=(a*I+f*R+y)/k}}transformPointsWithValues(n,i){const s=this.a11,a=this.a12,l=this.a13,h=this.a21,f=this.a22,g=this.a23,p=this.a31,y=this.a32,C=this.a33,A=n.length;for(let I=0;I<A;I++){const R=n[I],k=i[I],M=l*R+g*k+C;n[I]=(s*R+h*k+p)/M,i[I]=(a*R+f*k+y)/M}}static squareToQuadrilateral(n,i,s,a,l,h,f,g){const p=n-s+l-f,y=i-a+h-g;if(p===0&&y===0)return new In(s-n,l-s,n,a-i,h-a,i,0,0,1);{const C=s-l,A=f-l,I=a-h,R=g-h,k=C*R-A*I,M=(p*R-A*y)/k,V=(C*y-p*I)/k;return new In(s-n+M*s,f-n+V*f,n,a-i+M*a,g-i+V*g,i,M,V,1)}}static quadrilateralToSquare(n,i,s,a,l,h,f,g){return In.squareToQuadrilateral(n,i,s,a,l,h,f,g).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new In(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class R0 extends vl{sampleGrid(n,i,s,a,l,h,f,g,p,y,C,A,I,R,k,M,V,Z,q){const $=In.quadrilateralToQuadrilateral(a,l,h,f,g,p,y,C,A,I,R,k,M,V,Z,q);return this.sampleGridWithTransform(n,i,s,$)}sampleGridWithTransform(n,i,s,a){if(i<=0||s<=0)throw new W;const l=new lt(i,s),h=new Float32Array(2*i);for(let f=0;f<s;f++){const g=h.length,p=f+.5;for(let y=0;y<g;y+=2)h[y]=y/2+.5,h[y+1]=p;a.transformPoints(h),vl.checkAndNudgePoints(n,h);try{for(let y=0;y<g;y+=2)n.get(Math.floor(h[y]),Math.floor(h[y+1]))&&l.set(y/2,f)}catch{throw new W}}return l}}class ur{static setGridSampler(n){ur.gridSampler=n}static getInstance(){return ur.gridSampler}}ur.gridSampler=new R0;class Ut{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class k0{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(n){let h=s[0];s[0]=s[2],s[2]=h}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new O0(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new W;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let h=0;h<4;h++){let f=s[(this.shift+h)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,i){let s=0;n.forEach((a,l,h)=>{let f=(a>>i-2<<1)+(a&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(O.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new W}getCorrectedParameterData(n,i){let s,a;i?(s=7,a=2):(s=10,a=4);let l=s-a,h=new Int32Array(s);for(let g=s-1;g>=0;--g)h[g]=n&15,n>>=4;try{new gs(Oe.AZTEC_PARAM).decode(h,l)}catch{throw new W}let f=0;for(let g=0;g<a;g++)f=(f<<4)+h[g];return f}getBullsEyeCorners(n){let i=n,s=n,a=n,l=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(i,h,1,-1),A=this.getFirstDifferent(s,h,1,1),I=this.getFirstDifferent(a,h,-1,1),R=this.getFirstDifferent(l,h,-1,-1);if(this.nbCenterLayers>2){let k=this.distancePoint(R,C)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(C,A,I,R))break}i=C,s=A,a=I,l=R,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new oe(i.getX()+.5,i.getY()-.5),g=new oe(s.getX()+.5,s.getY()+.5),p=new oe(a.getX()-.5,a.getY()+.5),y=new oe(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,g,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,s,a;try{let f=new Zn(this.image).detect();n=f[0],i=f[1],s=f[2],a=f[3]}catch{let g=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Ut(g+7,p-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ut(g+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ut(g-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ut(g-7,p-7),!1,-1,-1).toResultPoint()}let l=Te.round((n.getX()+a.getX()+i.getX()+s.getX())/4),h=Te.round((n.getY()+a.getY()+i.getY()+s.getY())/4);try{let f=new Zn(this.image,15,l,h).detect();n=f[0],i=f[1],s=f[2],a=f[3]}catch{n=this.getFirstDifferent(new Ut(l+7,h-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Ut(l+7,h+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Ut(l-7,h+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Ut(l-7,h-7),!1,-1,-1).toResultPoint()}return l=Te.round((n.getX()+a.getX()+i.getX()+s.getX())/4),h=Te.round((n.getY()+a.getY()+i.getY()+s.getY())/4),new Ut(l,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,s,a,l){let h=ur.getInstance(),f=this.getDimension(),g=f/2-this.nbCenterLayers,p=f/2+this.nbCenterLayers;return h.sampleGrid(n,f,f,g,g,p,g,p,p,g,p,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(n,i,s){let a=0,l=this.distanceResultPoint(n,i),h=l/s,f=n.getX(),g=n.getY(),p=h*(i.getX()-n.getX())/l,y=h*(i.getY()-n.getY())/l;for(let C=0;C<s;C++)this.image.get(Te.round(f+C*p),Te.round(g+C*y))&&(a|=1<<s-C-1);return a}isWhiteOrBlackRectangle(n,i,s,a){let l=3;n=new Ut(n.getX()-l,n.getY()+l),i=new Ut(i.getX()-l,i.getY()-l),s=new Ut(s.getX()+l,s.getY()-l),a=new Ut(a.getX()+l,a.getY()+l);let h=this.getColor(a,n);if(h===0)return!1;let f=this.getColor(n,i);return f!==h||(f=this.getColor(i,s),f!==h)?!1:(f=this.getColor(s,a),f===h)}getColor(n,i){let s=this.distancePoint(n,i),a=(i.getX()-n.getX())/s,l=(i.getY()-n.getY())/s,h=0,f=n.getX(),g=n.getY(),p=this.image.get(n.getX(),n.getY()),y=Math.ceil(s);for(let A=0;A<y;A++)f+=a,g+=l,this.image.get(Te.round(f),Te.round(g))!==p&&h++;let C=h/s;return C>.1&&C<.9?0:C<=.1===p?1:-1}getFirstDifferent(n,i,s,a){let l=n.getX()+s,h=n.getY()+a;for(;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=s,h+=a;for(l-=s,h-=a;this.isValid(l,h)&&this.image.get(l,h)===i;)l+=s;for(l-=s;this.isValid(l,h)&&this.image.get(l,h)===i;)h+=a;return h-=a,new Ut(l,h)}expandSquare(n,i,s){let a=s/(2*i),l=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,p=new oe(f+a*l,g+a*h),y=new oe(f-a*l,g-a*h);l=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let C=new oe(f+a*l,g+a*h),A=new oe(f-a*l,g-a*h);return[p,C,y,A]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Te.round(n.getX()),s=Te.round(n.getY());return this.isValid(i,s)}distancePoint(n,i){return Te.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Te.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class No{decode(n,i=null){let s=null,a=new k0(n.getBlackMatrix()),l=null,h=null;try{let y=a.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(i,l),h=new je().decode(y)}catch(y){s=y}if(h==null)try{let y=a.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(i,l),h=new je().decode(y)}catch(y){throw s??y}let f=new qe(h.getText(),h.getRawBytes(),h.getNumBits(),l,ae.AZTEC,P.currentTimeMillis()),g=h.getByteSegments();g!=null&&f.putMetadata(yt.BYTE_SEGMENTS,g);let p=h.getECLevel();return p!=null&&f.putMetadata(yt.ERROR_CORRECTION_LEVEL,p),f}reportFoundResultPoints(n,i){if(n!=null){let s=n.get(J.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,l,h)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class Qg extends pn{constructor(n=500){super(new No,n)}}class ht{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(J.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),h=this.doDecode(l,i),f=h.getResultMetadata();let g=270;f!==null&&f.get(yt.ORIENTATION)===!0&&(g=g+f.get(yt.ORIENTATION)%360),h.putMetadata(yt.ORIENTATION,g);const p=h.getResultPoints();if(p!==null){const y=l.getHeight();for(let C=0;C<p.length;C++)p[C]=new oe(y-p[C].getY()-1,p[C].getX())}return h}else throw new W}}reset(){}doDecode(n,i){const s=n.getWidth(),a=n.getHeight();let l=new U(s);const h=i&&i.get(J.TRY_HARDER)===!0,f=Math.max(1,a>>(h?8:5));let g;h?g=a:g=15;const p=Math.trunc(a/2);for(let y=0;y<g;y++){const C=Math.trunc((y+1)/2),A=(y&1)===0,I=p+f*(A?C:-C);if(I<0||I>=a)break;try{l=n.getBlackRow(I,l)}catch{continue}for(let R=0;R<2;R++){if(R===1&&(l.reverse(),i&&i.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const k=new Map;i.forEach((M,V)=>k.set(V,M)),k.delete(J.NEED_RESULT_POINT_CALLBACK),i=k}try{const k=this.decodeRow(I,l,i);if(R===1){k.putMetadata(yt.ORIENTATION,180);const M=k.getResultPoints();M!==null&&(M[0]=new oe(s-M[0].getX()-1,M[0].getY()),M[1]=new oe(s-M[1].getX()-1,M[1].getY()))}return k}catch{}}}throw new W}static recordPattern(n,i,s){const a=s.length;for(let p=0;p<a;p++)s[p]=0;const l=n.getSize();if(i>=l)throw new W;let h=!n.get(i),f=0,g=i;for(;g<l;){if(n.get(g)!==h)s[f]++;else{if(++f===a)break;s[f]=1,h=!h}g++}if(!(f===a||f===a-1&&g===l))throw new W}static recordPatternInReverse(n,i,s){let a=s.length,l=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new W;ht.recordPattern(n,i+1,s)}static patternMatchVariance(n,i,s){const a=n.length;let l=0,h=0;for(let p=0;p<a;p++)l+=n[p],h+=i[p];if(l<h)return Number.POSITIVE_INFINITY;const f=l/h;s*=f;let g=0;for(let p=0;p<a;p++){const y=n[p],C=i[p]*f,A=y>C?y-C:C-y;if(A>s)return Number.POSITIVE_INFINITY;g+=A}return g/l}}class te extends ht{static findStartPattern(n){const i=n.getSize(),s=n.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),h=s,f=!1;const g=6;for(let p=s;p<i;p++)if(n.get(p)!==f)l[a]++;else{if(a===g-1){let y=te.MAX_AVG_VARIANCE,C=-1;for(let A=te.CODE_START_A;A<=te.CODE_START_C;A++){const I=ht.patternMatchVariance(l,te.CODE_PATTERNS[A],te.MAX_INDIVIDUAL_VARIANCE);I<y&&(y=I,C=A)}if(C>=0&&n.isRange(Math.max(0,h-(p-h)/2),h,!1))return Int32Array.from([h,p,C]);h+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new W}static decodeCode(n,i,s){ht.recordPattern(n,s,i);let a=te.MAX_AVG_VARIANCE,l=-1;for(let h=0;h<te.CODE_PATTERNS.length;h++){const f=te.CODE_PATTERNS[h],g=this.patternMatchVariance(i,f,te.MAX_INDIVIDUAL_VARIANCE);g<a&&(a=g,l=h)}if(l>=0)return l;throw new W}decodeRow(n,i,s){const a=s&&s.get(J.ASSUME_GS1)===!0,l=te.findStartPattern(i),h=l[2];let f=0;const g=new Uint8Array(20);g[f++]=h;let p;switch(h){case te.CODE_START_A:p=te.CODE_CODE_A;break;case te.CODE_START_B:p=te.CODE_CODE_B;break;case te.CODE_START_C:p=te.CODE_CODE_C;break;default:throw new z}let y=!1,C=!1,A="",I=l[0],R=l[1];const k=Int32Array.from([0,0,0,0,0,0]);let M=0,V=0,Z=h,q=0,$=!0,Ce=!1,xe=!1;for(;!y;){const Si=C;switch(C=!1,M=V,V=te.decodeCode(i,k,R),g[f++]=V,V!==te.CODE_STOP&&($=!0),V!==te.CODE_STOP&&(q++,Z+=q*V),I=R,R+=k.reduce((T2,b2)=>T2+b2,0),V){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new z}switch(p){case te.CODE_CODE_A:if(V<64)xe===Ce?A+=String.fromCharCode(32+V):A+=String.fromCharCode(32+V+128),xe=!1;else if(V<96)xe===Ce?A+=String.fromCharCode(V-64):A+=String.fromCharCode(V+64),xe=!1;else switch(V!==te.CODE_STOP&&($=!1),V){case te.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Ce&&xe?(Ce=!0,xe=!1):Ce&&xe?(Ce=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:C=!0,p=te.CODE_CODE_B;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:y=!0;break}break;case te.CODE_CODE_B:if(V<96)xe===Ce?A+=String.fromCharCode(32+V):A+=String.fromCharCode(32+V+128),xe=!1;else switch(V!==te.CODE_STOP&&($=!1),V){case te.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Ce&&xe?(Ce=!0,xe=!1):Ce&&xe?(Ce=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:C=!0,p=te.CODE_CODE_A;break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:y=!0;break}break;case te.CODE_CODE_C:if(V<100)V<10&&(A+="0"),A+=V;else switch(V!==te.CODE_STOP&&($=!1),V){case te.CODE_FNC_1:a&&(A.length===0?A+="]C1":A+="");break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_STOP:y=!0;break}break}Si&&(p=p===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Kt=R-I;if(R=i.getNextUnset(R),!i.isRange(R,Math.min(i.getSize(),R+(R-I)/2),!1))throw new W;if(Z-=q*M,Z%103!==M)throw new D;const bn=A.length;if(bn===0)throw new W;bn>0&&$&&(p===te.CODE_CODE_C?A=A.substring(0,bn-2):A=A.substring(0,bn-1));const Zt=(l[1]+l[0])/2,Fe=I+Kt/2,bt=g.length,on=new Uint8Array(bt);for(let Si=0;Si<bt;Si++)on[Si]=g[Si];const Ai=[new oe(Zt,n),new oe(Fe,n)];return new qe(A,on,0,Ai,ae.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class gt extends ht{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,s){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=gt.findAsteriskPattern(i,a),h=i.getNextSet(l[1]),f=i.getSize(),g,p;do{gt.recordPattern(i,h,a);let k=gt.toNarrowWidePattern(a);if(k<0)throw new W;g=gt.patternToChar(k),this.decodeRowResult+=g,p=h;for(let M of a)h+=M;h=i.getNextSet(h)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let k of a)y+=k;let C=h-p-y;if(h!==f&&C*2<y)throw new W;if(this.usingCheckDigit){let k=this.decodeRowResult.length-1,M=0;for(let V=0;V<k;V++)M+=gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(k)!==gt.ALPHABET_STRING.charAt(M%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,k)}if(this.decodeRowResult.length===0)throw new W;let A;this.extendedMode?A=gt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let I=(l[1]+l[0])/2,R=p+y/2;return new qe(A,null,0,[new oe(I,n),new oe(R,n)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let s=n.getSize(),a=n.getNextSet(0),l=0,h=a,f=!1,g=i.length;for(let p=a;p<s;p++)if(n.get(p)!==f)i[l]++;else{if(l===g-1){if(this.toNarrowWidePattern(i)===gt.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((p-h)/2)),h,!1))return[h,p];h+=i[0]+i[1],i.copyWithin(0,2,2+l-1),i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,f=!f}throw new W}static toNarrowWidePattern(n){let i=n.length,s=0,a;do{let l=2147483647;for(let g of n)g<l&&g>s&&(l=g);s=l,a=0;let h=0,f=0;for(let g=0;g<i;g++){let p=n[g];p>s&&(f|=1<<i-1-g,a++,h+=p)}if(a===3){for(let g=0;g<i&&a>0;g++){let p=n[g];if(p>s&&(a--,p*2>=h))return-1}return f}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<gt.CHARACTER_ENCODINGS.length;i++)if(gt.CHARACTER_ENCODINGS[i]===n)return gt.ALPHABET_STRING.charAt(i);if(n===gt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(n){let i=n.length,s="";for(let a=0;a<i;a++){let l=n.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let h=n.charAt(a+1),f="\0";switch(l){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new z;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new z;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new z;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new z;break}s+=f,a++}else s+=l}return s}}gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gt.ASTERISK_ENCODING=148;class Le extends ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,s){let a=this.decodeStart(i),l=this.decodeEnd(i),h=new Se;Le.decodeMiddle(i,a[1],l[0],h);let f=h.toString(),g=null;s!=null&&(g=s.get(J.ALLOWED_LENGTHS)),g==null&&(g=Le.DEFAULT_ALLOWED_LENGTHS);let p=f.length,y=!1,C=0;for(let R of g){if(p===R){y=!0;break}R>C&&(C=R)}if(!y&&p>C&&(y=!0),!y)throw new z;const A=[new oe(a[1],n),new oe(l[0],n)];return new qe(f,null,0,A,ae.ITF,new Date().getTime())}static decodeMiddle(n,i,s,a){let l=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),h.fill(0),f.fill(0);i<s;){ht.recordPattern(n,i,l);for(let p=0;p<5;p++){let y=2*p;h[p]=l[y],f[p]=l[y+1]}let g=Le.decodeDigit(h);a.append(g.toString()),g=this.decodeDigit(f),a.append(g.toString()),l.forEach(function(p){i+=p})}}decodeStart(n){let i=Le.skipWhiteSpace(n),s=Le.findGuardPattern(n,i,Le.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!n.get(a);a--)s--;if(s!==0)throw new W}static skipWhiteSpace(n){const i=n.getSize(),s=n.getNextSet(0);if(s===i)throw new W;return s}decodeEnd(n){n.reverse();try{let i=Le.skipWhiteSpace(n),s;try{s=Le.findGuardPattern(n,i,Le.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(s=Le.findGuardPattern(n,i,Le.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let a=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-a,s}finally{n.reverse()}}static findGuardPattern(n,i,s){let a=s.length,l=new Int32Array(a),h=n.getSize(),f=!1,g=0,p=i;l.fill(0);for(let y=i;y<h;y++)if(n.get(y)!==f)l[g]++;else{if(g===a-1){if(ht.patternMatchVariance(l,s,Le.MAX_INDIVIDUAL_VARIANCE)<Le.MAX_AVG_VARIANCE)return[p,y];p+=l[0]+l[1],P.arraycopy(l,2,l,0,g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,f=!f}throw new W}static decodeDigit(n){let i=Le.MAX_AVG_VARIANCE,s=-1,a=Le.PATTERNS.length;for(let l=0;l<a;l++){let h=Le.PATTERNS[l],f=ht.patternMatchVariance(n,h,Le.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,s=l):f===i&&(s=-1)}if(s>=0)return s%10;throw new W}}Le.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Le.MAX_AVG_VARIANCE=.38,Le.MAX_INDIVIDUAL_VARIANCE=.5,Le.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Le.START_PATTERN=Int32Array.from([1,1,1,1]),Le.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,s,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),s=rt.findGuardPattern(n,a,!1,this.START_END_PATTERN,l);let h=s[0];a=s[1];let f=h-(a-h);f>=0&&(i=n.isRange(f,h,!1))}return s}static checkChecksum(n){return rt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return rt.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}static decodeEnd(n,i){return rt.findGuardPattern(n,i,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,s,a){return this.findGuardPattern(n,i,s,a,new Int32Array(a.length))}static findGuardPattern(n,i,s,a,l){let h=n.getSize();i=s?n.getNextUnset(i):n.getNextSet(i);let f=0,g=i,p=a.length,y=s;for(let C=i;C<h;C++)if(n.get(C)!==y)l[f]++;else{if(f===p-1){if(ht.patternMatchVariance(l,a,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([g,C]);g+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let I=0;I<f-1;I++)l[I]=A[I];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,y=!y}throw new W}static decodeDigit(n,i,s,a){this.recordPattern(n,s,i);let l=this.MAX_AVG_VARIANCE,h=-1,f=a.length;for(let g=0;g<f;g++){let p=a[g],y=ht.patternMatchVariance(i,p,rt.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,h=g)}if(h>=0)return h;throw new W}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ps{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),h=a.toString(),f=ps.parseExtensionString(h),g=[new oe((s[0]+s[1])/2,n),new oe(l,n)],p=new qe(h,null,0,g,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),h=i[1],f=0;for(let p=0;p<5&&h<l;p++){let y=rt.decodeDigit(n,a,h,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let C of a)h+=C;y>=10&&(f|=1<<4-p),p!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==5)throw new W;let g=this.determineCheckDigit(f);if(ps.extensionChecksum(s.toString())!==g)throw new W;return h}static extensionChecksum(n){let i=n.length,s=0;for(let a=i-2;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new W}static parseExtensionString(n){if(n.length!==5)return null;let i=ps.parseExtension5String(n);return i==null?null:new Map([[yt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(n.substring(1)),a=(s/100).toString(),l=s%100,h=l<10?"0"+l:l.toString();return i+a+"."+h}}class El{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),h=a.toString(),f=El.parseExtensionString(h),g=[new oe((s[0]+s[1])/2,n),new oe(l,n)],p=new qe(h,null,0,g,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),h=i[1],f=0;for(let g=0;g<2&&h<l;g++){let p=rt.decodeDigit(n,a,h,rt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let y of a)h+=y;p>=10&&(f|=1<<1-g),g!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(s.length!==2)throw new W;if(parseInt(s.toString())%4!==f)throw new W;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(n)]])}}class D0{static decodeRow(n,i,s){let a=rt.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ps().decodeRow(n,i,a)}catch{return new El().decodeRow(n,i,a)}}}D0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends rt{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Re.L_PATTERNS[n-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Re.L_AND_G_PATTERNS[n]=s}}decodeRow(n,i,s){let a=Re.findStartGuardPattern(i),l=s==null?null:s.get(J.NEED_RESULT_POINT_CALLBACK);if(l!=null){const $=new oe((a[0]+a[1])/2,n);l.foundPossibleResultPoint($)}let h=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=h.rowOffset,g=h.resultString;if(l!=null){const $=new oe(f,n);l.foundPossibleResultPoint($)}let p=this.decodeEnd(i,f);if(l!=null){const $=new oe((p[0]+p[1])/2,n);l.foundPossibleResultPoint($)}let y=p[1],C=y+(y-p[0]);if(C>=i.getSize()||!i.isRange(y,C,!1))throw new W;let A=g.toString();if(A.length<8)throw new z;if(!Re.checkChecksum(A))throw new D;let I=(a[1]+a[0])/2,R=(p[1]+p[0])/2,k=this.getBarcodeFormat(),M=[new oe(I,n),new oe(R,n)],V=new qe(A,null,0,M,k,new Date().getTime()),Z=0;try{let $=D0.decodeRow(n,i,p[1]);V.putMetadata(yt.UPC_EAN_EXTENSION,$.getText()),V.putAllMetadata($.getResultMetadata()),V.addResultPoints($.getResultPoints()),Z=$.getText().length}catch{}let q=s==null?null:s.get(J.ALLOWED_EAN_EXTENSIONS);if(q!=null){let $=!1;for(let Ce in q)if(Z.toString()===Ce){$=!0;break}if(!$)throw new W}return V}decodeEnd(n,i){return Re.findGuardPattern(n,i,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Re.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let s=parseInt(n.charAt(i-1),10);return Re.getStandardUPCEANChecksum(n.substring(0,i-1))===s}static getStandardUPCEANChecksum(n){let i=n.length,s=0;for(let a=i-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new z;s+=l}return(1e3-s)%10}}class Wr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),h=i[1],f=0;for(let p=0;p<6&&h<l;p++){let y=Re.decodeDigit(n,a,h,Re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let C of a)h+=C;y>=10&&(f|=1<<5-p)}s=Wr.determineFirstDigit(s,f),h=Re.findGuardPattern(n,h,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&h<l;p++){let y=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+y);for(let C of a)h+=C}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(n,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode(48+s)+n,n;throw new W}}Wr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class P0 extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),h=i[1];for(let g=0;g<4&&h<l;g++){let p=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)h+=y}h=Re.findGuardPattern(n,h,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&h<l;g++){let p=Re.decodeDigit(n,a,h,Re.L_PATTERNS);s+=String.fromCharCode(48+p);for(let y of a)h+=y}return{rowOffset:h,resultString:s}}getBarcodeFormat(){return ae.EAN_8}}class M0 extends Re{constructor(){super(...arguments),this.ean13Reader=new Wr}getBarcodeFormat(){return ae.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,s))}decodeMiddle(n,i,s){return this.ean13Reader.decodeMiddle(n,i,s)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let s=new qe(i.substring(1),null,null,n.getResultPoints(),ae.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new W}reset(){this.ean13Reader.reset()}}class Tn extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,s){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=n.getSize();let h=i[1],f=0;for(let p=0;p<6&&h<l;p++){const y=Tn.decodeDigit(n,a,h,Tn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let C of a)h+=C;y>=10&&(f|=1<<5-p)}let g=Tn.determineNumSysAndCheckDigit(s,f);return{rowOffset:h,resultString:g}}decodeEnd(n,i){return Tn.findGuardPatternWithoutCounters(n,i,!0,Tn.MIDDLE_END_PATTERN)}checkChecksum(n){return Re.checkChecksum(Tn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let l=String.fromCharCode(48+s),h=String.fromCharCode(48+a);return l+n+h}throw W.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Se;s.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Tn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Cl extends ht{constructor(n){super();let i=n==null?null:n.get(J.POSSIBLE_FORMATS),s=[];o(i)?(s.push(new Wr),s.push(new M0),s.push(new P0),s.push(new Tn)):(i.indexOf(ae.EAN_13)>-1&&s.push(new Wr),i.indexOf(ae.UPC_A)>-1&&s.push(new M0),i.indexOf(ae.EAN_8)>-1&&s.push(new P0),i.indexOf(ae.UPC_E)>-1&&s.push(new Tn)),this.readers=s}decodeRow(n,i,s){for(let a of this.readers)try{const l=a.decodeRow(n,i,s),h=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(J.POSSIBLE_FORMATS),g=f==null||f.includes(ae.UPC_A);if(h&&g){const p=l.getRawBytes(),y=new qe(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ae.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new W}reset(){for(let n of this.readers)n.reset()}}class Dt extends ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let s=0;s<i.length;s++)if(ht.patternMatchVariance(n,i[s],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return s;throw new W}static count(n){return Te.sum(new Int32Array(n))}static increment(n,i){let s=0,a=i[0];for(let l=1;l<n.length;l++)i[l]>a&&(a=i[l],s=l);n[s]++}static decrement(n,i){let s=0,a=i[0];for(let l=1;l<n.length;l++)i[l]<a&&(a=i[l],s=l);n[s]--}static isFinderPattern(n){let i=n[0]+n[1],s=i+n[2]+n[3],a=i/s;if(a>=Dt.MIN_FINDER_PATTERN_RATIO&&a<=Dt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of n)f>h&&(h=f),f<l&&(l=f);return h<10*l}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class xi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof xi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Oo{constructor(n,i,s,a,l){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new oe(s,l)),this.resultPoints.push(new oe(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Oo))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Un{constructor(){}static getRSSvalue(n,i,s){let a=0;for(let g of n)a+=g;let l=0,h=0,f=n.length;for(let g=0;g<f-1;g++){let p;for(p=1,h|=1<<g;p<n[g];p++,h&=~(1<<g)){let y=Un.combins(a-p-1,f-g-2);if(s&&h===0&&a-p-(f-g-1)>=f-g-1&&(y-=Un.combins(a-p-(f-g),f-g-2)),f-g-1>1){let C=0;for(let A=a-p-(f-g-2);A>i;A--)C+=Un.combins(a-p-A-1,f-g-3);y-=C*(f-1-g)}else a-p>i&&y--;l+=y}a-=p}return l}static combins(n,i){let s,a;n-i>i?(a=i,s=n-i):(a=n-i,s=i);let l=1,h=1;for(let f=n;f>s;f--)l*=f,h<=a&&(l/=h,h++);for(;h<=a;)l/=h,h++;return l}}class Jg{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new U(s),l=0,f=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)f&1<<g&&a.set(l),l++;for(let g=1;g<n.length;++g){let p=n[g],y=p.getLeftChar().getValue();for(let C=11;C>=0;--C)y&1<<C&&a.set(l),l++;if(p.getRightChar()!=null){let C=p.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&a.set(l),l++}}return a}}class Hr{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _l{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Xt extends _l{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Xt.FNC1}}Xt.FNC1="$";class Gr extends _l{constructor(n,i,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends _l{constructor(n,i,s){if(super(n),i<0||i>10||s<0||s>10)throw new z;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class re{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new W;let i=n.substring(0,2);for(let l of re.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(2,l[2],n):re.processFixedAI(2,l[1],n);if(n.length<3)throw new W;let s=n.substring(0,3);for(let l of re.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(3,l[2],n):re.processFixedAI(3,l[1],n);for(let l of re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],n):re.processFixedAI(4,l[1],n);if(n.length<4)throw new W;let a=n.substring(0,4);for(let l of re.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===re.VARIABLE_LENGTH?re.processVariableAI(4,l[2],n):re.processFixedAI(4,l[1],n);throw new W}static processFixedAI(n,i,s){if(s.length<n)throw new W;let a=s.substring(0,n);if(s.length<n+i)throw new W;let l=s.substring(n,n+i),h=s.substring(n+i),f="("+a+")"+l,g=re.parseFieldsInGeneralPurpose(h);return g==null?f:f+g}static processVariableAI(n,i,s){let a=s.substring(0,n),l;s.length<n+i?l=s.length:l=n+i;let h=s.substring(n,l),f=s.substring(l),g="("+a+")"+h,p=re.parseFieldsInGeneralPurpose(f);return p==null?g:g+p}}re.VARIABLE_LENGTH=[],re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",re.VARIABLE_LENGTH,20],["22",re.VARIABLE_LENGTH,29],["30",re.VARIABLE_LENGTH,8],["37",re.VARIABLE_LENGTH,8],["90",re.VARIABLE_LENGTH,30],["91",re.VARIABLE_LENGTH,30],["92",re.VARIABLE_LENGTH,30],["93",re.VARIABLE_LENGTH,30],["94",re.VARIABLE_LENGTH,30],["95",re.VARIABLE_LENGTH,30],["96",re.VARIABLE_LENGTH,30],["97",re.VARIABLE_LENGTH,3],["98",re.VARIABLE_LENGTH,30],["99",re.VARIABLE_LENGTH,30]],re.THREE_DIGIT_DATA_LENGTH=[["240",re.VARIABLE_LENGTH,30],["241",re.VARIABLE_LENGTH,30],["242",re.VARIABLE_LENGTH,6],["250",re.VARIABLE_LENGTH,30],["251",re.VARIABLE_LENGTH,30],["253",re.VARIABLE_LENGTH,17],["254",re.VARIABLE_LENGTH,20],["400",re.VARIABLE_LENGTH,30],["401",re.VARIABLE_LENGTH,30],["402",17],["403",re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",re.VARIABLE_LENGTH,20],["421",re.VARIABLE_LENGTH,15],["422",3],["423",re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",re.VARIABLE_LENGTH,15],["391",re.VARIABLE_LENGTH,18],["392",re.VARIABLE_LENGTH,15],["393",re.VARIABLE_LENGTH,18],["703",re.VARIABLE_LENGTH,30]],re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",re.VARIABLE_LENGTH,20],["8003",re.VARIABLE_LENGTH,30],["8004",re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",re.VARIABLE_LENGTH,30],["8008",re.VARIABLE_LENGTH,12],["8018",18],["8020",re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",re.VARIABLE_LENGTH,70],["8200",re.VARIABLE_LENGTH,70]];class wi{constructor(n){this.buffer=new Se,this.information=n}decodeAllCodes(n,i){let s=i,a=null;do{let l=this.decodeGeneralPurposeField(s,a),h=re.parseFieldsInGeneralPurpose(l.getNewString());if(h!=null&&n.append(h),l.isRemaining()?a=""+l.getRemainingValue():a=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),l-1,mn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),s=(i-8)/11,a=(i-8)%11;return new mn(n+7,s,a)}extractNumericValueFromBitArray(n,i){return wi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,s){let a=0;for(let l=0;l<s;++l)n.get(i+l)&&(a|=1<<s-l-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Gr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Gr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new Gr(this.current.getPosition(),this.buffer.toString()):i=new Gr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Hr(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new Gr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Gr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new Gr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Xt(n+5,Xt.FNC1);if(i>=5&&i<15)return new Xt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Xt(n+7,""+(s+1));if(s>=90&&s<116)return new Xt(n+7,""+(s+7));let a=this.extractNumericValueFromBitArray(n,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new z}return new Xt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new Xt(n+5,Xt.FNC1);if(i>=5&&i<15)return new Xt(n+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Xt(n+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Fn("Decoding invalid alphanumeric value: "+s)}return new Xt(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Al{constructor(n){this.information=n,this.generalDecoder=new wi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class $t extends Al{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,s)}encodeCompressedGtinWithoutAI(n,i,s){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}$t.appendCheckDigit(n,s)}static appendCheckDigit(n,i){let s=0;for(let a=0;a<13;a++){let l=n.charAt(a+i).charCodeAt(0)-48;s+=a&1?l:3*l}s=10-s%10,s===10&&(s=0),n.append(s)}}$t.GTIN_SIZE=40;class yi extends $t{constructor(n){super(n)}parseInformation(){let n=new Se;n.append("(01)");let i=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(yi.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,yi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,yi.HEADER_SIZE+44)}}yi.HEADER_SIZE=4;class Ro extends Al{constructor(n){super(n)}parseInformation(){let n=new Se;return this.getGeneralDecoder().decodeAllCodes(n,Ro.HEADER_SIZE)}}Ro.HEADER_SIZE=5;class ko extends $t{constructor(n){super(n)}encodeCompressedWeight(n,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(n,a);let l=this.checkWeight(a),h=1e5;for(let f=0;f<5;++f)l/h===0&&n.append("0"),h/=10;n.append(l)}}class jn extends ko{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=jn.HEADER_SIZE+ko.GTIN_SIZE+jn.WEIGHT_SIZE)throw new W;let n=new Se;return this.encodeCompressedGtin(n,jn.HEADER_SIZE),this.encodeCompressedWeight(n,jn.HEADER_SIZE+ko.GTIN_SIZE,jn.WEIGHT_SIZE),n.toString()}}jn.HEADER_SIZE=5,jn.WEIGHT_SIZE=15;class e2 extends jn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class t2 extends jn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Vn extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Vn.HEADER_SIZE+$t.GTIN_SIZE)throw new W;let n=new Se;this.encodeCompressedGtin(n,Vn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Vn.HEADER_SIZE+$t.GTIN_SIZE,Vn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Vn.HEADER_SIZE+$t.GTIN_SIZE+Vn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Vn.HEADER_SIZE=8,Vn.LAST_DIGIT_SIZE=2;class jt extends $t{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<jt.HEADER_SIZE+$t.GTIN_SIZE)throw new W;let n=new Se;this.encodeCompressedGtin(n,jt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+$t.GTIN_SIZE,jt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(jt.HEADER_SIZE+$t.GTIN_SIZE+jt.LAST_DIGIT_SIZE,jt.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let a=this.getGeneralDecoder().decodeGeneralPurposeField(jt.HEADER_SIZE+$t.GTIN_SIZE+jt.LAST_DIGIT_SIZE+jt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}jt.HEADER_SIZE=8,jt.LAST_DIGIT_SIZE=2,jt.FIRST_THREE_DIGITS_SIZE=10;class Ke extends ko{constructor(n,i,s){super(n),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Ke.HEADER_SIZE+Ke.GTIN_SIZE+Ke.WEIGHT_SIZE+Ke.DATE_SIZE)throw new W;let n=new Se;return this.encodeCompressedGtin(n,Ke.HEADER_SIZE),this.encodeCompressedWeight(n,Ke.HEADER_SIZE+Ke.GTIN_SIZE,Ke.WEIGHT_SIZE),this.encodeCompressedDate(n,Ke.HEADER_SIZE+Ke.GTIN_SIZE+Ke.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Ke.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=s%32;s/=32;let l=s%12+1;s/=12;let h=s;h/10==0&&n.append("0"),n.append(h),l/10==0&&n.append("0"),n.append(l),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}Ke.HEADER_SIZE=8,Ke.WEIGHT_SIZE=20,Ke.DATE_SIZE=16;function L0(E){try{if(E.get(1))return new yi(E);if(!E.get(2))return new Ro(E);switch(wi.extractNumericValueFromBitArray(E,1,4)){case 4:return new e2(E);case 5:return new t2(E)}switch(wi.extractNumericValueFromBitArray(E,1,5)){case 12:return new Vn(E);case 13:return new jt(E)}switch(wi.extractNumericValueFromBitArray(E,1,7)){case 56:return new Ke(E,"310","11");case 57:return new Ke(E,"320","11");case 58:return new Ke(E,"310","13");case 59:return new Ke(E,"320","13");case 60:return new Ke(E,"310","15");case 61:return new Ke(E,"320","15");case 62:return new Ke(E,"310","17");case 63:return new Ke(E,"320","17")}}catch(n){throw console.log(n),new Fn("unknown decoder: "+E)}}class cr{constructor(n,i,s,a){this.leftchar=n,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof cr?cr.equalsOrNull(n.leftchar,i.leftchar)&&cr.equalsOrNull(n.rightchar,i.rightchar)&&cr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:cr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sl{constructor(n,i,s){this.pairs=n,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Sl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let s;return n.forEach((a,l)=>{i.forEach(h=>{a.getLeftChar().getValue()===h.getLeftChar().getValue()&&a.getRightChar().getValue()===h.getRightChar().getValue()&&a.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(s=!0)})}),s}}class X extends Dt{constructor(n){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,s){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(a.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(a);try{return this.checkRows(l,s+1)}catch(h){this.verbose&&console.log(h)}}throw new W}static isValidSequence(n){for(let i of X.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let s=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(n,i){let s=0,a=!1,l=!1;for(;s<this.rows.length;){let h=this.rows[s];if(h.getRowNumber()>n){l=h.isEquivalent(this.pairs);break}a=h.isEquivalent(this.pairs),s++}l||a||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Sl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let s of i)if(s.getPairs().length!==n.length){for(let a of s.getPairs())for(let l of n)if(cr.equals(a,l))break}}static isPartialRow(n,i){for(let s of i){let a=!0;for(let l of n){let h=!1;for(let f of s.getPairs())if(l.equals(f)){h=!0;break}if(!h){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Jg.buildBitArray(n),a=L0(i).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],h[0],h[1]];return new qe(a,null,null,f,ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let g=this.pairs.get(f);a+=g.getLeftChar().getChecksumPortion(),l++;let p=g.getRightChar();p!=null&&(a+=p.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(n,i){let s;return n.get(i)?(s=n.getNextUnset(i),s=n.getNextSet(s)):(s=n.getNextSet(i),s=n.getNextUnset(s)),s}retrieveNextPair(n,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,h=!0,f=-1;do this.findNextPair(n,i,f),l=this.parseFoundFinderPattern(n,s,a),l==null?f=X.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let g=this.decodeDataCharacter(n,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new W;let p;try{p=this.decodeDataCharacter(n,l,a,!1)}catch(y){p=null,this.verbose&&console.log(y)}return new cr(g,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),h;s>=0?h=s:this.isEmptyPair(i)?h=0:h=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let g=!1;for(;h<l&&(g=!n.get(h),!!g);)h++;let p=0,y=h;for(let C=h;C<l;C++)if(n.get(C)!=g)a[p]++;else{if(p==3){if(f&&X.reverseCounters(a),X.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=C;return}f&&X.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,g=!g}throw new W}static reverseCounters(n){let i=n.length;for(let s=0;s<i/2;++s){let a=n[s];n[s]=n[i-s-1],n[i-s-1]=a}}parseFoundFinderPattern(n,i,s){let a,l,h;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,l=p,h=this.startEnd[1]}else l=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),a=h-this.startEnd[1];let f=this.getDecodeFinderCounters();P.arraycopy(f,0,f,1,f.length-1),f[0]=a;let g;try{g=this.parseFinderValue(f,X.FINDER_PATTERNS)}catch{return null}return new Oo(g,[l,h],l,h,i)}decodeDataCharacter(n,i,s,a){let l=this.getDataCharacterCounters();for(let Fe=0;Fe<l.length;Fe++)l[Fe]=0;if(a)X.recordPatternInReverse(n,i.getStartEnd()[0],l);else{X.recordPattern(n,i.getStartEnd()[1],l);for(let Fe=0,bt=l.length-1;Fe<bt;Fe++,bt--){let on=l[Fe];l[Fe]=l[bt],l[bt]=on}}let h=17,f=Te.sum(new Int32Array(l))/h,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-g)/g>.3)throw new W;let p=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Fe=0;Fe<l.length;Fe++){let bt=1*l[Fe]/f,on=bt+.5;if(on<1){if(bt<.3)throw new W;on=1}else if(on>8){if(bt>8.7)throw new W;on=8}let Ai=Fe/2;Fe&1?(y[Ai]=on,A[Ai]=bt-on):(p[Ai]=on,C[Ai]=bt-on)}this.adjustOddEvenCounts(h);let I=4*i.getValue()+(s?0:2)+(a?0:1)-1,R=0,k=0;for(let Fe=p.length-1;Fe>=0;Fe--){if(X.isNotA1left(i,s,a)){let bt=X.WEIGHTS[I][2*Fe];k+=p[Fe]*bt}R+=p[Fe]}let M=0;for(let Fe=y.length-1;Fe>=0;Fe--)if(X.isNotA1left(i,s,a)){let bt=X.WEIGHTS[I][2*Fe+1];M+=y[Fe]*bt}let V=k+M;if(R&1||R>13||R<4)throw new W;let Z=(13-R)/2,q=X.SYMBOL_WIDEST[Z],$=9-q,Ce=Un.getRSSvalue(p,q,!0),xe=Un.getRSSvalue(y,$,!1),Kt=X.EVEN_TOTAL_SUBSET[Z],bn=X.GSUM[Z],Zt=Ce*Kt+xe+bn;return new xi(Zt,V)}static isNotA1left(n,i,s){return!(n.getValue()==0&&i&&s)}adjustOddEvenCounts(n){let i=Te.sum(new Int32Array(this.getOddCounts())),s=Te.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let h=!1,f=!1;s>13?f=!0:s<4&&(h=!0);let g=i+s-n,p=(i&1)==1,y=(s&1)==0;if(g==1)if(p){if(y)throw new W;l=!0}else{if(!y)throw new W;f=!0}else if(g==-1)if(p){if(y)throw new W;a=!0}else{if(!y)throw new W;h=!0}else if(g==0){if(p){if(!y)throw new W;i<s?(a=!0,f=!0):(l=!0,h=!0)}else if(y)throw new W}else throw new W;if(a){if(l)throw new W;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new W;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class n2 extends xi{constructor(n,i,s){super(n,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class it extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,s){const a=this.decodePair(i,!1,n,s);it.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,n,s);it.addOrTally(this.possibleRightPairs,l),i.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&it.checkChecksum(h,f))return it.constructResult(h,f)}throw new W}static addOrTally(n,i){if(i==null)return;let s=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let s=4537077*n.getValue()+i.getValue(),a=new String(s).toString(),l=new Se;for(let p=13-a.length;p>0;p--)l.append("0");l.append(a);let h=0;for(let p=0;p<13;p++){let y=l.charAt(p).charCodeAt(0)-48;h+=p&1?y:3*y}h=10-h%10,h===10&&(h=0),l.append(h.toString());let f=n.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new qe(l.toString(),null,0,[f[0],f[1],g[0],g[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(n,i){let s=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(n,i,s,a){try{let l=this.findFinderPattern(n,i),h=this.parseFoundFinderPattern(n,s,i,l),f=a==null?null:a.get(J.NEED_RESULT_POINT_CALLBACK);if(f!=null){let y=(l[0]+l[1])/2;i&&(y=n.getSize()-1-y),f.foundPossibleResultPoint(new oe(y,s))}let g=this.decodeDataCharacter(n,h,!0),p=this.decodeDataCharacter(n,h,!1);return new n2(1597*g.getValue()+p.getValue(),g.getChecksumPortion()+4*p.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,i,s){let a=this.getDataCharacterCounters();for(let M=0;M<a.length;M++)a[M]=0;if(s)ht.recordPatternInReverse(n,i.getStartEnd()[0],a);else{ht.recordPattern(n,i.getStartEnd()[1]+1,a);for(let M=0,V=a.length-1;M<V;M++,V--){let Z=a[M];a[M]=a[V],a[V]=Z}}let l=s?16:15,h=Te.sum(new Int32Array(a))/l,f=this.getOddCounts(),g=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let M=0;M<a.length;M++){let V=a[M]/h,Z=Math.floor(V+.5);Z<1?Z=1:Z>8&&(Z=8);let q=Math.floor(M/2);M&1?(g[q]=Z,y[q]=V-Z):(f[q]=Z,p[q]=V-Z)}this.adjustOddEvenCounts(s,l);let C=0,A=0;for(let M=f.length-1;M>=0;M--)A*=9,A+=f[M],C+=f[M];let I=0,R=0;for(let M=g.length-1;M>=0;M--)I*=9,I+=g[M],R+=g[M];let k=A+3*I;if(s){if(C&1||C>12||C<4)throw new W;let M=(12-C)/2,V=it.OUTSIDE_ODD_WIDEST[M],Z=9-V,q=Un.getRSSvalue(f,V,!1),$=Un.getRSSvalue(g,Z,!0),Ce=it.OUTSIDE_EVEN_TOTAL_SUBSET[M],xe=it.OUTSIDE_GSUM[M];return new xi(q*Ce+$+xe,k)}else{if(R&1||R>10||R<4)throw new W;let M=(10-R)/2,V=it.INSIDE_ODD_WIDEST[M],Z=9-V,q=Un.getRSSvalue(f,V,!0),$=Un.getRSSvalue(g,Z,!1),Ce=it.INSIDE_ODD_TOTAL_SUBSET[M],xe=it.INSIDE_GSUM[M];return new xi($*Ce+q+xe,k)}}findFinderPattern(n,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=n.getSize(),l=!1,h=0;for(;h<a&&(l=!n.get(h),i!==l);)h++;let f=0,g=h;for(let p=h;p<a;p++)if(n.get(p)!==l)s[f]++;else{if(f===3){if(Dt.isFinderPattern(s))return[g,p];g+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new W}parseFoundFinderPattern(n,i,s,a){let l=n.get(a[0]),h=a[0]-1;for(;h>=0&&l!==n.get(h);)h--;h++;const f=a[0]-h,g=this.getDecodeFinderCounters(),p=new Int32Array(g.length);P.arraycopy(g,0,p,1,g.length-1),p[0]=f;const y=this.parseFinderValue(p,it.FINDER_PATTERNS);let C=h,A=a[1];return s&&(C=n.getSize()-1-C,A=n.getSize()-1-A),new Oo(y,[h,a[1]],C,A,i)}adjustOddEvenCounts(n,i){let s=Te.sum(new Int32Array(this.getOddCounts())),a=Te.sum(new Int32Array(this.getEvenCounts())),l=!1,h=!1,f=!1,g=!1;n?(s>12?h=!0:s<4&&(l=!0),a>12?g=!0:a<4&&(f=!0)):(s>11?h=!0:s<5&&(l=!0),a>10?g=!0:a<4&&(f=!0));let p=s+a-i,y=(s&1)===(n?1:0),C=(a&1)===1;if(p===1)if(y){if(C)throw new W;h=!0}else{if(!C)throw new W;g=!0}else if(p===-1)if(y){if(C)throw new W;l=!0}else{if(!C)throw new W;f=!0}else if(p===0){if(y){if(!C)throw new W;s<a?(l=!0,g=!0):(h=!0,f=!0)}else if(C)throw new W}else throw new W;if(l){if(h)throw new W;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new W;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}it.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],it.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],it.OUTSIDE_GSUM=[0,161,961,2015,2715],it.INSIDE_GSUM=[0,336,1036,1516],it.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],it.INSIDE_ODD_WIDEST=[2,4,6,8],it.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends ht{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const s=n?n.get(J.POSSIBLE_FORMATS):null,a=n&&n.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ae.EAN_13)||s.includes(ae.UPC_A)||s.includes(ae.EAN_8)||s.includes(ae.UPC_E))&&this.readers.push(new Cl(n)),s.includes(ae.CODE_39)&&this.readers.push(new gt(a)),s.includes(ae.CODE_128)&&this.readers.push(new te),s.includes(ae.ITF)&&this.readers.push(new Le),s.includes(ae.RSS_14)&&this.readers.push(new it),s.includes(ae.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new Cl(n)),this.readers.push(new gt),this.readers.push(new Cl(n)),this.readers.push(new te),this.readers.push(new Le),this.readers.push(new it),this.readers.push(new X(this.verbose)))}decodeRow(n,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,s)}catch{}throw new W}reset(){this.readers.forEach(n=>n.reset())}}class r2 extends pn{constructor(n=500,i){super(new vi(i),n,i)}}class De{constructor(n,i,s){this.ecCodewords=n,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ke{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(n,i,s,a,l,h){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=h;let f=0;const g=h.getECCodewords(),p=h.getECBlocks();for(let y of p)f+=y.getCount()*(y.getDataCodewords()+g);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new z;for(let s of _e.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===i)return s;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new _e(1,10,10,8,8,new De(5,new ke(1,3))),new _e(2,12,12,10,10,new De(7,new ke(1,5))),new _e(3,14,14,12,12,new De(10,new ke(1,8))),new _e(4,16,16,14,14,new De(12,new ke(1,12))),new _e(5,18,18,16,16,new De(14,new ke(1,18))),new _e(6,20,20,18,18,new De(18,new ke(1,22))),new _e(7,22,22,20,20,new De(20,new ke(1,30))),new _e(8,24,24,22,22,new De(24,new ke(1,36))),new _e(9,26,26,24,24,new De(28,new ke(1,44))),new _e(10,32,32,14,14,new De(36,new ke(1,62))),new _e(11,36,36,16,16,new De(42,new ke(1,86))),new _e(12,40,40,18,18,new De(48,new ke(1,114))),new _e(13,44,44,20,20,new De(56,new ke(1,144))),new _e(14,48,48,22,22,new De(68,new ke(1,174))),new _e(15,52,52,24,24,new De(42,new ke(2,102))),new _e(16,64,64,14,14,new De(56,new ke(2,140))),new _e(17,72,72,16,16,new De(36,new ke(4,92))),new _e(18,80,80,18,18,new De(48,new ke(4,114))),new _e(19,88,88,20,20,new De(56,new ke(4,144))),new _e(20,96,96,22,22,new De(68,new ke(4,174))),new _e(21,104,104,24,24,new De(56,new ke(6,136))),new _e(22,120,120,18,18,new De(68,new ke(6,175))),new _e(23,132,132,20,20,new De(62,new ke(8,163))),new _e(24,144,144,22,22,new De(62,new ke(8,156),new ke(2,155))),new _e(25,8,18,6,16,new De(7,new ke(1,5))),new _e(26,8,32,6,14,new De(11,new ke(1,10))),new _e(27,12,26,10,24,new De(14,new ke(1,16))),new _e(28,12,36,10,16,new De(18,new ke(1,22))),new _e(29,16,36,14,16,new De(24,new ke(1,32))),new _e(30,16,48,14,22,new De(28,new ke(1,49)))]}}_e.VERSIONS=_e.buildVersions();class Il{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new z;this.version=Il.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new lt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),s=n.getWidth();return _e.getVersionForDimensions(i,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,a=0;const l=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,g=!1,p=!1,y=!1;do if(s===l&&a===0&&!f)n[i++]=this.readCorner1(l,h)&255,s-=2,a+=2,f=!0;else if(s===l-2&&a===0&&h&3&&!g)n[i++]=this.readCorner2(l,h)&255,s-=2,a+=2,g=!0;else if(s===l+4&&a===2&&!(h&7)&&!p)n[i++]=this.readCorner3(l,h)&255,s-=2,a+=2,p=!0;else if(s===l-2&&a===0&&(h&7)===4&&!y)n[i++]=this.readCorner4(l,h)&255,s-=2,a+=2,y=!0;else{do s<l&&a>=0&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,l,h)&255),s-=2,a+=2;while(s>=0&&a<h);s+=1,a+=3;do s>=0&&a<h&&!this.readMappingMatrix.get(a,s)&&(n[i++]=this.readUtah(s,a,l,h)&255),s+=2,a-=2;while(s<l&&a>=0);s+=3,a+=1}while(s<l||a<h);if(i!==this.version.getTotalCodewords())throw new z;return n}readModule(n,i,s,a){return n<0&&(n+=s,i+=4-(s+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,s,a){let l=0;return this.readModule(n-2,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n-2,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,i,s,a)&&(l|=1),l<<=1,this.readModule(n,i-2,s,a)&&(l|=1),l<<=1,this.readModule(n,i-1,s,a)&&(l|=1),l<<=1,this.readModule(n,i,s,a)&&(l|=1),l}readCorner1(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,1,n,i)&&(s|=1),s<<=1,this.readModule(n-1,2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}readCorner2(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-4,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner3(n,i){let s=0;return this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(0,i-3,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-3,n,i)&&(s|=1),s<<=1,this.readModule(1,i-2,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s}readCorner4(n,i){let s=0;return this.readModule(n-3,0,n,i)&&(s|=1),s<<=1,this.readModule(n-2,0,n,i)&&(s|=1),s<<=1,this.readModule(n-1,0,n,i)&&(s|=1),s<<=1,this.readModule(0,i-2,n,i)&&(s|=1),s<<=1,this.readModule(0,i-1,n,i)&&(s|=1),s<<=1,this.readModule(1,i-1,n,i)&&(s|=1),s<<=1,this.readModule(2,i-1,n,i)&&(s|=1),s<<=1,this.readModule(3,i-1,n,i)&&(s|=1),s}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new _("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),h=i/a|0,f=s/l|0,g=h*a,p=f*l,y=new lt(p,g);for(let C=0;C<h;++C){const A=C*a;for(let I=0;I<f;++I){const R=I*l;for(let k=0;k<a;++k){const M=C*(a+2)+1+k,V=A+k;for(let Z=0;Z<l;++Z){const q=I*(l+2)+1+Z;if(n.get(q,M)){const $=R+Z;y.set($,V)}}}}}return y}}class Tl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const s=i.getECBlocks();let a=0;const l=s.getECBlocks();for(let k of l)a+=k.getCount();const h=new Array(a);let f=0;for(let k of l)for(let M=0;M<k.getCount();M++){const V=k.getDataCodewords(),Z=s.getECCodewords()+V;h[f++]=new Tl(V,new Uint8Array(Z))}const p=h[0].codewords.length-s.getECCodewords(),y=p-1;let C=0;for(let k=0;k<y;k++)for(let M=0;M<f;M++)h[M].codewords[k]=n[C++];const A=i.getVersionNumber()===24,I=A?8:f;for(let k=0;k<I;k++)h[k].codewords[p-1]=n[C++];const R=h[0].codewords.length;for(let k=p;k<R;k++)for(let M=0;M<f;M++){const V=A?(M+8)%f:M,Z=A&&V>7?k-1:k;h[V].codewords[Z]=n[C++]}if(C!==n.length)throw new _;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class bl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new _(""+n);let i=0,s=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(s>0){const h=8-s,f=n<h?n:h,g=h-f,p=255>>8-f<<g;i=(l[a]&p)>>g,n-=f,s+=f,s===8&&(s=0,a++)}if(n>0){for(;n>=8;)i=i<<8|l[a]&255,a++,n-=8;if(n>0){const h=8-n,f=255>>h<<h;i=i<<n|(l[a]&f)>>h,s+=n}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(pt||(pt={}));class hr{static decode(n){const i=new bl(n),s=new Se,a=new Se,l=new Array;let h=pt.ASCII_ENCODE;do if(h===pt.ASCII_ENCODE)h=this.decodeAsciiSegment(i,s,a);else{switch(h){case pt.C40_ENCODE:this.decodeC40Segment(i,s);break;case pt.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case pt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case pt.BASE256_ENCODE:this.decodeBase256Segment(i,s,l);break;default:throw new z}h=pt.ASCII_ENCODE}while(h!==pt.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new fs(n,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,i,s){let a=!1;do{let l=n.readBits(8);if(l===0)throw new z;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),pt.ASCII_ENCODE;if(l===129)return pt.PAD_ENCODE;if(l<=229){const h=l-130;h<10&&i.append("0"),i.append(""+h)}else switch(l){case 230:return pt.C40_ENCODE;case 231:return pt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return pt.ANSIX12_ENCODE;case 239:return pt.TEXT_ENCODE;case 240:return pt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new z;break}}while(n.available()>0);return pt.ASCII_ENCODE}static decodeC40Segment(n,i){let s=!1;const a=[];let l=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),a);for(let f=0;f<3;f++){const g=a[f];switch(l){case 0:if(g<3)l=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new z;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:s?(i.append(String.fromCharCode(g+224)),s=!1):i.append(String.fromCharCode(g+96)),l=0;break;default:throw new z}}}while(n.available()>0)}static decodeTextSegment(n,i){let s=!1,a=[],l=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),a);for(let f=0;f<3;f++){const g=a[f];switch(l){case 0:if(g<3)l=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else throw new z;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),l=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new z}l=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[g];s?(i.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):i.append(p),l=0}else throw new z;break;default:throw new z}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const s=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),s);for(let l=0;l<3;l++){const h=s[l];switch(h){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(h<14)i.append(String.fromCharCode(h+44));else if(h<40)i.append(String.fromCharCode(h+51));else throw new z;break}}}while(n.available()>0)}static parseTwoBytes(n,i,s){let a=(n<<8)+i-1,l=Math.floor(a/1600);s[0]=l,a-=l*1600,l=Math.floor(a/40),s[1]=l,s[2]=a-l*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let a=n.readBits(6);if(a===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,s){let a=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),a++);let h;if(l===0?h=n.available()/8|0:l<250?h=l:h=250*(l-249)+this.unrandomize255State(n.readBits(8),a++),h<0)throw new z;const f=new Uint8Array(h);for(let g=0;g<h;g++){if(n.available()<8)throw new z;f[g]=this.unrandomize255State(n.readBits(8),a++)}s.push(f);try{i.append(Ue.decode(f,ce.ISO88591))}catch(g){throw new Fn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,i){const s=149*i%255+1,a=n-s;return a>=0?a:a+256}}hr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],hr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hr.TEXT_SHIFT2_SET_CHARS=hr.C40_SHIFT2_SET_CHARS,hr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class i2{constructor(){this.rsDecoder=new gs(Oe.DATA_MATRIX_FIELD_256)}decode(n){const i=new Il(n),s=i.getVersion(),a=i.readCodewords(),l=Tl.getDataBlocks(a,s);let h=0;for(let p of l)h+=p.getNumDataCodewords();const f=new Uint8Array(h),g=l.length;for(let p=0;p<g;p++){const y=l[p],C=y.getCodewords(),A=y.getNumDataCodewords();this.correctErrors(C,A);for(let I=0;I<A;I++)f[I*g+p]=C[I]}return hr.decode(f)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new D}for(let a=0;a<i;a++)n[a]=s[a]}}class ut{constructor(n){this.image=n,this.rectangleDetector=new Zn(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new W;i=this.shiftToModuleCenter(i);const s=i[0],a=i[1],l=i[2],h=i[3];let f=this.transitionsBetween(s,h)+1,g=this.transitionsBetween(l,h)+1;(f&1)===1&&(f+=1),(g&1)===1&&(g+=1),4*f<7*g&&4*g<7*f&&(f=g=Math.max(f,g));let p=ut.sampleGrid(this.image,s,a,l,h,f,g);return new bo(p,[s,a,l,h])}static shiftPoint(n,i,s){let a=(i.getX()-n.getX())/(s+1),l=(i.getY()-n.getY())/(s+1);return new oe(n.getX()+a,n.getY()+l)}static moveAway(n,i,s){let a=n.getX(),l=n.getY();return a<i?a-=1:a+=1,l<s?l-=1:l+=1,new oe(a,l)}detectSolid1(n){let i=n[0],s=n[1],a=n[3],l=n[2],h=this.transitionsBetween(i,s),f=this.transitionsBetween(s,a),g=this.transitionsBetween(a,l),p=this.transitionsBetween(l,i),y=h,C=[l,i,s,a];return y>f&&(y=f,C[0]=i,C[1]=s,C[2]=a,C[3]=l),y>g&&(y=g,C[0]=s,C[1]=a,C[2]=l,C[3]=i),y>p&&(C[0]=a,C[1]=l,C[2]=i,C[3]=s),C}detectSolid2(n){let i=n[0],s=n[1],a=n[2],l=n[3],h=this.transitionsBetween(i,l),f=ut.shiftPoint(s,a,(h+1)*4),g=ut.shiftPoint(a,s,(h+1)*4),p=this.transitionsBetween(f,i),y=this.transitionsBetween(g,l);return p<y?(n[0]=i,n[1]=s,n[2]=a,n[3]=l):(n[0]=s,n[1]=a,n[2]=l,n[3]=i),n}correctTopRight(n){let i=n[0],s=n[1],a=n[2],l=n[3],h=this.transitionsBetween(i,l),f=this.transitionsBetween(s,l),g=ut.shiftPoint(i,s,(f+1)*4),p=ut.shiftPoint(a,s,(h+1)*4);h=this.transitionsBetween(g,l),f=this.transitionsBetween(p,l);let y=new oe(l.getX()+(a.getX()-s.getX())/(h+1),l.getY()+(a.getY()-s.getY())/(h+1)),C=new oe(l.getX()+(i.getX()-s.getX())/(f+1),l.getY()+(i.getY()-s.getY())/(f+1));if(!this.isValid(y))return this.isValid(C)?C:null;if(!this.isValid(C))return y;let A=this.transitionsBetween(g,y)+this.transitionsBetween(p,y),I=this.transitionsBetween(g,C)+this.transitionsBetween(p,C);return A>I?y:C}shiftToModuleCenter(n){let i=n[0],s=n[1],a=n[2],l=n[3],h=this.transitionsBetween(i,l)+1,f=this.transitionsBetween(a,l)+1,g=ut.shiftPoint(i,s,f*4),p=ut.shiftPoint(a,s,h*4);h=this.transitionsBetween(g,l)+1,f=this.transitionsBetween(p,l)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let y=(i.getX()+s.getX()+a.getX()+l.getX())/4,C=(i.getY()+s.getY()+a.getY()+l.getY())/4;i=ut.moveAway(i,y,C),s=ut.moveAway(s,y,C),a=ut.moveAway(a,y,C),l=ut.moveAway(l,y,C);let A,I;return g=ut.shiftPoint(i,s,f*4),g=ut.shiftPoint(g,l,h*4),A=ut.shiftPoint(s,i,f*4),A=ut.shiftPoint(A,a,h*4),p=ut.shiftPoint(a,l,f*4),p=ut.shiftPoint(p,s,h*4),I=ut.shiftPoint(l,a,f*4),I=ut.shiftPoint(I,i,h*4),[g,A,p,I]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,s,a,l,h,f){return ur.getInstance().sampleGrid(n,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(n,i){let s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),l=Math.trunc(i.getX()),h=Math.trunc(i.getY()),f=Math.abs(h-a)>Math.abs(l-s);if(f){let k=s;s=a,a=k,k=l,l=h,h=k}let g=Math.abs(l-s),p=Math.abs(h-a),y=-g/2,C=a<h?1:-1,A=s<l?1:-1,I=0,R=this.image.get(f?a:s,f?s:a);for(let k=s,M=a;k!==l;k+=A){let V=this.image.get(f?M:k,f?k:M);if(V!==R&&(I++,R=V),y+=p,y>0){if(M===h)break;M+=C,y-=g}}return I}}class fr{constructor(){this.decoder=new i2}decode(n,i=null){let s,a;if(i!=null&&i.has(J.PURE_BARCODE)){const p=fr.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),a=fr.NO_POINTS}else{const p=new ut(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),a=p.getPoints()}const l=s.getRawBytes(),h=new qe(s.getText(),l,8*l.length,a,ae.DATA_MATRIX,P.currentTimeMillis()),f=s.getByteSegments();f!=null&&h.putMetadata(yt.BYTE_SEGMENTS,f);const g=s.getECLevel();return g!=null&&h.putMetadata(yt.ERROR_CORRECTION_LEVEL,g),h}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i==null||s==null)throw new W;const a=this.moduleSize(i,n);let l=i[1];const h=s[1];let f=i[0];const p=(s[0]-f+1)/a,y=(h-l+1)/a;if(p<=0||y<=0)throw new W;const C=a/2;l+=C,f+=C;const A=new lt(p,y);for(let I=0;I<y;I++){const R=l+I*a;for(let k=0;k<p;k++)n.get(f+k*a,R)&&A.set(k,I)}return A}static moduleSize(n,i){const s=i.getWidth();let a=n[0];const l=n[1];for(;a<s&&i.get(a,l);)a++;if(a===s)throw new W;const h=a-n[0];if(h===0)throw new W;return h}}fr.NO_POINTS=[];class s2 extends pn{constructor(n=500){super(new fr,n)}}var Ei;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(Ei||(Ei={}));class Ve{constructor(n,i,s){this.value=n,this.stringValue=i,this.bits=s,Ve.FOR_BITS.set(s,this),Ve.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ve.L;case"M":return Ve.M;case"Q":return Ve.Q;case"H":return Ve.H;default:throw new v(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ve))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Ve.FOR_BITS.size)throw new _;return Ve.FOR_BITS.get(n)}}Ve.FOR_BITS=new Map,Ve.FOR_VALUE=new Map,Ve.L=new Ve(Ei.L,"L",1),Ve.M=new Ve(Ei.M,"M",0),Ve.Q=new Ve(Ei.Q,"Q",3),Ve.H=new Ve(Ei.H,"H",2);class Pt{constructor(n){this.errorCorrectionLevel=Ve.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return O.bitCount(n^i)}static decodeFormatInformation(n,i){const s=Pt.doDecodeFormatInformation(n,i);return s!==null?s:Pt.doDecodeFormatInformation(n^Pt.FORMAT_INFO_MASK_QR,i^Pt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(const l of Pt.FORMAT_INFO_DECODE_LOOKUP){const h=l[0];if(h===n||h===i)return new Pt(l[1]);let f=Pt.numBitsDiffering(n,h);f<s&&(a=l[1],s=f),n!==i&&(f=Pt.numBitsDiffering(i,h),f<s&&(a=l[1],s=f))}return s<=3?new Pt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Pt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Pt.FORMAT_INFO_MASK_QR=21522,Pt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class B{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const s of i)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class S{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(n,i,...s){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0;const l=s[0].getECCodewordsPerBlock(),h=s[0].getECBlocks();for(const f of h)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new z;try{return this.getVersionForNumber((n-17)/4)}catch{throw new z}}static getVersionForNumber(n){if(n<1||n>40)throw new _;return le.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<le.VERSION_DECODE_INFO.length;a++){const l=le.VERSION_DECODE_INFO[a];if(l===n)return le.getVersionForNumber(a+7);const h=Pt.numBitsDiffering(n,l);h<i&&(s=a+7,i=h)}return i<=3?le.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new lt(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){const l=this.alignmentPatternCenters[a]-2;for(let h=0;h<s;h++)a===0&&(h===0||h===s-1)||a===s-1&&h===0||i.setRegion(this.alignmentPatternCenters[h]-2,l,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new B(7,new S(1,19)),new B(10,new S(1,16)),new B(13,new S(1,13)),new B(17,new S(1,9))),new le(2,Int32Array.from([6,18]),new B(10,new S(1,34)),new B(16,new S(1,28)),new B(22,new S(1,22)),new B(28,new S(1,16))),new le(3,Int32Array.from([6,22]),new B(15,new S(1,55)),new B(26,new S(1,44)),new B(18,new S(2,17)),new B(22,new S(2,13))),new le(4,Int32Array.from([6,26]),new B(20,new S(1,80)),new B(18,new S(2,32)),new B(26,new S(2,24)),new B(16,new S(4,9))),new le(5,Int32Array.from([6,30]),new B(26,new S(1,108)),new B(24,new S(2,43)),new B(18,new S(2,15),new S(2,16)),new B(22,new S(2,11),new S(2,12))),new le(6,Int32Array.from([6,34]),new B(18,new S(2,68)),new B(16,new S(4,27)),new B(24,new S(4,19)),new B(28,new S(4,15))),new le(7,Int32Array.from([6,22,38]),new B(20,new S(2,78)),new B(18,new S(4,31)),new B(18,new S(2,14),new S(4,15)),new B(26,new S(4,13),new S(1,14))),new le(8,Int32Array.from([6,24,42]),new B(24,new S(2,97)),new B(22,new S(2,38),new S(2,39)),new B(22,new S(4,18),new S(2,19)),new B(26,new S(4,14),new S(2,15))),new le(9,Int32Array.from([6,26,46]),new B(30,new S(2,116)),new B(22,new S(3,36),new S(2,37)),new B(20,new S(4,16),new S(4,17)),new B(24,new S(4,12),new S(4,13))),new le(10,Int32Array.from([6,28,50]),new B(18,new S(2,68),new S(2,69)),new B(26,new S(4,43),new S(1,44)),new B(24,new S(6,19),new S(2,20)),new B(28,new S(6,15),new S(2,16))),new le(11,Int32Array.from([6,30,54]),new B(20,new S(4,81)),new B(30,new S(1,50),new S(4,51)),new B(28,new S(4,22),new S(4,23)),new B(24,new S(3,12),new S(8,13))),new le(12,Int32Array.from([6,32,58]),new B(24,new S(2,92),new S(2,93)),new B(22,new S(6,36),new S(2,37)),new B(26,new S(4,20),new S(6,21)),new B(28,new S(7,14),new S(4,15))),new le(13,Int32Array.from([6,34,62]),new B(26,new S(4,107)),new B(22,new S(8,37),new S(1,38)),new B(24,new S(8,20),new S(4,21)),new B(22,new S(12,11),new S(4,12))),new le(14,Int32Array.from([6,26,46,66]),new B(30,new S(3,115),new S(1,116)),new B(24,new S(4,40),new S(5,41)),new B(20,new S(11,16),new S(5,17)),new B(24,new S(11,12),new S(5,13))),new le(15,Int32Array.from([6,26,48,70]),new B(22,new S(5,87),new S(1,88)),new B(24,new S(5,41),new S(5,42)),new B(30,new S(5,24),new S(7,25)),new B(24,new S(11,12),new S(7,13))),new le(16,Int32Array.from([6,26,50,74]),new B(24,new S(5,98),new S(1,99)),new B(28,new S(7,45),new S(3,46)),new B(24,new S(15,19),new S(2,20)),new B(30,new S(3,15),new S(13,16))),new le(17,Int32Array.from([6,30,54,78]),new B(28,new S(1,107),new S(5,108)),new B(28,new S(10,46),new S(1,47)),new B(28,new S(1,22),new S(15,23)),new B(28,new S(2,14),new S(17,15))),new le(18,Int32Array.from([6,30,56,82]),new B(30,new S(5,120),new S(1,121)),new B(26,new S(9,43),new S(4,44)),new B(28,new S(17,22),new S(1,23)),new B(28,new S(2,14),new S(19,15))),new le(19,Int32Array.from([6,30,58,86]),new B(28,new S(3,113),new S(4,114)),new B(26,new S(3,44),new S(11,45)),new B(26,new S(17,21),new S(4,22)),new B(26,new S(9,13),new S(16,14))),new le(20,Int32Array.from([6,34,62,90]),new B(28,new S(3,107),new S(5,108)),new B(26,new S(3,41),new S(13,42)),new B(30,new S(15,24),new S(5,25)),new B(28,new S(15,15),new S(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new B(28,new S(4,116),new S(4,117)),new B(26,new S(17,42)),new B(28,new S(17,22),new S(6,23)),new B(30,new S(19,16),new S(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new B(28,new S(2,111),new S(7,112)),new B(28,new S(17,46)),new B(30,new S(7,24),new S(16,25)),new B(24,new S(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new B(30,new S(4,121),new S(5,122)),new B(28,new S(4,47),new S(14,48)),new B(30,new S(11,24),new S(14,25)),new B(30,new S(16,15),new S(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new B(30,new S(6,117),new S(4,118)),new B(28,new S(6,45),new S(14,46)),new B(30,new S(11,24),new S(16,25)),new B(30,new S(30,16),new S(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new B(26,new S(8,106),new S(4,107)),new B(28,new S(8,47),new S(13,48)),new B(30,new S(7,24),new S(22,25)),new B(30,new S(22,15),new S(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new B(28,new S(10,114),new S(2,115)),new B(28,new S(19,46),new S(4,47)),new B(28,new S(28,22),new S(6,23)),new B(30,new S(33,16),new S(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new B(30,new S(8,122),new S(4,123)),new B(28,new S(22,45),new S(3,46)),new B(30,new S(8,23),new S(26,24)),new B(30,new S(12,15),new S(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new B(30,new S(3,117),new S(10,118)),new B(28,new S(3,45),new S(23,46)),new B(30,new S(4,24),new S(31,25)),new B(30,new S(11,15),new S(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new B(30,new S(7,116),new S(7,117)),new B(28,new S(21,45),new S(7,46)),new B(30,new S(1,23),new S(37,24)),new B(30,new S(19,15),new S(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new B(30,new S(5,115),new S(10,116)),new B(28,new S(19,47),new S(10,48)),new B(30,new S(15,24),new S(25,25)),new B(30,new S(23,15),new S(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new B(30,new S(13,115),new S(3,116)),new B(28,new S(2,46),new S(29,47)),new B(30,new S(42,24),new S(1,25)),new B(30,new S(23,15),new S(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new B(30,new S(17,115)),new B(28,new S(10,46),new S(23,47)),new B(30,new S(10,24),new S(35,25)),new B(30,new S(19,15),new S(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new B(30,new S(17,115),new S(1,116)),new B(28,new S(14,46),new S(21,47)),new B(30,new S(29,24),new S(19,25)),new B(30,new S(11,15),new S(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new B(30,new S(13,115),new S(6,116)),new B(28,new S(14,46),new S(23,47)),new B(30,new S(44,24),new S(7,25)),new B(30,new S(59,16),new S(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new B(30,new S(12,121),new S(7,122)),new B(28,new S(12,47),new S(26,48)),new B(30,new S(39,24),new S(14,25)),new B(30,new S(22,15),new S(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new B(30,new S(6,121),new S(14,122)),new B(28,new S(6,47),new S(34,48)),new B(30,new S(46,24),new S(10,25)),new B(30,new S(2,15),new S(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new B(30,new S(17,122),new S(4,123)),new B(28,new S(29,46),new S(14,47)),new B(30,new S(49,24),new S(10,25)),new B(30,new S(24,15),new S(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new B(30,new S(4,122),new S(18,123)),new B(28,new S(13,46),new S(32,47)),new B(30,new S(48,24),new S(14,25)),new B(30,new S(42,15),new S(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new B(30,new S(20,117),new S(4,118)),new B(28,new S(40,47),new S(7,48)),new B(30,new S(43,24),new S(22,25)),new B(30,new S(10,15),new S(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new B(30,new S(19,118),new S(6,119)),new B(28,new S(18,47),new S(31,48)),new B(30,new S(34,24),new S(34,25)),new B(30,new S(20,15),new S(61,16)))];var vt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(vt||(vt={}));class xn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&n.flip(a,s)}}xn.values=new Map([[vt.DATA_MASK_000,new xn(vt.DATA_MASK_000,(E,n)=>(E+n&1)===0)],[vt.DATA_MASK_001,new xn(vt.DATA_MASK_001,(E,n)=>(E&1)===0)],[vt.DATA_MASK_010,new xn(vt.DATA_MASK_010,(E,n)=>n%3===0)],[vt.DATA_MASK_011,new xn(vt.DATA_MASK_011,(E,n)=>(E+n)%3===0)],[vt.DATA_MASK_100,new xn(vt.DATA_MASK_100,(E,n)=>(Math.floor(E/2)+Math.floor(n/3)&1)===0)],[vt.DATA_MASK_101,new xn(vt.DATA_MASK_101,(E,n)=>E*n%6===0)],[vt.DATA_MASK_110,new xn(vt.DATA_MASK_110,(E,n)=>E*n%6<3)],[vt.DATA_MASK_111,new xn(vt.DATA_MASK_111,(E,n)=>(E+n+E*n%3&1)===0)]]);class o2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new z;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const i=this.bitMatrix.getHeight();let s=0;const a=i-7;for(let l=i-1;l>=a;l--)s=this.copyBit(8,l,s);for(let l=i-8;l<i;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Pt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return le.getVersionForNumber(i);let s=0;const a=n-11;for(let h=5;h>=0;h--)for(let f=n-9;f>=a;f--)s=this.copyBit(f,h,s);let l=le.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;s=0;for(let h=5;h>=0;h--)for(let f=n-9;f>=a;f--)s=this.copyBit(h,f,s);if(l=le.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new z}copyBit(n,i,s){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),s=xn.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);const l=i.buildFunctionPattern();let h=!0;const f=new Uint8Array(i.getTotalCodewords());let g=0,p=0,y=0;for(let C=a-1;C>0;C-=2){C===6&&C--;for(let A=0;A<a;A++){const I=h?a-1-A:A;for(let R=0;R<2;R++)l.get(C-R,I)||(y++,p<<=1,this.bitMatrix.get(C-R,I)&&(p|=1),y===8&&(f[g++]=p,y=0,p=0))}h=!h}if(g!==i.getTotalCodewords())throw new z;return f}remask(){if(this.parsedFormatInfo===null)return;const n=xn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,s=n.getWidth();i<s;i++)for(let a=i+1,l=n.getHeight();a<l;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class Nl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,s){if(n.length!==i.getTotalCodewords())throw new _;const a=i.getECBlocksForLevel(s);let l=0;const h=a.getECBlocks();for(const R of h)l+=R.getCount();const f=new Array(l);let g=0;for(const R of h)for(let k=0;k<R.getCount();k++){const M=R.getDataCodewords(),V=a.getECCodewordsPerBlock()+M;f[g++]=new Nl(M,new Uint8Array(V))}const p=f[0].codewords.length;let y=f.length-1;for(;y>=0&&f[y].codewords.length!==p;)y--;y++;const C=p-a.getECCodewordsPerBlock();let A=0;for(let R=0;R<C;R++)for(let k=0;k<g;k++)f[k].codewords[R]=n[A++];for(let R=y;R<g;R++)f[R].codewords[C]=n[A++];const I=f[0].codewords.length;for(let R=C;R<I;R++)for(let k=0;k<g;k++){const M=k<y?R:R+1;f[k].codewords[M]=n[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var wn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(wn||(wn={}));class ue{constructor(n,i,s,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,ue.FOR_BITS.set(a,this),ue.FOR_VALUE.set(n,this)}static forBits(n){const i=ue.FOR_BITS.get(n);if(i===void 0)throw new _;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ue))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.TERMINATOR=new ue(wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ue.NUMERIC=new ue(wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ue.ALPHANUMERIC=new ue(wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ue.STRUCTURED_APPEND=new ue(wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ue.BYTE=new ue(wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ue.ECI=new ue(wn.ECI,"ECI",Int32Array.from([0,0,0]),7),ue.KANJI=new ue(wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ue.FNC1_FIRST_POSITION=new ue(wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ue.FNC1_SECOND_POSITION=new ue(wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ue.HANZI=new ue(wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qe{static decode(n,i,s,a){const l=new bl(n);let h=new Se;const f=new Array;let g=-1,p=-1;try{let y=null,C=!1,A;do{if(l.available()<4)A=ue.TERMINATOR;else{const I=l.readBits(4);A=ue.forBits(I)}switch(A){case ue.TERMINATOR:break;case ue.FNC1_FIRST_POSITION:case ue.FNC1_SECOND_POSITION:C=!0;break;case ue.STRUCTURED_APPEND:if(l.available()<16)throw new z;g=l.readBits(8),p=l.readBits(8);break;case ue.ECI:const I=Qe.parseECIValue(l);if(y=G.getCharacterSetECIByValue(I),y===null)throw new z;break;case ue.HANZI:const R=l.readBits(4),k=l.readBits(A.getCharacterCountBits(i));R===Qe.GB2312_SUBSET&&Qe.decodeHanziSegment(l,h,k);break;default:const M=l.readBits(A.getCharacterCountBits(i));switch(A){case ue.NUMERIC:Qe.decodeNumericSegment(l,h,M);break;case ue.ALPHANUMERIC:Qe.decodeAlphanumericSegment(l,h,M,C);break;case ue.BYTE:Qe.decodeByteSegment(l,h,M,y,f,a);break;case ue.KANJI:Qe.decodeKanjiSegment(l,h,M);break;default:throw new z}break}}while(A!==ue.TERMINATOR)}catch{throw new z}return new fs(n,h.toString(),f.length===0?null:f,s===null?null:s.toString(),g,p)}static decodeHanziSegment(n,i,s){if(s*13>n.available())throw new z;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const h=n.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,a[l]=f>>8&255,a[l+1]=f&255,l+=2,s--}try{i.append(Ue.decode(a,ce.GB2312))}catch(h){throw new z(h)}}static decodeKanjiSegment(n,i,s){if(s*13>n.available())throw new z;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const h=n.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,a[l]=f>>8,a[l+1]=f,l+=2,s--}try{i.append(Ue.decode(a,ce.SHIFT_JIS))}catch(h){throw new z(h)}}static decodeByteSegment(n,i,s,a,l,h){if(8*s>n.available())throw new z;const f=new Uint8Array(s);for(let p=0;p<s;p++)f[p]=n.readBits(8);let g;a===null?g=ce.guessEncoding(f,h):g=a.getName();try{i.append(Ue.decode(f,g))}catch(p){throw new z(p)}l.push(f)}static toAlphaNumericChar(n){if(n>=Qe.ALPHANUMERIC_CHARS.length)throw new z;return Qe.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,s,a){const l=i.length();for(;s>1;){if(n.available()<11)throw new z;const h=n.readBits(11);i.append(Qe.toAlphaNumericChar(Math.floor(h/45))),i.append(Qe.toAlphaNumericChar(h%45)),s-=2}if(s===1){if(n.available()<6)throw new z;i.append(Qe.toAlphaNumericChar(n.readBits(6)))}if(a)for(let h=l;h<i.length();h++)i.charAt(h)==="%"&&(h<i.length()-1&&i.charAt(h+1)==="%"?i.deleteCharAt(h+1):i.setCharAt(h,""))}static decodeNumericSegment(n,i,s){for(;s>=3;){if(n.available()<10)throw new z;const a=n.readBits(10);if(a>=1e3)throw new z;i.append(Qe.toAlphaNumericChar(Math.floor(a/100))),i.append(Qe.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(Qe.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(n.available()<7)throw new z;const a=n.readBits(7);if(a>=100)throw new z;i.append(Qe.toAlphaNumericChar(Math.floor(a/10))),i.append(Qe.toAlphaNumericChar(a%10))}else if(s===1){if(n.available()<4)throw new z;const a=n.readBits(4);if(a>=10)throw new z;i.append(Qe.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=n.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=n.readBits(16);return(i&31)<<16&4294967295|s}throw new z}}Qe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qe.GB2312_SUBSET=1;class B0{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class a2{constructor(){this.rsDecoder=new gs(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(lt.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const s=new o2(n);let a=null;try{return this.decodeBitMatrixParser(s,i)}catch(l){a=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,i);return l.setOther(new B0(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(n,i){const s=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),h=Nl.getDataBlocks(l,s,a);let f=0;for(const y of h)f+=y.getNumDataCodewords();const g=new Uint8Array(f);let p=0;for(const y of h){const C=y.getCodewords(),A=y.getNumDataCodewords();this.correctErrors(C,A);for(let I=0;I<A;I++)g[p++]=C[I]}return Qe.decode(g,s,a,i)}correctErrors(n,i){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-i)}catch{throw new D}for(let a=0;a<i;a++)n[a]=s[a]}}class Ol extends oe{constructor(n,i,s){super(n,i),this.estimatedModuleSize=s}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=(this.getX()+i)/2,l=(this.getY()+n)/2,h=(this.estimatedModuleSize+s)/2;return new Ol(a,l,h)}}class Do{constructor(n,i,s,a,l,h,f){this.image=n,this.startX=i,this.startY=s,this.width=a,this.height=l,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,s=this.width,a=n+s,l=this.startY+i/2,h=new Int32Array(3),f=this.image;for(let g=0;g<i;g++){const p=l+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));h[0]=0,h[1]=0,h[2]=0;let y=n;for(;y<a&&!f.get(y,p);)y++;let C=0;for(;y<a;){if(f.get(y,p))if(C===1)h[1]++;else if(C===2){if(this.foundPatternCross(h)){const A=this.handlePossibleCenter(h,p,y);if(A!==null)return A}h[0]=h[2],h[1]=1,h[2]=0,C=1}else h[++C]++;else C===1&&C++,h[C]++;y++}if(this.foundPatternCross(h)){const A=this.handlePossibleCenter(h,p,a);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=s)return!1;return!0}crossCheckVertical(n,i,s,a){const l=this.image,h=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let g=n;for(;g>=0&&l.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&!l.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&l.get(i,g)&&f[1]<=s;)f[1]++,g++;if(g===h||f[1]>s)return NaN;for(;g<h&&!l.get(i,g)&&f[2]<=s;)f[2]++,g++;if(f[2]>s)return NaN;const p=f[0]+f[1]+f[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(f)?Do.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s){const a=n[0]+n[1]+n[2],l=Do.centerFromEnd(n,s),h=this.crossCheckVertical(i,l,2*n[1],a);if(!isNaN(h)){const f=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(f,h,l))return p.combineEstimate(h,l,f);const g=new Ol(l,h,f);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Rl extends oe{constructor(n,i,s,a){super(n,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,s){if(Math.abs(i-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,s){const a=this.count+1,l=(this.count*this.getX()+i)/a,h=(this.count*this.getY()+n)/a,f=(this.count*this.estimatedModuleSize+s)/a;return new Rl(l,h,f,a)}}class l2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(J.TRY_HARDER)!==void 0,s=n!=null&&n.get(J.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),h=a.getWidth();let f=Math.floor(3*l/(4*Et.MAX_MODULES));(f<Et.MIN_SKIP||i)&&(f=Et.MIN_SKIP);let g=!1;const p=new Int32Array(5);for(let C=f-1;C<l&&!g;C+=f){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let I=0;I<h;I++)if(a.get(I,C))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(Et.foundPatternCross(p)){if(this.handlePossibleCenter(p,C,I,s)===!0)if(f=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const k=this.findRowSkip();k>p[2]&&(C+=k-p[2]-f,I=h-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;Et.foundPatternCross(p)&&this.handlePossibleCenter(p,C,h,s)===!0&&(f=p[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return oe.orderBestPatterns(y),new l2(y)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let l=0;l<5;l++){const h=n[l];if(h===0)return!1;i+=h}if(i<7)return!1;const s=i/7,a=s/2;return Math.abs(s-n[0])<a&&Math.abs(s-n[1])<a&&Math.abs(3*s-n[2])<3*a&&Math.abs(s-n[3])<a&&Math.abs(s-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,s,a){const l=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;n>=h&&i>=h&&f.get(i-h,n-h);)l[2]++,h++;if(n<h||i<h)return!1;for(;n>=h&&i>=h&&!f.get(i-h,n-h)&&l[1]<=s;)l[1]++,h++;if(n<h||i<h||l[1]>s)return!1;for(;n>=h&&i>=h&&f.get(i-h,n-h)&&l[0]<=s;)l[0]++,h++;if(l[0]>s)return!1;const g=f.getHeight(),p=f.getWidth();for(h=1;n+h<g&&i+h<p&&f.get(i+h,n+h);)l[2]++,h++;if(n+h>=g||i+h>=p)return!1;for(;n+h<g&&i+h<p&&!f.get(i+h,n+h)&&l[3]<s;)l[3]++,h++;if(n+h>=g||i+h>=p||l[3]>=s)return!1;for(;n+h<g&&i+h<p&&f.get(i+h,n+h)&&l[4]<s;)l[4]++,h++;if(l[4]>=s)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-a)<2*a&&Et.foundPatternCross(l)}crossCheckVertical(n,i,s,a){const l=this.image,h=l.getHeight(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&l.get(i,g);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(i,g)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&l.get(i,g)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&l.get(i,g);)f[2]++,g++;if(g===h)return NaN;for(;g<h&&!l.get(i,g)&&f[3]<s;)f[3]++,g++;if(g===h||f[3]>=s)return NaN;for(;g<h&&l.get(i,g)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=2*a?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,g):NaN}crossCheckHorizontal(n,i,s,a){const l=this.image,h=l.getWidth(),f=this.getCrossCheckStateCount();let g=n;for(;g>=0&&l.get(g,i);)f[2]++,g--;if(g<0)return NaN;for(;g>=0&&!l.get(g,i)&&f[1]<=s;)f[1]++,g--;if(g<0||f[1]>s)return NaN;for(;g>=0&&l.get(g,i)&&f[0]<=s;)f[0]++,g--;if(f[0]>s)return NaN;for(g=n+1;g<h&&l.get(g,i);)f[2]++,g++;if(g===h)return NaN;for(;g<h&&!l.get(g,i)&&f[3]<s;)f[3]++,g++;if(g===h||f[3]>=s)return NaN;for(;g<h&&l.get(g,i)&&f[4]<s;)f[4]++,g++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=a?NaN:Et.foundPatternCross(f)?Et.centerFromEnd(f,g):NaN}handlePossibleCenter(n,i,s,a){const l=n[0]+n[1]+n[2]+n[3]+n[4];let h=Et.centerFromEnd(n,s),f=this.crossCheckVertical(i,Math.floor(h),n[2],l);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),n[2],l),!isNaN(h)&&(!a||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),n[2],l)))){const g=l/7;let p=!1;const y=this.possibleCenters;for(let C=0,A=y.length;C<A;C++){const I=y[C];if(I.aboutEquals(g,f,h)){y[C]=I.combineEstimate(f,h,g),p=!0;break}}if(!p){const C=new Rl(h,f,g);y.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Et.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const s=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Et.CENTER_QUORUM&&(n++,i+=h.getEstimatedModuleSize());if(n<3)return!1;const a=i/s;let l=0;for(const h of this.possibleCenters)l+=Math.abs(h.getEstimatedModuleSize()-a);return l<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new W;const i=this.possibleCenters;let s;if(n>3){let a=0,l=0;for(const g of this.possibleCenters){const p=g.getEstimatedModuleSize();a+=p,l+=p*p}s=a/n;let h=Math.sqrt(l/n-s*s);i.sort((g,p)=>{const y=Math.abs(p.getEstimatedModuleSize()-s),C=Math.abs(g.getEstimatedModuleSize()-s);return y<C?-1:y>C?1:0});const f=Math.max(.2*s,h);for(let g=0;g<i.length&&i.length>3;g++){const p=i[g];Math.abs(p.getEstimatedModuleSize()-s)>f&&(i.splice(g,1),g--)}}if(i.length>3){let a=0;for(const l of i)a+=l.getEstimatedModuleSize();s=a/i.length,i.sort((l,h)=>{if(h.getCount()===l.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-s),g=Math.abs(l.getEstimatedModuleSize()-s);return f<g?1:f>g?-1:0}else return h.getCount()-l.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class ms{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(J.NEED_RESULT_POINT_CALLBACK);const s=new Et(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const i=n.getTopLeft(),s=n.getTopRight(),a=n.getBottomLeft(),l=this.calculateModuleSize(i,s,a);if(l<1)throw new W("No pattern found in proccess finder.");const h=ms.computeDimension(i,s,a,l),f=le.getProvisionalVersionForDimension(h),g=f.getDimensionForVersion()-7;let p=null;if(f.getAlignmentPatternCenters().length>0){const I=s.getX()-i.getX()+a.getX(),R=s.getY()-i.getY()+a.getY(),k=1-3/g,M=Math.floor(i.getX()+k*(I-i.getX())),V=Math.floor(i.getY()+k*(R-i.getY()));for(let Z=4;Z<=16;Z<<=1)try{p=this.findAlignmentInRegion(l,M,V,Z);break}catch(q){if(!(q instanceof W))throw q}}const y=ms.createTransform(i,s,a,p,h),C=ms.sampleGrid(this.image,y,h);let A;return p===null?A=[a,i,s]:A=[a,i,s,p],new bo(C,A)}static createTransform(n,i,s,a,l){const h=l-3.5;let f,g,p,y;return a!==null?(f=a.getX(),g=a.getY(),p=h-3,y=p):(f=i.getX()-n.getX()+s.getX(),g=i.getY()-n.getY()+s.getY(),p=h,y=h),In.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,p,y,3.5,h,n.getX(),n.getY(),i.getX(),i.getY(),f,g,s.getX(),s.getY())}static sampleGrid(n,i,s){return ur.getInstance().sampleGridWithTransform(n,s,s,i)}static computeDimension(n,i,s,a){const l=Te.round(oe.distance(n,i)/a),h=Te.round(oe.distance(n,s)/a);let f=Math.floor((l+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(n,i,s){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,s,a){let l=this.sizeOfBlackWhiteBlackRun(n,i,s,a),h=1,f=n-(s-n);f<0?(h=n/(n-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let g=Math.floor(i-(a-i)*h);return h=1,g<0?(h=i/(i-g),g=0):g>=this.image.getHeight()&&(h=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),f=Math.floor(n+(f-n)*h),l+=this.sizeOfBlackWhiteBlackRun(n,i,f,g),l-1}sizeOfBlackWhiteBlackRun(n,i,s,a){const l=Math.abs(a-i)>Math.abs(s-n);if(l){let I=n;n=i,i=I,I=s,s=a,a=I}const h=Math.abs(s-n),f=Math.abs(a-i);let g=-h/2;const p=n<s?1:-1,y=i<a?1:-1;let C=0;const A=s+p;for(let I=n,R=i;I!==A;I+=p){const k=l?R:I,M=l?I:R;if(C===1===this.image.get(k,M)){if(C===2)return Te.distance(I,R,n,i);C++}if(g+=f,g>0){if(R===a)break;R+=y,g-=h}}return C===2?Te.distance(s+p,a,n,i):NaN}findAlignmentInRegion(n,i,s,a){const l=Math.floor(a*n),h=Math.max(0,i-l),f=Math.min(this.image.getWidth()-1,i+l);if(f-h<n*3)throw new W("Alignment top exceeds estimated module size.");const g=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-g<n*3)throw new W("Alignment bottom exceeds estimated module size.");return new Do(this.image,h,g,f-h,p-g,n,this.resultPointCallback).find()}}class dr{constructor(){this.decoder=new a2}getDecoder(){return this.decoder}decode(n,i){let s,a;if(i!=null&&i.get(J.PURE_BARCODE)!==void 0){const g=dr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(g,i),a=dr.NO_POINTS}else{const g=new ms(n.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(g.getBits(),i),a=g.getPoints()}s.getOther()instanceof B0&&s.getOther().applyMirroredCorrection(a);const l=new qe(s.getText(),s.getRawBytes(),void 0,a,ae.QR_CODE,void 0),h=s.getByteSegments();h!==null&&l.putMetadata(yt.BYTE_SEGMENTS,h);const f=s.getECLevel();return f!==null&&l.putMetadata(yt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(yt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(i===null||s===null)throw new W;const a=this.moduleSize(i,n);let l=i[1],h=s[1],f=i[0],g=s[0];if(f>=g||l>=h)throw new W;if(h-l!==g-f&&(g=f+(h-l),g>=n.getWidth()))throw new W;const p=Math.round((g-f+1)/a),y=Math.round((h-l+1)/a);if(p<=0||y<=0)throw new W;if(y!==p)throw new W;const C=Math.floor(a/2);l+=C,f+=C;const A=f+Math.floor((p-1)*a)-g;if(A>0){if(A>C)throw new W;f-=A}const I=l+Math.floor((y-1)*a)-h;if(I>0){if(I>C)throw new W;l-=I}const R=new lt(p,y);for(let k=0;k<y;k++){const M=l+Math.floor(k*a);for(let V=0;V<p;V++)n.get(f+Math.floor(V*a),M)&&R.set(V,k)}return R}static moduleSize(n,i){const s=i.getHeight(),a=i.getWidth();let l=n[0],h=n[1],f=!0,g=0;for(;l<a&&h<s;){if(f!==i.get(l,h)){if(++g===5)break;f=!f}l++,h++}if(l===a||h===s)throw new W;return(l-n[0])/7}}dr.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(n){return Te.sum(n)}static toIntArray(n){if(n==null||!n.length)return de.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let s=0;for(const a of n)i[s++]=a;return i}static getCodeword(n){const i=b.binarySearch(de.SYMBOL_TABLE,n&262143);return i<0?-1:(de.CODEWORD_TABLE[i]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class u2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(n,i,s){let a=n.getBlackMatrix(),l=we.detect(s,a);return l.length||(a=a.clone(),a.rotate180(),l=we.detect(s,a)),new u2(a,l)}static detect(n,i){const s=new Array;let a=0,l=0,h=!1;for(;a<i.getHeight();){const f=we.findVertices(i,a,l);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,l=0;for(const g of s)g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())));a+=we.ROW_STEP;continue}if(h=!0,s.push(f),!n)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return s}static findVertices(n,i,s){const a=n.getHeight(),l=n.getWidth(),h=new Array(8);return we.copyToResult(h,we.findRowsWithPattern(n,a,l,i,s,we.START_PATTERN),we.INDEXES_START_PATTERN),h[4]!=null&&(s=Math.trunc(h[4].getX()),i=Math.trunc(h[4].getY())),we.copyToResult(h,we.findRowsWithPattern(n,a,l,i,s,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),h}static copyToResult(n,i,s){for(let a=0;a<s.length;a++)n[s[a]]=i[a]}static findRowsWithPattern(n,i,s,a,l,h){const f=new Array(4);let g=!1;const p=new Int32Array(h.length);for(;a<i;a+=we.ROW_STEP){let C=we.findGuardPattern(n,l,a,s,!1,h,p);if(C!=null){for(;a>0;){const A=we.findGuardPattern(n,l,--a,s,!1,h,p);if(A!=null)C=A;else{a++;break}}f[0]=new oe(C[0],a),f[1]=new oe(C[1],a),g=!0;break}}let y=a+1;if(g){let C=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;y<i;y++){const I=we.findGuardPattern(n,A[0],y,s,!1,h,p);if(I!=null&&Math.abs(A[0]-I[0])<we.MAX_PATTERN_DRIFT&&Math.abs(A[1]-I[1])<we.MAX_PATTERN_DRIFT)A=I,C=0;else{if(C>we.SKIPPED_ROW_COUNT_MAX)break;C++}}y-=C+1,f[2]=new oe(A[0],y),f[3]=new oe(A[1],y)}return y-a<we.BARCODE_MIN_HEIGHT&&b.fill(f,null),f}static findGuardPattern(n,i,s,a,l,h,f){b.fillWithin(f,0,f.length,0);let g=i,p=0;for(;n.get(g,s)&&g>0&&p++<we.MAX_PIXEL_DRIFT;)g--;let y=g,C=0,A=h.length;for(let I=l;y<a;y++)if(n.get(y,s)!==I)f[C]++;else{if(C===A-1){if(we.patternMatchVariance(f,h,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([g,y]);g+=f[0]+f[1],P.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,I=!I}return C===A-1&&we.patternMatchVariance(f,h,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([g,y-1]):null}static patternMatchVariance(n,i,s){let a=n.length,l=0,h=0;for(let p=0;p<a;p++)l+=n[p],h+=i[p];if(l<h)return 1/0;let f=l/h;s*=f;let g=0;for(let p=0;p<a;p++){let y=n[p],C=i[p]*f,A=y>C?y-C:C-y;if(A>s)return 1/0;g+=A}return g/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class It{constructor(n,i){if(i.length===0)throw new _;this.field=n;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),P.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,s=n.coefficients;if(i.length>s.length){let h=i;i=s,s=h}let a=new Int32Array(s.length),l=s.length-i.length;P.arraycopy(s,0,a,0,l);for(let h=l;h<s.length;h++)a[h]=this.field.add(i[h-l],s[h]);return new It(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof It?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new It(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=n.coefficients,l=a.length,h=new Int32Array(s+l-1);for(let f=0;f<s;f++){let g=i[f];for(let p=0;p<l;p++)h[f+p]=this.field.add(h[f+p],this.field.multiply(g,a[p]))}return new It(this.field,h)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let s=0;s<n;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new It(this.field,i)}multiplyScalar(n){if(n===0)return new It(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],n);return new It(this.field,s)}multiplyByMonomial(n,i){if(n<0)throw new _;if(i===0)return new It(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+n);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new It(this.field,a)}toString(){let n=new Se;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(i===0||s!==1)&&n.append(s),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class c2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new _;return this.logTable[n]}inverse(n){if(n===0)throw new Io;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class kl extends c2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let a=0;a<n;a++)this.expTable[a]=s,s=s*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new It(this,new Int32Array([0])),this.one=new It(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new _;if(i===0)return this.zero;let s=new Int32Array(n+1);return s[0]=i,new It(this,s)}}kl.PDF417_GF=new kl(de.NUMBER_OF_CODEWORDS,3);class F0{constructor(){this.field=kl.PDF417_GF}decode(n,i,s){let a=new It(this.field,n),l=new Int32Array(i),h=!1;for(let R=i;R>0;R--){let k=a.evaluateAt(this.field.exp(R));l[i-R]=k,k!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(s!=null)for(const R of s){let k=this.field.exp(n.length-1-R),M=new It(this.field,new Int32Array([this.field.subtract(0,k),1]));f=f.multiply(M)}let g=new It(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),y=p[0],C=p[1],A=this.findErrorLocations(y),I=this.findErrorMagnitudes(C,y,A);for(let R=0;R<A.length;R++){let k=n.length-1-this.field.log(A[R]);if(k<0)throw D.getChecksumInstance();n[k]=this.field.subtract(n[k],I[R])}return A.length}runEuclideanAlgorithm(n,i,s){if(n.getDegree()<i.getDegree()){let A=n;n=i,i=A}let a=n,l=i,h=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let A=a,I=h;if(a=l,h=f,a.isZero())throw D.getChecksumInstance();l=A;let R=this.field.getZero(),k=a.getCoefficient(a.getDegree()),M=this.field.inverse(k);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let V=l.getDegree()-a.getDegree(),Z=this.field.multiply(l.getCoefficient(l.getDegree()),M);R=R.add(this.field.buildMonomial(V,Z)),l=l.subtract(a.multiplyByMonomial(V,Z))}f=R.multiply(h).subtract(I).negative()}let g=f.getCoefficient(0);if(g===0)throw D.getChecksumInstance();let p=this.field.inverse(g),y=f.multiply(p),C=l.multiply(p);return[y,C]}findErrorLocations(n){let i=n.getDegree(),s=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)n.evaluateAt(l)===0&&(s[a]=this.field.inverse(l),a++);if(a!==i)throw D.getChecksumInstance();return s}findErrorMagnitudes(n,i,s){let a=i.getDegree(),l=new Int32Array(a);for(let p=1;p<=a;p++)l[a-p]=this.field.multiply(p,i.getCoefficient(p));let h=new It(this.field,l),f=s.length,g=new Int32Array(f);for(let p=0;p<f;p++){let y=this.field.inverse(s[p]),C=this.field.subtract(0,n.evaluateAt(y)),A=this.field.inverse(h.evaluateAt(y));g[p]=this.field.multiply(C,A)}return g}}class Xr{constructor(n,i,s,a,l){n instanceof Xr?this.constructor_2(n):this.constructor_1(n,i,s,a,l)}constructor_1(n,i,s,a,l){const h=i==null||s==null,f=a==null||l==null;if(h&&f)throw new W;h?(i=new oe(0,a.getY()),s=new oe(0,l.getY())):f&&(a=new oe(n.getWidth()-1,i.getY()),l=new oe(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new Xr(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,s){let a=this.topLeft,l=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(n>0){let g=s?this.topLeft:this.topRight,p=Math.trunc(g.getY()-n);p<0&&(p=0);let y=new oe(g.getX(),p);s?a=y:h=y}if(i>0){let g=s?this.bottomLeft:this.bottomRight,p=Math.trunc(g.getY()+i);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let y=new oe(g.getX(),p);s?l=y:f=y}return new Xr(this.image,a,l,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class h2{constructor(n,i,s,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xs{constructor(){this.buffer=""}static form(n,i){let s=-1;function a(h,f,g,p,y,C){if(h==="%%")return"%";if(i[++s]===void 0)return;h=p?parseInt(p.substr(1)):void 0;let A=y?parseInt(y.substr(1)):void 0,I;switch(C){case"s":I=i[s];break;case"c":I=i[s][0];break;case"f":I=parseFloat(i[s]).toFixed(h);break;case"p":I=parseFloat(i[s]).toPrecision(h);break;case"e":I=parseFloat(i[s]).toExponential(h);break;case"x":I=parseInt(i[s]).toString(A||16);break;case"d":I=parseFloat(parseInt(i[s],A||10).toPrecision(h)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let R=parseInt(g),k=g&&g[0]+""=="0"?"0":" ";for(;I.length<R;)I=f!==void 0?I+k:k+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}format(n,...i){this.buffer+=xs.form(n,i)}toString(){return this.buffer}}class ws{constructor(n){this.boundingBox=new Xr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let s=1;s<ws.MAX_NEARBY_DISTANCE;s++){let a=this.imageRowToCodewordIndex(n)-s;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+s,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new xs;let i=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return n.toString()}}ws.MAX_NEARBY_DISTANCE=5;class ys{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[s,a]of this.values.entries()){const l={getKey:()=>s,getValue:()=>a};l.getValue()>n?(n=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===n&&i.push(l.getKey())}return de.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class U0 extends ws{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=-1,p=1,y=0;for(let C=h;C<f;C++){if(i[C]==null)continue;let A=i[C],I=A.getRowNumber()-g;if(I===0)y++;else if(I===1)p=Math.max(p,y),y=1,g=A.getRowNumber();else if(I<0||A.getRowNumber()>=n.getRowCount()||I>C)i[C]=null;else{let R;p>2?R=(p-2)*I:R=I;let k=R>=C;for(let M=1;M<=R&&!k;M++)k=i[C-M]!=null;k?i[C]=null:(g=A.getRowNumber(),y=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),g=-1;for(let p=l;p<h;p++){if(f[p]==null)continue;let y=f[p];y.setRowNumberAsRowIndicatorColumn();let C=y.getRowNumber()-g;C===0||(C===1?g=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?f[p]=null:g=y.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new ys,s=new ys,a=new ys,l=new ys;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let g=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(g*3+1);break;case 1:l.setValue(g/3),a.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<de.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let h=new h2(i.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,i){for(let s=0;s<n.length;s++){let a=n[s];if(n[s]==null)continue;let l=a.getValue()%30,h=a.getRowNumber();if(h>i.getRowCount()){n[s]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(n[s]=null);break;case 2:l+1!==i.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vs{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=de.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&i[s]!=null&&n[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[s];l!=null&&(l.setRowNumber(n[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let h=this.barcodeColumnCount+1;h>0&&l<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[s];f!=null&&(l=vs.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let h=1;h<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[s];f!=null&&(l=vs.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,s){if(!this.detectionResultColumns[n-1])return;let a=s[i],l=this.detectionResultColumns[n-1].getCodewords(),h=l;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=l[i],f[3]=h[i],i>0&&(f[0]=s[i-1],f[4]=l[i-1],f[5]=h[i-1]),i>1&&(f[8]=s[i-2],f[10]=l[i-2],f[11]=h[i-2]),i<s.length-1&&(f[1]=s[i+1],f[6]=l[i+1],f[7]=h[i+1]),i<s.length-2&&(f[9]=s[i+2],f[12]=l[i+2],f[13]=h[i+2]);for(let g of f)if(vs.adjustRowNumber(a,g))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new xs;for(let s=0;s<n.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[s];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}class Es{constructor(n,i,s,a){this.rowNumber=Es.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Es.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Es.BARCODE_ROW_UNKNOWN=-1;class Yt{static initialize(){for(let n=0;n<de.SYMBOL_TABLE.length;n++){let i=de.SYMBOL_TABLE[n],s=i&1;for(let a=0;a<de.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===s;)l+=1,i>>=1;s=i&1,Yt.RATIOS_TABLE[n]||(Yt.RATIOS_TABLE[n]=new Array(de.BARS_IN_MODULE)),Yt.RATIOS_TABLE[n][de.BARS_IN_MODULE-a-1]=Math.fround(l/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=Yt.getDecodedCodewordValue(Yt.sampleBitCounts(n));return i!==-1?i:Yt.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Te.sum(n),s=new Int32Array(de.BARS_IN_MODULE),a=0,l=0;for(let h=0;h<de.MODULES_IN_CODEWORD;h++){let f=i/(2*de.MODULES_IN_CODEWORD)+h*i/de.MODULES_IN_CODEWORD;l+n[a]<=f&&(l+=n[a],a++),s[a]++}return s}static getDecodedCodewordValue(n){let i=Yt.getBitValue(n);return de.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let s=0;s<n.length;s++)for(let a=0;a<n[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Te.sum(n),s=new Array(de.BARS_IN_MODULE);if(i>1)for(let h=0;h<s.length;h++)s[h]=Math.fround(n[h]/i);let a=To.MAX_VALUE,l=-1;this.bSymbolTableReady||Yt.initialize();for(let h=0;h<Yt.RATIOS_TABLE.length;h++){let f=0,g=Yt.RATIOS_TABLE[h];for(let p=0;p<de.BARS_IN_MODULE;p++){let y=Math.fround(g[p]-s[p]);if(f+=Math.fround(y*y),f>=a)break}f<a&&(a=f,l=de.SYMBOL_TABLE[h])}return l}}Yt.bSymbolTableReady=!1,Yt.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(E=>new Array(de.BARS_IN_MODULE));class j0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class V0{static parseLong(n,i=void 0){return parseInt(n,i)}}class z0 extends w{}z0.kind="NullPointerException";class f2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,s){if(n==null)throw new z0;if(i<0||i>n.length||s<0||i+s>n.length||i+s<0)throw new H;if(s===0)return;for(let a=0;a<s;a++)this.write(n[i+a])}flush(){}close(){}}class d2 extends w{}class g2 extends f2{constructor(n=32){if(super(),this.count=0,n<0)throw new _("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new d2;s=O.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,s){if(i<0||i>n.length||s<0||i+s-n.length>0)throw new H;this.ensureCapacity(this.count+s),P.arraycopy(n,i,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Me;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Me||(Me={}));function W0(){if(typeof window<"u")return window.BigInt||null;if(typeof Ot<"u")return Ot.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Po;function gr(E){if(typeof Po>"u"&&(Po=W0()),Po===null)throw new Error("BigInt is not supported!");return Po(E)}function p2(){let E=[];E[0]=gr(1);let n=gr(900);E[1]=n;for(let i=2;i<16;i++)E[i]=E[i-1]*n;return E}class j{static decode(n,i){let s=new Se(""),a=G.ISO8859_1;s.enableDecoding(a);let l=1,h=n[l++],f=new j0;for(;l<n[0];){switch(h){case j.TEXT_COMPACTION_MODE_LATCH:l=j.textCompaction(n,l,s);break;case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:l=j.byteCompaction(h,n,a,l,s);break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[l++]);break;case j.NUMERIC_COMPACTION_MODE_LATCH:l=j.numericCompaction(n,l,s);break;case j.ECI_CHARSET:G.getCharacterSetECIByValue(n[l++]);break;case j.ECI_GENERAL_PURPOSE:l+=2;break;case j.ECI_USER_DEFINED:l++;break;case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=j.decodeMacroBlock(n,l,f);break;case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:throw new z;default:l--,l=j.textCompaction(n,l,s);break}if(l<n.length)h=n[l++];else throw z.getFormatInstance()}if(s.length()===0)throw z.getFormatInstance();let g=new fs(null,s.toString(),null,i);return g.setOther(f),g}static decodeMacroBlock(n,i,s){if(i+j.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw z.getFormatInstance();let a=new Int32Array(j.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<j.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=n[i];s.setSegmentIndex(O.parseInt(j.decodeBase900toBase10(a,j.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Se;i=j.textCompaction(n,i,l),s.setFileId(l.toString());let h=-1;for(n[i]===j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=i+1);i<n[0];)switch(n[i]){case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case j.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Se;i=j.textCompaction(n,i+1,f),s.setFileName(f.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new Se;i=j.textCompaction(n,i+1,g),s.setSender(g.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Se;i=j.textCompaction(n,i+1,p),s.setAddressee(p.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Se;i=j.numericCompaction(n,i+1,y),s.setSegmentCount(O.parseInt(y.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new Se;i=j.numericCompaction(n,i+1,C),s.setTimestamp(V0.parseLong(C.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Se;i=j.numericCompaction(n,i+1,A),s.setChecksum(O.parseInt(A.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new Se;i=j.numericCompaction(n,i+1,I),s.setFileSize(V0.parseLong(I.toString()));break;default:throw z.getFormatInstance()}break;case j.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(h!==-1){let f=i-h;s.isLastSegment()&&f--,s.setOptionalData(b.copyOfRange(n,h,h+f))}return i}static textCompaction(n,i,s){let a=new Int32Array((n[0]-i)*2),l=new Int32Array((n[0]-i)*2),h=0,f=!1;for(;i<n[0]&&!f;){let g=n[i++];if(g<j.TEXT_COMPACTION_MODE_LATCH)a[h]=g/30,a[h+1]=g%30,h+=2;else switch(g){case j.TEXT_COMPACTION_MODE_LATCH:a[h++]=j.TEXT_COMPACTION_MODE_LATCH;break;case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[h]=j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[i++],l[h]=g,h++;break}}return j.decodeTextCompaction(a,l,h,s),i}static decodeTextCompaction(n,i,s,a){let l=Me.ALPHA,h=Me.ALPHA,f=0;for(;f<s;){let g=n[f],p="";switch(l){case Me.ALPHA:if(g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case j.LL:l=Me.LOWER;break;case j.ML:l=Me.MIXED;break;case j.PS:h=l,l=Me.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.LOWER:if(g<26)p=String.fromCharCode(97+g);else switch(g){case 26:p=" ";break;case j.AS:h=l,l=Me.ALPHA_SHIFT;break;case j.ML:l=Me.MIXED;break;case j.PS:h=l,l=Me.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.MIXED:if(g<j.PL)p=j.MIXED_CHARS[g];else switch(g){case j.PL:l=Me.PUNCT;break;case 26:p=" ";break;case j.LL:l=Me.LOWER;break;case j.AL:l=Me.ALPHA;break;case j.PS:h=l,l=Me.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.PUNCT:if(g<j.PAL)p=j.PUNCT_CHARS[g];else switch(g){case j.PAL:l=Me.ALPHA;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.ALPHA_SHIFT:if(l=h,g<26)p=String.fromCharCode(65+g);else switch(g){case 26:p=" ";break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break;case Me.PUNCT_SHIFT:if(l=h,g<j.PAL)p=j.PUNCT_CHARS[g];else switch(g){case j.PAL:l=Me.ALPHA;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case j.TEXT_COMPACTION_MODE_LATCH:l=Me.ALPHA;break}break}p!==""&&a.append(p),f++}}static byteCompaction(n,i,s,a,l){let h=new g2,f=0,g=0,p=!1;switch(n){case j.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),C=i[a++];for(;a<i[0]&&!p;)switch(y[f++]=C,g=900*g+C,C=i[a++],C){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)h.write(Number(gr(g)>>gr(8*(5-A))));g=0,f=0}break}a===i[0]&&C<j.TEXT_COMPACTION_MODE_LATCH&&(y[f++]=C);for(let A=0;A<f;A++)h.write(y[A]);break;case j.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!p;){let A=i[a++];if(A<j.TEXT_COMPACTION_MODE_LATCH)f++,g=900*g+A;else switch(A){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(f%5===0&&f>0){for(let I=0;I<6;++I)h.write(Number(gr(g)>>gr(8*(5-I))));g=0,f=0}}break}return l.append(Ue.decode(h.toByteArray(),s)),a}static numericCompaction(n,i,s){let a=0,l=!1,h=new Int32Array(j.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!l;){let f=n[i++];if(i===n[0]&&(l=!0),f<j.TEXT_COMPACTION_MODE_LATCH)h[a]=f,a++;else switch(f){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%j.MAX_NUMERIC_CODEWORDS===0||f===j.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(s.append(j.decodeBase900toBase10(h,a)),a=0)}return i}static decodeBase900toBase10(n,i){let s=gr(0);for(let l=0;l<i;l++)s+=j.EXP900[i-l-1]*gr(n[l]);let a=s.toString();if(a.charAt(0)!=="1")throw new z;return a.substring(1)}}j.TEXT_COMPACTION_MODE_LATCH=900,j.BYTE_COMPACTION_MODE_LATCH=901,j.NUMERIC_COMPACTION_MODE_LATCH=902,j.BYTE_COMPACTION_MODE_LATCH_6=924,j.ECI_USER_DEFINED=925,j.ECI_GENERAL_PURPOSE=926,j.ECI_CHARSET=927,j.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,j.MACRO_PDF417_TERMINATOR=922,j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,j.MAX_NUMERIC_CODEWORDS=15,j.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,j.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,j.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,j.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,j.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,j.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,j.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,j.PL=25,j.LL=27,j.AS=27,j.ML=28,j.AL=28,j.PS=29,j.PAL=29,j.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,j.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",j.EXP900=W0()?p2():[],j.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ye{constructor(){}static decode(n,i,s,a,l,h,f){let g=new Xr(n,i,s,a,l),p=null,y=null,C;for(let R=!0;;R=!1){if(i!=null&&(p=ye.getRowIndicatorColumn(n,g,i,!0,h,f)),a!=null&&(y=ye.getRowIndicatorColumn(n,g,a,!1,h,f)),C=ye.merge(p,y),C==null)throw W.getNotFoundInstance();let k=C.getBoundingBox();if(R&&k!=null&&(k.getMinY()<g.getMinY()||k.getMaxY()>g.getMaxY()))g=k;else break}C.setBoundingBox(g);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,p),C.setDetectionResultColumn(A,y);let I=p!=null;for(let R=1;R<=A;R++){let k=I?R:A-R;if(C.getDetectionResultColumn(k)!==void 0)continue;let M;k===0||k===A?M=new U0(g,k===0):M=new ws(g),C.setDetectionResultColumn(k,M);let V=-1,Z=V;for(let q=g.getMinY();q<=g.getMaxY();q++){if(V=ye.getStartColumn(C,k,q,I),V<0||V>g.getMaxX()){if(Z===-1)continue;V=Z}let $=ye.detectCodeword(n,g.getMinX(),g.getMaxX(),I,V,q,h,f);$!=null&&(M.setCodeword(q,$),Z=V,h=Math.min(h,$.getWidth()),f=Math.max(f,$.getWidth()))}}return ye.createDecoderResult(C)}static merge(n,i){if(n==null&&i==null)return null;let s=ye.getBarcodeMetadata(n,i);if(s==null)return null;let a=Xr.merge(ye.adjustBoundingBox(n),ye.adjustBoundingBox(i));return new vs(s,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let s=ye.getMax(i),a=0;for(let f of i)if(a+=s-f,f>0)break;let l=n.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let h=0;for(let f=i.length-1;f>=0&&(h+=s-i[f],!(i[f]>0));f--);for(let f=l.length-1;h>0&&l[f]==null;f--)h--;return n.getBoundingBox().addMissingRows(a,h,n.isLeft())}static getMax(n){let i=-1;for(let s of n)i=Math.max(i,s);return i}static getBarcodeMetadata(n,i){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(n,i,s,a,l,h){let f=new U0(i,a);for(let g=0;g<2;g++){let p=g===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let C=Math.trunc(Math.trunc(s.getY()));C<=i.getMaxY()&&C>=i.getMinY();C+=p){let A=ye.detectCodeword(n,0,n.getWidth(),a,y,C,l,h);A!=null&&(f.setCodeword(C,A),a?y=A.getStartX():y=A.getEndX())}}return f}static adjustCodewordCount(n,i){let s=i[0][1],a=s.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ye.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(l<1||l>de.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();s.setValue(l)}else a[0]!==l&&s.setValue(l)}static createDecoderResult(n){let i=ye.createBarcodeMatrix(n);ye.adjustCodewordCount(n,i);let s=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],h=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let p=0;p<n.getBarcodeColumnCount();p++){let y=i[g][p+1].getValue(),C=g*n.getBarcodeColumnCount()+p;y.length===0?s.push(C):y.length===1?a[C]=y[0]:(h.push(C),l.push(y))}let f=new Array(l.length);for(let g=0;g<f.length;g++)f[g]=l[g];return ye.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,de.toIntArray(s),de.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(n,i,s,a,l){let h=new Int32Array(a.length),f=100;for(;f-- >0;){for(let g=0;g<h.length;g++)i[a[g]]=l[g][h[g]];try{return ye.decodeCodewords(i,n,s)}catch(g){if(!(g instanceof D))throw g}if(h.length===0)throw D.getChecksumInstance();for(let g=0;g<h.length;g++)if(h[g]<l[g].length-1){h[g]++;break}else if(h[g]=0,g===h.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new ys;let s=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=0){if(h>=i.length)continue;i[h][s].setValue(l.getValue())}}}s++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,s,a){let l=a?1:-1,h=null;if(ye.isValidBarcodeColumn(n,i-l)&&(h=n.getDetectionResultColumn(i-l).getCodeword(s)),h!=null)return a?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(i).getCodewordNearby(s),h!=null)return a?h.getStartX():h.getEndX();if(ye.isValidBarcodeColumn(n,i-l)&&(h=n.getDetectionResultColumn(i-l).getCodewordNearby(s)),h!=null)return a?h.getEndX():h.getStartX();let f=0;for(;ye.isValidBarcodeColumn(n,i-l);){i-=l;for(let g of n.getDetectionResultColumn(i).getCodewords())if(g!=null)return(a?g.getEndX():g.getStartX())+l*f*(g.getEndX()-g.getStartX());f++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,s,a,l,h,f,g){l=ye.adjustCodewordStartColumn(n,i,s,a,l,h);let p=ye.getModuleBitCount(n,i,s,a,l,h);if(p==null)return null;let y,C=Te.sum(p);if(a)y=l+C;else{for(let R=0;R<p.length/2;R++){let k=p[R];p[R]=p[p.length-1-R],p[p.length-1-R]=k}y=l,l=y-C}if(!ye.checkCodewordSkew(C,f,g))return null;let A=Yt.getDecodedValue(p),I=de.getCodeword(A);return I===-1?null:new Es(l,y,ye.getCodewordBucketNumber(A),I)}static getModuleBitCount(n,i,s,a,l,h){let f=l,g=new Int32Array(8),p=0,y=a?1:-1,C=a;for(;(a?f<s:f>=i)&&p<g.length;)n.get(f,h)===C?(g[p]++,f+=y):(p++,C=!C);return p===g.length||f===(a?s:i)&&p===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,s,a,l,h){let f=l,g=a?-1:1;for(let p=0;p<2;p++){for(;(a?f>=i:f<s)&&a===n.get(f,h);){if(Math.abs(l-f)>ye.CODEWORD_SKEW_SIZE)return l;f+=g}g=-g,a=!a}return f}static checkCodewordSkew(n,i,s){return i-ye.CODEWORD_SKEW_SIZE<=n&&n<=s+ye.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,s){if(n.length===0)throw z.getFormatInstance();let a=1<<i+1,l=ye.correctErrors(n,s,a);ye.verifyCodewordCount(n,a);let h=j.decode(n,""+i);return h.setErrorsCorrected(l),h.setErasures(s.length),h}static correctErrors(n,i,s){if(i!=null&&i.length>s/2+ye.MAX_ERRORS||s<0||s>ye.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return ye.errorCorrection.decode(n,s,i)}static verifyCodewordCount(n,i){if(n.length<4)throw z.getFormatInstance();let s=n[0];if(s>n.length)throw z.getFormatInstance();if(s===0)if(i<n.length)n[0]=n.length-i;else throw z.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((n&1)!==s&&(s=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ye.getCodewordBucketNumber(ye.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new xs;for(let s=0;s<n.length;s++){i.format("Row %2d: ",s);for(let a=0;a<n[s].length;a++){let l=n[s][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}ye.CODEWORD_SKEW_SIZE=2,ye.MAX_ERRORS=3,ye.MAX_EC_CODEWORDS=512,ye.errorCorrection=new F0;class Tt{decode(n,i=null){let s=Tt.decode(n,i,!1);if(s==null||s.length===0||s[0]==null)throw W.getNotFoundInstance();return s[0]}decodeMultiple(n,i=null){try{return Tt.decode(n,i,!0)}catch(s){throw s instanceof z||s instanceof D?W.getNotFoundInstance():s}}static decode(n,i,s){const a=new Array,l=we.detectMultiple(n,i,s);for(const h of l.getPoints()){const f=ye.decode(l.getBits(),h[4],h[5],h[6],h[7],Tt.getMinCodewordWidth(h),Tt.getMaxCodewordWidth(h)),g=new qe(f.getText(),f.getRawBytes(),void 0,h,ae.PDF_417);g.putMetadata(yt.ERROR_CORRECTION_LEVEL,f.getECLevel());const p=f.getOther();p!=null&&g.putMetadata(yt.PDF417_EXTRA_METADATA,p),a.push(g)}return a.map(h=>h)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?O.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Tt.getMaxWidth(n[0],n[4]),Tt.getMaxWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(Tt.getMaxWidth(n[1],n[5]),Tt.getMaxWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Tt.getMinWidth(n[0],n[4]),Tt.getMinWidth(n[6],n[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(Tt.getMinWidth(n[1],n[5]),Tt.getMinWidth(n[7],n[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}class Mo extends w{}Mo.kind="ReaderException";class H0{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!o(n)&&n.get(J.TRY_HARDER)===!0,s=o(n)?null:n.get(J.POSSIBLE_FORMATS),a=new Array;if(!o(s)){const l=s.some(h=>h===ae.UPC_A||h===ae.UPC_E||h===ae.EAN_13||h===ae.EAN_8||h===ae.CODABAR||h===ae.CODE_39||h===ae.CODE_93||h===ae.CODE_128||h===ae.ITF||h===ae.RSS_14||h===ae.RSS_EXPANDED);l&&!i&&a.push(new vi(n,this.verbose)),s.includes(ae.QR_CODE)&&a.push(new dr),s.includes(ae.DATA_MATRIX)&&a.push(new fr),s.includes(ae.AZTEC)&&a.push(new No),s.includes(ae.PDF_417)&&a.push(new Tt),l&&i&&a.push(new vi(n,this.verbose))}a.length===0&&(i||a.push(new vi(n,this.verbose)),a.push(new dr),a.push(new fr),a.push(new No),a.push(new Tt),i&&a.push(new vi(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Mo("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(s){if(s instanceof Mo)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class m2 extends pn{constructor(n=null,i=500){const s=new H0;s.setHints(n),super(s,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class x2 extends pn{constructor(n=500){super(new Tt,n)}}class w2 extends pn{constructor(n=500){super(new dr,n)}}var Dl;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(Dl||(Dl={}));var mt=Dl;class Pl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Gt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let s=i[i.length-1];const a=this.field;for(let l=i.length;l<=n;l++){const h=s.multiply(new Gt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(h),s=h}}return i[n]}encode(n,i){if(i===0)throw new _("No error correction bytes");const s=n.length-i;if(s<=0)throw new _("No data bytes provided");const a=this.buildGenerator(i),l=new Int32Array(s);P.arraycopy(n,0,l,0,s);let h=new Gt(this.field,l);h=h.multiplyByMonomial(i,1);const g=h.divide(a)[1].getCoefficients(),p=i-g.length;for(let y=0;y<p;y++)n[s+y]=0;P.arraycopy(g,0,n,s+p,g.length)}}class st{constructor(){}static applyMaskPenaltyRule1(n){return st.applyMaskPenaltyRule1Internal(n,!0)+st.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let h=0;h<l-1;h++){const f=s[h];for(let g=0;g<a-1;g++){const p=f[g];p===f[g+1]&&p===s[h+1][g]&&p===s[h+1][g+1]&&i++}}return st.N2*i}static applyMaskPenaltyRule3(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++)for(let f=0;f<a;f++){const g=s[h];f+6<a&&g[f]===1&&g[f+1]===0&&g[f+2]===1&&g[f+3]===1&&g[f+4]===1&&g[f+5]===0&&g[f+6]===1&&(st.isWhiteHorizontal(g,f-4,f)||st.isWhiteHorizontal(g,f+7,f+11))&&i++,h+6<l&&s[h][f]===1&&s[h+1][f]===0&&s[h+2][f]===1&&s[h+3][f]===1&&s[h+4][f]===1&&s[h+5][f]===0&&s[h+6][f]===1&&(st.isWhiteVertical(s,f,h-4,h)||st.isWhiteVertical(s,f,h+7,h+11))&&i++}return i*st.N3}static isWhiteHorizontal(n,i,s){i=Math.max(i,0),s=Math.min(s,n.length);for(let a=i;a<s;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,s,a){s=Math.max(s,0),a=Math.min(a,n.length);for(let l=s;l<a;l++)if(n[l][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let g=0;g<l;g++){const p=s[g];for(let y=0;y<a;y++)p[y]===1&&i++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-h)*10/h)*st.N4}static getDataMaskBit(n,i,s){let a,l;switch(n){case 0:a=s+i&1;break;case 1:a=s&1;break;case 2:a=i%3;break;case 3:a=(s+i)%3;break;case 4:a=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:l=s*i,a=(l&1)+l%3;break;case 6:l=s*i,a=(l&1)+l%3&1;break;case 7:l=s*i,a=l%3+(s+i&1)&1;break;default:throw new _("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let s=0;const a=i?n.getHeight():n.getWidth(),l=i?n.getWidth():n.getHeight(),h=n.getArray();for(let f=0;f<a;f++){let g=0,p=-1;for(let y=0;y<l;y++){const C=i?h[f][y]:h[y][f];C===p?g++:(g>=5&&(s+=st.N1+(g-5)),g=1,p=C)}g>=5&&(s+=st.N1+(g-5))}return s}}st.N1=3,st.N2=3,st.N3=40,st.N4=10;class Lo{constructor(n,i){this.width=n,this.height=i;const s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,s){this.bytes[i][n]=s}setBoolean(n,i,s){this.bytes[i][n]=s?1:0}clear(n){for(const i of this.bytes)b.fill(i,n)}equals(n){if(!(n instanceof Lo))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){const l=this.bytes[s],h=i.bytes[s];for(let f=0,g=this.width;f<g;++f)if(l[f]!==h[f])return!1}return!0}toString(){const n=new Se;for(let i=0,s=this.height;i<s;++i){const a=this.bytes[i];for(let l=0,h=this.width;l<h;++l)switch(a[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class $r{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Se;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<$r.NUM_MASK_PATTERNS}}$r.NUM_MASK_PATTERNS=8;class Be extends w{}Be.kind="WriterException";class he{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,s,a,l){he.clearMatrix(l),he.embedBasicPatterns(s,l),he.embedTypeInfo(i,a,l),he.maybeEmbedVersionInfo(s,l),he.embedDataBits(n,a,l)}static embedBasicPatterns(n,i){he.embedPositionDetectionPatternsAndSeparators(i),he.embedDarkDotAtLeftBottomCorner(i),he.maybeEmbedPositionAdjustmentPatterns(n,i),he.embedTimingPatterns(i)}static embedTypeInfo(n,i,s){const a=new U;he.makeTypeInfoBits(n,i,a);for(let l=0,h=a.getSize();l<h;++l){const f=a.get(a.getSize()-1-l),g=he.TYPE_INFO_COORDINATES[l],p=g[0],y=g[1];if(s.setBoolean(p,y,f),l<8){const C=s.getWidth()-l-1;s.setBoolean(C,8,f)}else{const A=s.getHeight()-7+(l-8);s.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const s=new U;he.makeVersionInfoBits(n,s);let a=6*3-1;for(let l=0;l<6;++l)for(let h=0;h<3;++h){const f=s.get(a);a--,i.setBoolean(l,i.getHeight()-11+h,f),i.setBoolean(i.getHeight()-11+h,l,f)}}static embedDataBits(n,i,s){let a=0,l=-1,h=s.getWidth()-1,f=s.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<s.getHeight();){for(let g=0;g<2;++g){const p=h-g;if(!he.isEmpty(s.get(p,f)))continue;let y;a<n.getSize()?(y=n.get(a),++a):y=!1,i!==255&&st.getDataMaskBit(i,p,f)&&(y=!y),s.setBoolean(p,f,y)}f+=l}l=-l,f+=l,h-=2}if(a!==n.getSize())throw new Be("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-O.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new _("0 polynomial");const s=he.findMSBSet(i);for(n<<=s-1;he.findMSBSet(n)>=s;)n^=i<<he.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,i,s){if(!$r.isValidMaskPattern(i))throw new Be("Invalid mask pattern");const a=n.getBits()<<3|i;s.appendBits(a,5);const l=he.calculateBCHCode(a,he.TYPE_INFO_POLY);s.appendBits(l,10);const h=new U;if(h.appendBits(he.TYPE_INFO_MASK_PATTERN,15),s.xor(h),s.getSize()!==15)throw new Be("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const s=he.calculateBCHCode(n.getVersionNumber(),he.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Be("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const s=(i+1)%2;he.isEmpty(n.get(i,6))&&n.setNumber(i,6,s),he.isEmpty(n.get(6,i))&&n.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Be;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,s){for(let a=0;a<8;++a){if(!he.isEmpty(s.get(n+a,i)))throw new Be;s.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,s){for(let a=0;a<7;++a){if(!he.isEmpty(s.get(n,i+a)))throw new Be;s.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,s){for(let a=0;a<5;++a){const l=he.POSITION_ADJUSTMENT_PATTERN[a];for(let h=0;h<5;++h)s.setNumber(n+h,i+a,l[h])}}static embedPositionDetectionPattern(n,i,s){for(let a=0;a<7;++a){const l=he.POSITION_DETECTION_PATTERN[a];for(let h=0;h<7;++h)s.setNumber(n+h,i+a,l[h])}}static embedPositionDetectionPatternsAndSeparators(n){const i=he.POSITION_DETECTION_PATTERN[0].length;he.embedPositionDetectionPattern(0,0,n),he.embedPositionDetectionPattern(n.getWidth()-i,0,n),he.embedPositionDetectionPattern(0,n.getWidth()-i,n);const s=8;he.embedHorizontalSeparationPattern(0,s-1,n),he.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),he.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const a=7;he.embedVerticalSeparationPattern(a,0,n),he.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),he.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,a=he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,h=a.length;l!==h;l++){const f=a[l];if(f>=0)for(let g=0;g!==h;g++){const p=a[g];p>=0&&he.isEmpty(i.get(p,f))&&he.embedPositionAdjustmentPattern(p-2,f-2,i)}}}}he.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),he.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),he.VERSION_INFO_POLY=7973,he.TYPE_INFO_POLY=1335,he.TYPE_INFO_MASK_PATTERN=21522;class y2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(n){return st.applyMaskPenaltyRule1(n)+st.applyMaskPenaltyRule2(n)+st.applyMaskPenaltyRule3(n)+st.applyMaskPenaltyRule4(n)}static encode(n,i,s=null){let a=He.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(mt.CHARACTER_SET)!==void 0;l&&(a=s.get(mt.CHARACTER_SET).toString());const h=this.chooseMode(n,a),f=new U;if(h===ue.BYTE&&(l||He.DEFAULT_BYTE_MODE_ENCODING!==a)){const q=G.getCharacterSetECIByName(a);q!==void 0&&this.appendECI(q,f)}this.appendModeInfo(h,f);const g=new U;this.appendBytes(n,h,g,a);let p;if(s!==null&&s.get(mt.QR_VERSION)!==void 0){const q=Number.parseInt(s.get(mt.QR_VERSION).toString(),10);p=le.getVersionForNumber(q);const $=this.calculateBitsNeeded(h,f,g,p);if(!this.willFit($,p,i))throw new Be("Data too big for requested version")}else p=this.recommendVersion(i,h,f,g);const y=new U;y.appendBitArray(f);const C=h===ue.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(C,p,h,y),y.appendBitArray(g);const A=p.getECBlocksForLevel(i),I=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(I,y);const R=this.interleaveWithECBytes(y,p.getTotalCodewords(),I,A.getNumBlocks()),k=new $r;k.setECLevel(i),k.setMode(h),k.setVersion(p);const M=p.getDimensionForVersion(),V=new Lo(M,M),Z=this.chooseMaskPattern(R,i,p,V);return k.setMaskPattern(Z),he.buildMatrix(R,i,p,Z,V),k.setMatrix(V),k}static recommendVersion(n,i,s,a){const l=this.calculateBitsNeeded(i,s,a,le.getVersionForNumber(1)),h=this.chooseVersion(l,n),f=this.calculateBitsNeeded(i,s,a,h);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,i,s,a){return i.getSize()+n.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(n){return n<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(G.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return ue.KANJI;let s=!1,a=!1;for(let l=0,h=n.length;l<h;++l){const f=n.charAt(l);if(He.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return ue.BYTE}return a?ue.ALPHANUMERIC:s?ue.NUMERIC:ue.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=Ue.encode(n,G.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){const l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,i,s,a){let l=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<$r.NUM_MASK_PATTERNS;f++){he.buildMatrix(n,i,s,f,a);let g=this.calculateMaskPenalty(a);g<l&&(l=g,h=f)}return h}static chooseVersion(n,i){for(let s=1;s<=40;s++){const a=le.getVersionForNumber(s);if(He.willFit(n,a,i))return a}throw new Be("Data too big")}static willFit(n,i,s){const a=i.getTotalCodewords(),h=i.getECBlocksForLevel(s).getTotalECCodewords(),f=a-h,g=(n+7)/8;return f>=g}static terminateBits(n,i){const s=n*8;if(i.getSize()>s)throw new Be("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let h=0;h<4&&i.getSize()<s;++h)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let h=a;h<8;h++)i.appendBit(!1);const l=n-i.getSizeInBytes();for(let h=0;h<l;++h)i.appendBits(h&1?17:236,8);if(i.getSize()!==s)throw new Be("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,s,a,l,h){if(a>=s)throw new Be("Block ID too large");const f=n%s,g=s-f,p=Math.floor(n/s),y=p+1,C=Math.floor(i/s),A=C+1,I=p-C,R=y-A;if(I!==R)throw new Be("EC bytes mismatch");if(s!==g+f)throw new Be("RS blocks mismatch");if(n!==(C+I)*g+(A+R)*f)throw new Be("Total bytes mismatch");a<g?(l[0]=C,h[0]=I):(l[0]=A,h[0]=R)}static interleaveWithECBytes(n,i,s,a){if(n.getSizeInBytes()!==s)throw new Be("Number of bits and data bytes does not match");let l=0,h=0,f=0;const g=new Array;for(let y=0;y<a;++y){const C=new Int32Array(1),A=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(i,s,a,y,C,A);const I=C[0],R=new Uint8Array(I);n.toBytes(8*l,R,0,I);const k=He.generateECBytes(R,A[0]);g.push(new y2(R,k)),h=Math.max(h,I),f=Math.max(f,k.length),l+=C[0]}if(s!==l)throw new Be("Data bytes does not match offset");const p=new U;for(let y=0;y<h;++y)for(const C of g){const A=C.getDataBytes();y<A.length&&p.appendBits(A[y],8)}for(let y=0;y<f;++y)for(const C of g){const A=C.getErrorCorrectionBytes();y<A.length&&p.appendBits(A[y],8)}if(i!==p.getSizeInBytes())throw new Be("Interleaving error: "+i+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,i){const s=n.length,a=new Int32Array(s+i);for(let h=0;h<s;h++)a[h]=n[h]&255;new Pl(Oe.QR_CODE_FIELD_256).encode(a,i);const l=new Uint8Array(i);for(let h=0;h<i;h++)l[h]=a[s+h];return l}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,s,a){const l=s.getCharacterCountBits(i);if(n>=1<<l)throw new Be(n+" is bigger than "+((1<<l)-1));a.appendBits(n,l)}static appendBytes(n,i,s,a){switch(i){case ue.NUMERIC:He.appendNumericBytes(n,s);break;case ue.ALPHANUMERIC:He.appendAlphanumericBytes(n,s);break;case ue.BYTE:He.append8BitBytes(n,s,a);break;case ue.KANJI:He.appendKanjiBytes(n,s);break;default:throw new Be("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=He.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const l=He.getDigit(n.charAt(a));if(a+2<s){const h=He.getDigit(n.charAt(a+1)),f=He.getDigit(n.charAt(a+2));i.appendBits(l*100+h*10+f,10),a+=3}else if(a+1<s){const h=He.getDigit(n.charAt(a+1));i.appendBits(l*10+h,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(n,i){const s=n.length;let a=0;for(;a<s;){const l=He.getAlphanumericCode(n.charCodeAt(a));if(l===-1)throw new Be;if(a+1<s){const h=He.getAlphanumericCode(n.charCodeAt(a+1));if(h===-1)throw new Be;i.appendBits(l*45+h,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(n,i,s){let a;try{a=Ue.encode(n,s)}catch(l){throw new Be(l)}for(let l=0,h=a.length;l!==h;l++){const f=a[l];i.appendBits(f,8)}}static appendKanjiBytes(n,i){let s;try{s=Ue.encode(n,G.SJIS)}catch(l){throw new Be(l)}const a=s.length;for(let l=0;l<a;l+=2){const h=s[l]&255,f=s[l+1]&255,g=h<<8&4294967295|f;let p=-1;if(g>=33088&&g<=40956?p=g-33088:g>=57408&&g<=60351&&(p=g-49472),p===-1)throw new Be("Invalid byte sequence");const y=(p>>8)*192+(p&255);i.appendBits(y,13)}}static appendECI(n,i){i.appendBits(ue.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Yr{write(n,i,s,a=null){if(n.length===0)throw new _("Found empty contents");if(i<0||s<0)throw new _("Requested dimensions are too small: "+i+"x"+s);let l=Ve.L,h=Yr.QUIET_ZONE_SIZE;a!==null&&(a.get(mt.ERROR_CORRECTION)!==void 0&&(l=Ve.fromString(a.get(mt.ERROR_CORRECTION).toString())),a.get(mt.MARGIN)!==void 0&&(h=Number.parseInt(a.get(mt.MARGIN).toString(),10)));const f=He.encode(n,l,a);return this.renderResult(f,i,s,h)}writeToDom(n,i,s,a,l=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(i,s,a,l);n&&n.appendChild(h)}renderResult(n,i,s,a){const l=n.getMatrix();if(l===null)throw new Fn;const h=l.getWidth(),f=l.getHeight(),g=h+a*2,p=f+a*2,y=Math.max(i,g),C=Math.max(s,p),A=Math.min(Math.floor(y/g),Math.floor(C/p)),I=Math.floor((y-h*A)/2),R=Math.floor((C-f*A)/2),k=this.createSVGElement(y,C);for(let M=0,V=R;M<f;M++,V+=A)for(let Z=0,q=I;Z<h;Z++,q+=A)if(l.get(Z,M)===1){const $=this.createSvgRectElement(q,V,A,A);k.appendChild($)}return k}createSVGElement(n,i){const s=document.createElementNS(Yr.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(n,i,s,a){const l=document.createElementNS(Yr.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",i.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Yr.QUIET_ZONE_SIZE=4,Yr.SVG_NS="http://www.w3.org/2000/svg";class Ci{encode(n,i,s,a,l){if(n.length===0)throw new _("Found empty contents");if(i!==ae.QR_CODE)throw new _("Can only encode QR_CODE, but got "+i);if(s<0||a<0)throw new _(`Requested dimensions are too small: ${s}x${a}`);let h=Ve.L,f=Ci.QUIET_ZONE_SIZE;l!==null&&(l.get(mt.ERROR_CORRECTION)!==void 0&&(h=Ve.fromString(l.get(mt.ERROR_CORRECTION).toString())),l.get(mt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(mt.MARGIN).toString(),10)));const g=He.encode(n,h,l);return Ci.renderResult(g,s,a,f)}static renderResult(n,i,s,a){const l=n.getMatrix();if(l===null)throw new Fn;const h=l.getWidth(),f=l.getHeight(),g=h+a*2,p=f+a*2,y=Math.max(i,g),C=Math.max(s,p),A=Math.min(Math.floor(y/g),Math.floor(C/p)),I=Math.floor((y-h*A)/2),R=Math.floor((C-f*A)/2),k=new lt(y,C);for(let M=0,V=R;M<f;M++,V+=A)for(let Z=0,q=I;Z<h;Z++,q+=A)l.get(Z,M)===1&&k.setRegion(q,V,A,A);return k}}Ci.QUIET_ZONE_SIZE=4;class v2{encode(n,i,s,a,l){let h;switch(i){case ae.QR_CODE:h=new Ci;break;default:throw new _("No encoder available for format "+i)}return h.encode(n,i,s,a,l)}}class zn extends ne{constructor(n,i,s,a,l,h,f,g){if(super(h,f),this.yuvData=n,this.dataWidth=i,this.dataHeight=s,this.left=a,this.top=l,a+h>i||l+f>s)throw new _("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(h,f)}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=n*i,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.yuvData,l,a,0,s),a;for(let h=0;h<i;h++){const f=h*n;P.arraycopy(this.yuvData,l,a,f,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,s,a,!1)}renderThumbnail(){const n=this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*i),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let h=0;h<i;h++){const f=h*n;for(let g=0;g<n;g++){const p=a[l+g*zn.THUMBNAIL_SCALE_FACTOR]&255;s[f+g]=4278190080|p*65793}l+=this.dataWidth*zn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const s=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<i;a++,l+=this.dataWidth){const h=l+n/2;for(let f=l,g=l+n-1;f<h;f++,g--){const p=s[f];s[f]=s[g],s[g]=p}}}invert(){return new fe(this)}}zn.THUMBNAIL_SCALE_FACTOR=2;class Ml extends ne{constructor(n,i,s,a,l,h,f){if(super(i,s),this.dataWidth=a,this.dataHeight=l,this.left=h,this.top=f,n.BYTES_PER_ELEMENT===4){const g=i*s,p=new Uint8ClampedArray(g);for(let y=0;y<g;y++){const C=n[y],A=C>>16&255,I=C>>7&510,R=C&255;p[y]=(A+I+R)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=s),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new _("Requested row is outside the image: "+n);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=n*i,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return P.arraycopy(this.luminances,l,a,0,s),a;for(let h=0;h<i;h++){const f=h*n;P.arraycopy(this.luminances,l,a,f,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,s,a){return new Ml(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new fe(this)}}class G0 extends G{static forName(n){return this.getCharacterSetECIByName(n)}}class Ll{}Ll.ISO_8859_1=G.ISO8859_1;class X0{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class $0{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class E2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class _i extends E2{constructor(n,i,s){super(n),this.value=i,this.bitCount=s}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new _i(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _i(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+O.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class Bl extends _i{constructor(n,i,s){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(n,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(n,i){return new Bl(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function C2(E,n,i){return new Bl(E,n,i)}function Cs(E,n,i){return new _i(E,n,i)}const _2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pr=0,Bo=1,yn=2,Y0=3,Wn=4,A2=new _i(null,0,0),Fl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function S2(E){for(let n of E)b.fill(n,-1);return E[pr][Wn]=0,E[Bo][Wn]=0,E[Bo][pr]=28,E[Y0][Wn]=0,E[yn][Wn]=0,E[yn][pr]=15,E}const K0=S2(b.createInt32Array(6,6));class Hn{constructor(n,i,s,a){this.token=n,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let s=this.bitCount,a=this.token;if(n!==this.mode){let h=Fl[this.mode][n];a=Cs(a,h&65535,h>>16),s+=h>>16}let l=n===yn?4:5;return a=Cs(a,i,l),new Hn(a,n,0,s+l)}shiftAndAppend(n,i){let s=this.token,a=this.mode===yn?4:5;return s=Cs(s,K0[this.mode][n],a),s=Cs(s,i,5),new Hn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===Wn||this.mode===yn){let f=Fl[s][pr];i=Cs(i,f&65535,f>>16),a+=f>>16,s=pr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Hn(i,s,this.binaryShiftByteCount+1,a+l);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=C2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new Hn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(Fl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=Hn.calculateBinaryShiftCost(n)-Hn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new U;for(const a of i)a.appendTo(s,n);return s}toString(){return ce.format("%s bits=%d bytes=%d",_2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}Hn.INITIAL_STATE=new Hn(A2,pr,0,0);function I2(E){const n=ce.getCharCode(" "),i=ce.getCharCode("."),s=ce.getCharCode(",");E[pr][n]=1;const a=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let A=l;A<=a;A++)E[pr][A]=A-l+2;E[Bo][n]=1;const h=ce.getCharCode("z"),f=ce.getCharCode("a");for(let A=f;A<=h;A++)E[Bo][A]=A-f+2;E[yn][n]=1;const g=ce.getCharCode("9"),p=ce.getCharCode("0");for(let A=p;A<=g;A++)E[yn][A]=A-p+2;E[yn][s]=12,E[yn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<y.length;A++)E[Y0][ce.getCharCode(y[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)ce.getCharCode(C[A])>0&&(E[Wn][ce.getCharCode(C[A])]=A);return E}const Ul=I2(b.createInt32Array(5,256));class _s{constructor(n){this.text=n}encode(){const n=ce.getCharCode(" "),i=ce.getCharCode(`
`);let s=$0.singletonList(Hn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let h,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):h=f===i?2:0;break;case ce.getCharCode("."):h=f===n?3:0;break;case ce.getCharCode(","):h=f===n?4:0;break;case ce.getCharCode(":"):h=f===n?5:0;break;default:h=0}h>0?(s=_s.updateStateListForPair(s,l,h),l++):s=this.updateStateListForChar(s,l)}return $0.min(s,(l,h)=>l.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const s=[];for(let a of n)this.updateStateForChar(a,i,s);return _s.simplifyStates(s)}updateStateForChar(n,i,s){let a=this.text[i]&255,l=Ul[n.getMode()][a]>0,h=null;for(let f=0;f<=Wn;f++){let g=Ul[f][a];if(g>0){if(h==null&&(h=n.endBinaryShift(i)),!l||f===n.getMode()||f===yn){const p=h.latchAndAppend(f,g);s.push(p)}if(!l&&K0[n.getMode()][f]>=0){const p=h.shiftAndAppend(f,g);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||Ul[n.getMode()][a]===0){let f=n.addBinaryShiftChar(i);s.push(f)}}static updateStateListForPair(n,i,s){const a=[];for(let l of n)this.updateStateForPair(l,i,s,a);return this.simplifyStates(a)}static updateStateForPair(n,i,s,a){let l=n.endBinaryShift(i);if(a.push(l.latchAndAppend(Wn,s)),n.getMode()!==Wn&&a.push(l.shiftAndAppend(Wn,s)),s===3||s===4){let h=l.latchAndAppend(yn,16-s).latchAndAppend(yn,1);a.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(h)}}static simplifyStates(n){let i=[];for(const s of n){let a=!0;for(const l of i){if(l.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(l)&&(i=i.filter(h=>h!==l))}a&&i.push(s)}return i}}class be{constructor(){}static encodeBytes(n){return be.encode(n,be.DEFAULT_EC_PERCENT,be.DEFAULT_AZTEC_LAYERS)}static encode(n,i,s){let a=new _s(n).encode(),l=O.truncDivision(a.getSize()*i,100)+11,h=a.getSize()+l,f,g,p,y,C;if(s!==be.DEFAULT_AZTEC_LAYERS){if(f=s<0,g=Math.abs(s),g>(f?be.MAX_NB_BITS_COMPACT:be.MAX_NB_BITS))throw new _(ce.format("Illegal value %s for layers",s));p=be.totalBitsInLayer(g,f),y=be.WORD_SIZE[g];let $=p-p%y;if(C=be.stuffBits(a,y),C.getSize()+l>$)throw new _("Data to large for user specified layer");if(f&&C.getSize()>y*64)throw new _("Data to large for user specified layer")}else{y=0,C=null;for(let $=0;;$++){if($>be.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(f=$<=3,g=f?$+1:$,p=be.totalBitsInLayer(g,f),h>p)continue;(C==null||y!==be.WORD_SIZE[g])&&(y=be.WORD_SIZE[g],C=be.stuffBits(a,y));let Ce=p-p%y;if(!(f&&C.getSize()>y*64)&&C.getSize()+l<=Ce)break}}let A=be.generateCheckWords(C,p,y),I=C.getSize()/y,R=be.generateModeMessage(f,g,I),k=(f?11:14)+g*4,M=new Int32Array(k),V;if(f){V=k;for(let $=0;$<M.length;$++)M[$]=$}else{V=k+1+2*O.truncDivision(O.truncDivision(k,2)-1,15);let $=O.truncDivision(k,2),Ce=O.truncDivision(V,2);for(let xe=0;xe<$;xe++){let Kt=xe+O.truncDivision(xe,15);M[$-xe-1]=Ce-Kt-1,M[$+xe]=Ce+Kt+1}}let Z=new lt(V);for(let $=0,Ce=0;$<g;$++){let xe=(g-$)*4+(f?9:12);for(let Kt=0;Kt<xe;Kt++){let bn=Kt*2;for(let Zt=0;Zt<2;Zt++)A.get(Ce+bn+Zt)&&Z.set(M[$*2+Zt],M[$*2+Kt]),A.get(Ce+xe*2+bn+Zt)&&Z.set(M[$*2+Kt],M[k-1-$*2-Zt]),A.get(Ce+xe*4+bn+Zt)&&Z.set(M[k-1-$*2-Zt],M[k-1-$*2-Kt]),A.get(Ce+xe*6+bn+Zt)&&Z.set(M[k-1-$*2-Kt],M[$*2+Zt])}Ce+=xe*8}if(be.drawModeMessage(Z,f,V,R),f)be.drawBullsEye(Z,O.truncDivision(V,2),5);else{be.drawBullsEye(Z,O.truncDivision(V,2),7);for(let $=0,Ce=0;$<O.truncDivision(k,2)-1;$+=15,Ce+=16)for(let xe=O.truncDivision(V,2)&1;xe<V;xe+=2)Z.set(O.truncDivision(V,2)-Ce,xe),Z.set(O.truncDivision(V,2)+Ce,xe),Z.set(xe,O.truncDivision(V,2)-Ce),Z.set(xe,O.truncDivision(V,2)+Ce)}let q=new X0;return q.setCompact(f),q.setSize(V),q.setLayers(g),q.setCodeWords(I),q.setMatrix(Z),q}static drawBullsEye(n,i,s){for(let a=0;a<s;a+=2)for(let l=i-a;l<=i+a;l++)n.set(l,i-a),n.set(l,i+a),n.set(i-a,l),n.set(i+a,l);n.set(i-s,i-s),n.set(i-s+1,i-s),n.set(i-s,i-s+1),n.set(i+s,i-s),n.set(i+s,i-s+1),n.set(i+s,i+s-1)}static generateModeMessage(n,i,s){let a=new U;return n?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=be.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=be.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,s,a){let l=O.truncDivision(s,2);if(i)for(let h=0;h<7;h++){let f=l-3+h;a.get(h)&&n.set(f,l-5),a.get(h+7)&&n.set(l+5,f),a.get(20-h)&&n.set(f,l+5),a.get(27-h)&&n.set(l-5,f)}else for(let h=0;h<10;h++){let f=l-5+h+O.truncDivision(h,5);a.get(h)&&n.set(f,l-7),a.get(h+10)&&n.set(l+7,f),a.get(29-h)&&n.set(f,l+7),a.get(39-h)&&n.set(l-7,f)}}static generateCheckWords(n,i,s){let a=n.getSize()/s,l=new Pl(be.getGF(s)),h=O.truncDivision(i,s),f=be.bitsToWords(n,s,h);l.encode(f,h-a);let g=i%s,p=new U;p.appendBits(0,g);for(const y of Array.from(f))p.appendBits(y,s);return p}static bitsToWords(n,i,s){let a=new Int32Array(s),l,h;for(l=0,h=n.getSize()/i;l<h;l++){let f=0;for(let g=0;g<i;g++)f|=n.get(l*i+g)?1<<i-g-1:0;a[l]=f}return a}static getGF(n){switch(n){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new _("Unsupported word size "+n)}}static stuffBits(n,i){let s=new U,a=n.getSize(),l=(1<<i)-2;for(let h=0;h<a;h+=i){let f=0;for(let g=0;g<i;g++)(h+g>=a||n.get(h+g))&&(f|=1<<i-1-g);(f&l)===l?(s.appendBits(f&l,i),h--):f&l?s.appendBits(f,i):(s.appendBits(f|1,i),h--)}return s}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}be.DEFAULT_EC_PERCENT=33,be.DEFAULT_AZTEC_LAYERS=0,be.MAX_NB_BITS=32,be.MAX_NB_BITS_COMPACT=4,be.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fo{encode(n,i,s,a){return this.encodeWithHints(n,i,s,a,null)}encodeWithHints(n,i,s,a,l){let h=Ll.ISO_8859_1,f=be.DEFAULT_EC_PERCENT,g=be.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(mt.CHARACTER_SET)&&(h=G0.forName(l.get(mt.CHARACTER_SET).toString())),l.has(mt.ERROR_CORRECTION)&&(f=O.parseInt(l.get(mt.ERROR_CORRECTION).toString())),l.has(mt.AZTEC_LAYERS)&&(g=O.parseInt(l.get(mt.AZTEC_LAYERS).toString()))),Fo.encodeLayers(n,i,s,a,h,f,g)}static encodeLayers(n,i,s,a,l,h,f){if(i!==ae.AZTEC)throw new _("Can only encode AZTEC, but got "+i);let g=be.encode(ce.getBytes(n,l),h,f);return Fo.renderResult(g,s,a)}static renderResult(n,i,s){let a=n.getMatrix();if(a==null)throw new Fn;let l=a.getWidth(),h=a.getHeight(),f=Math.max(i,l),g=Math.max(s,h),p=Math.min(f/l,g/h),y=(f-l*p)/2,C=(g-h*p)/2,A=new lt(f,g);for(let I=0,R=C;I<h;I++,R+=p)for(let k=0,M=y;k<l;k++,M+=p)a.get(k,I)&&A.setRegion(M,R,p,p);return A}}r.AbstractExpandedDecoder=Al,r.ArgumentException=v,r.ArithmeticException=Io,r.AztecCode=X0,r.AztecCodeReader=No,r.AztecCodeWriter=Fo,r.AztecDecoder=je,r.AztecDetector=k0,r.AztecDetectorResult=O0,r.AztecEncoder=be,r.AztecHighLevelEncoder=_s,r.AztecPoint=Ut,r.BarcodeFormat=ae,r.Binarizer=L,r.BinaryBitmap=T,r.BitArray=U,r.BitMatrix=lt,r.BitSource=bl,r.BrowserAztecCodeReader=Qg,r.BrowserBarcodeReader=r2,r.BrowserCodeReader=pn,r.BrowserDatamatrixCodeReader=s2,r.BrowserMultiFormatReader=m2,r.BrowserPDF417Reader=x2,r.BrowserQRCodeReader=w2,r.BrowserQRCodeSvgWriter=Yr,r.CharacterSetECI=G,r.ChecksumException=D,r.Code128Reader=te,r.Code39Reader=gt,r.DataMatrixDecodedBitStreamParser=hr,r.DataMatrixReader=fr,r.DecodeHintType=J,r.DecoderResult=fs,r.DefaultGridSampler=R0,r.DetectorResult=bo,r.EAN13Reader=Wr,r.EncodeHintType=mt,r.Exception=w,r.FormatException=z,r.GenericGF=Oe,r.GenericGFPoly=Gt,r.GlobalHistogramBinarizer=nt,r.GridSampler=vl,r.GridSamplerInstance=ur,r.HTMLCanvasElementLuminanceSource=ge,r.HybridBinarizer=pe,r.ITFReader=Le,r.IllegalArgumentException=_,r.IllegalStateException=Fn,r.InvertedLuminanceSource=fe,r.LuminanceSource=ne,r.MathUtils=Te,r.MultiFormatOneDReader=vi,r.MultiFormatReader=H0,r.MultiFormatWriter=v2,r.NotFoundException=W,r.OneDReader=ht,r.PDF417DecodedBitStreamParser=j,r.PDF417DecoderErrorCorrection=F0,r.PDF417Reader=Tt,r.PDF417ResultMetadata=j0,r.PerspectiveTransform=In,r.PlanarYUVLuminanceSource=zn,r.QRCodeByteMatrix=Lo,r.QRCodeDataMask=xn,r.QRCodeDecodedBitStreamParser=Qe,r.QRCodeDecoderErrorCorrectionLevel=Ve,r.QRCodeDecoderFormatInformation=Pt,r.QRCodeEncoder=He,r.QRCodeEncoderQRCode=$r,r.QRCodeMaskUtil=st,r.QRCodeMatrixUtil=he,r.QRCodeMode=ue,r.QRCodeReader=dr,r.QRCodeVersion=le,r.QRCodeWriter=Ci,r.RGBLuminanceSource=Ml,r.RSS14Reader=it,r.RSSExpandedReader=X,r.ReaderException=Mo,r.ReedSolomonDecoder=gs,r.ReedSolomonEncoder=Pl,r.ReedSolomonException=mi,r.Result=qe,r.ResultMetadataType=yt,r.ResultPoint=oe,r.StringUtils=ce,r.UnsupportedOperationException=me,r.VideoInputDevice=Ye,r.WhiteRectangleDetector=Zn,r.WriterException=Be,r.ZXingArrays=b,r.ZXingCharset=G0,r.ZXingInteger=O,r.ZXingStandardCharsets=Ll,r.ZXingStringBuilder=Se,r.ZXingStringEncoding=Ue,r.ZXingSystem=P,r.createAbstractExpandedDecoder=L0,Object.defineProperty(r,"__esModule",{value:!0})})})(Ic,Ic.exports);var Xe=Ic.exports;const tv=Tc(Xe),nv=G1({__proto__:null,default:tv},[Xe]);var F1=function(){function e(t,r,o){if(this.formatMap=new Map([[ie.QR_CODE,Xe.BarcodeFormat.QR_CODE],[ie.AZTEC,Xe.BarcodeFormat.AZTEC],[ie.CODABAR,Xe.BarcodeFormat.CODABAR],[ie.CODE_39,Xe.BarcodeFormat.CODE_39],[ie.CODE_93,Xe.BarcodeFormat.CODE_93],[ie.CODE_128,Xe.BarcodeFormat.CODE_128],[ie.DATA_MATRIX,Xe.BarcodeFormat.DATA_MATRIX],[ie.MAXICODE,Xe.BarcodeFormat.MAXICODE],[ie.ITF,Xe.BarcodeFormat.ITF],[ie.EAN_13,Xe.BarcodeFormat.EAN_13],[ie.EAN_8,Xe.BarcodeFormat.EAN_8],[ie.PDF_417,Xe.BarcodeFormat.PDF_417],[ie.RSS_14,Xe.BarcodeFormat.RSS_14],[ie.RSS_EXPANDED,Xe.BarcodeFormat.RSS_EXPANDED],[ie.UPC_A,Xe.BarcodeFormat.UPC_A],[ie.UPC_E,Xe.BarcodeFormat.UPC_E],[ie.UPC_EAN_EXTENSION,Xe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nv)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var u=this.createZXingFormats(t),c=new Map;c.set(Xe.DecodeHintType.POSSIBLE_FORMATS,u),c.set(Xe.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(o,u){try{o(r.decode(t))}catch(c){u(c)}})},e.prototype.decode=function(t){var r=new Xe.MultiFormatReader(this.verbose,this.hints),o=new Xe.HTMLCanvasElementLuminanceSource(t),u=new Xe.BinaryBitmap(new Xe.HybridBinarizer(o)),c=r.decode(u);return{text:c.text,format:Yg.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var c=u[o];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rv=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})},iv=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(w){return function(v){return x([w,v])}}function x(w){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,w[0]&&(r=0)),r;)try{if(o=1,u&&(c=w[0]&2?u.return:w[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,w[1])).done)return c;switch(u=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,u=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){r.label=w[1];break}if(w[0]===6&&r.label<c[1]){r.label=c[1],c=w;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(w);break}c[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(v){w=[6,v],u=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},U1=function(){function e(t,r,o){if(this.formatMap=new Map([[ie.QR_CODE,"qr_code"],[ie.AZTEC,"aztec"],[ie.CODABAR,"codabar"],[ie.CODE_39,"code_39"],[ie.CODE_93,"code_93"],[ie.CODE_128,"code_128"],[ie.DATA_MATRIX,"data_matrix"],[ie.ITF,"itf"],[ie.EAN_13,"ean_13"],[ie.EAN_8,"ean_8"],[ie.PDF_417,"pdf417"],[ie.UPC_A,"upc_a"],[ie.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return rv(this,void 0,void 0,function(){var r,o;return iv(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=u.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:Yg.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,o=0,u=0,c=t;u<c.length;u++){var d=c[u],m=d.boundingBox.width*d.boundingBox.height;m>o&&(o=m,r=d)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var c=u[o];this.formatMap.has(c)?r.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),j1=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})},V1=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(w){return function(v){return x([w,v])}}function x(w){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,w[0]&&(r=0)),r;)try{if(o=1,u&&(c=w[0]&2?u.return:w[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,w[1])).done)return c;switch(u=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,u=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){r.label=w[1];break}if(w[0]===6&&r.label<c[1]){r.label=c[1],c=w;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(w);break}c[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(v){w=[6,v],u=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},sv=function(){function e(t,r,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&U1.isSupported()?(this.primaryDecoder=new U1(t,o,u),this.secondaryDecoder=new F1(t,o,u)):this.primaryDecoder=new F1(t,o,u)}return e.prototype.decodeAsync=function(t){return j1(this,void 0,void 0,function(){var r;return V1(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return j1(this,void 0,void 0,function(){var r,o;return V1(this,function(u){switch(u.label){case 0:r=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,o=this.executionResults;r<o.length;r++){var u=o[r];t+=u}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),N0=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xa=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})},$a=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(w){return function(v){return x([w,v])}}function x(w){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,w[0]&&(r=0)),r;)try{if(o=1,u&&(c=w[0]&2?u.return:w[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,w[1])).done)return c;switch(u=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,u=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){r.label=w[1];break}if(w[0]===6&&r.label<c[1]){r.label=c[1],c=w;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(w);break}c[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(v){w=[6,v],u=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Zg=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),ov=function(e){N0(t,e);function t(r,o){return e.call(this,r,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var o={};o[this.name]=r;var u={advanced:[o]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Zg),av=function(e){N0(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(ov),lv=function(e){N0(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Zg),uv=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new av(this.track)},e.prototype.torchFeature=function(){return new lv(this.track)},e}(),cv=function(){function e(t,r,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,u),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,o,u){return Xa(this,void 0,void 0,function(){var c,d;return $a(this,function(m){switch(m.label){case 0:return c=new e(t,r,u),o.aspectRatio?(d={aspectRatio:o.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:m.sent(),m.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,o=function(){setTimeout(t,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Xa(this,void 0,void 0,function(){return $a(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,o){var u=t.mediaStream.getVideoTracks(),c=u.length,d=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++d,d>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new uv(this.getFirstTrackOrFail())},e}(),hv=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,o){return Xa(this,void 0,void 0,function(){return $a(this,function(u){return[2,cv.create(t,this.mediaStream,r,o)]})})},e.create=function(t){return Xa(this,void 0,void 0,function(){var r,o;return $a(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=u.sent(),[2,new e(o)]}})})},e}(),z1=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})},W1=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(w){return function(v){return x([w,v])}}function x(w){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,w[0]&&(r=0)),r;)try{if(o=1,u&&(c=w[0]&2?u.return:w[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,w[1])).done)return c;switch(u=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,u=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){r.label=w[1];break}if(w[0]===6&&r.label<c[1]){r.label=c[1],c=w;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(w);break}c[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(v){w=[6,v],u=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},fv=function(){function e(){}return e.failIfNotSupported=function(){return z1(this,void 0,void 0,function(){return W1(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return z1(this,void 0,void 0,function(){return W1(this,function(r){return[2,hv.create(t)]})})},e}(),dv=function(e,t,r,o){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function m(v){try{w(o.next(v))}catch(_){d(_)}}function x(v){try{w(o.throw(v))}catch(_){d(_)}}function w(v){v.done?c(v.value):u(v.value).then(m,x)}w((o=o.apply(e,t||[])).next())})},gv=function(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,u,c,d;return d={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(w){return function(v){return x([w,v])}}function x(w){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,w[0]&&(r=0)),r;)try{if(o=1,u&&(c=w[0]&2?u.return:w[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,w[1])).done)return c;switch(u=0,c&&(w=[w[0]&2,c.value]),w[0]){case 0:case 1:c=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,u=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!c||w[1]>c[0]&&w[1]<c[3])){r.label=w[1];break}if(w[0]===6&&r.label<c[1]){r.label=c[1],c=w;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(w);break}c[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(v){w=[6,v],u=0}finally{o=c=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},pv=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=zi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=zi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return dv(this,void 0,void 0,function(){var t,r,o,u,c,d,m;return gv(this,function(x){switch(x.label){case 0:return t=function(w){for(var v=w.getVideoTracks(),_=0,T=v;_<T.length;_++){var D=T[_];D.enabled=!1,D.stop(),w.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=x.sent(),u=[],c=0,d=o;c<d.length;c++)m=d[c],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return t(r),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var o=function(c){for(var d=[],m=0,x=c;m<x.length;m++){var w=x[m];w.kind==="video"&&d.push({id:w.id,label:w.label})}t(d)},u=MediaStreamTrack;u.getSources(o)})},e}(),ot;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ot||(ot={}));var mv=function(){function e(){this.state=ot.NOT_STARTED,this.onGoingTransactionNewState=ot.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ot.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ot.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ot.UNKNOWN:throw"Transition from unknown is not allowed";case ot.NOT_STARTED:this.failIfNewStateIs(t,[ot.PAUSED]);break;case ot.SCANNING:break;case ot.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var o=0,u=r;o<u.length;o++){var c=u[o];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),xv=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ot.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ot.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ot.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ot.PAUSED},e}(),wv=function(){function e(){}return e.create=function(){return new xv(new mv)},e}(),yv=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),ln=function(e){yv(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Q3),vv=function(){function e(t,r){this.logger=r,this.fps=ln.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ln.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Kg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!qn(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),vu=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new ev(this.verbose),this.qrcode=new sv(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=wv.create()}return e.prototype.start=function(t,r,o,u){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;u?d=u:d=this.verbose?this.logger.log:function(){};var m=vv.create(r,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=x,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:ln.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var _=this,T=this.stateManagerProxy.startTransition(ot.SCANNING);return new Promise(function(D,L){var P=w?m.videoConstraints:_.createVideoConstraints(t);if(!P){T.cancel(),L("videoConstraints should be defined");return}var H={};(!w||m.aspectRatio)&&(H.aspectRatio=m.aspectRatio);var N={onRenderSurfaceReady:function(b,O){_.setupUi(b,O,m),_.isScanning=!0,_.foreverScan(m,o,d)}};fv.failIfNotSupported().then(function(b){b.create(P).then(function(O){return O.render(c.element,H,N).then(function(U){_.renderedCamera=U,T.execute(),D(null)}).catch(function(U){T.cancel(),L(U)})}).catch(function(O){T.cancel(),L(zi.errorGettingUserMedia(O))})}).catch(function(b){T.cancel(),L(zi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ot.PAUSED),this.showPausedState(),(qn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ot.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var c=document.getElementById(ln.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),r.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,r){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,c){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var m=d.width,x=d.height,w=document.getElementById(o.elementId),v=w.clientWidth?w.clientWidth:ln.DEFAULT_WIDTH,_=Math.max(w.clientHeight?w.clientHeight:x,ln.FILE_SCAN_MIN_HEIGHT),T=o.computeCanvasDrawConfig(m,x,v,_);if(r){var D=o.createCanvasElement(v,_,"qr-canvas-visible");D.style.display="inline-block",w.appendChild(D);var L=D.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=v,L.canvas.height=_,L.drawImage(d,0,0,m,x,T.x,T.y,T.width,T.height)}var P=ln.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(d.width,T.width),N=Math.max(d.height,T.height),b=H+2*P,O=N+2*P,U=o.createCanvasElement(b,O);w.appendChild(U);var K=U.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=b,K.canvas.height=O,K.drawImage(d,0,0,m,x,P,P,H,N);try{o.qrcode.decodeRobustlyAsync(U).then(function(J){u(B1.createFromQrcodeResult(J))}).catch(c)}catch(J){c("QR code parse error, error = ".concat(J))}},d.onerror=c,d.onabort=c,d.onstalled=c,d.onsuspend=c,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return pv.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Kg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ie.QR_CODE,ie.AZTEC,ie.CODABAR,ie.CODE_39,ie.CODE_93,ie.CODE_128,ie.DATA_MATRIX,ie.MAXICODE,ie.ITF,ie.EAN_13,ie.EAN_8,ie.PDF_417,ie.RSS_14,ie.RSS_EXPANDED,ie.UPC_A,ie.UPC_E,ie.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,c=t.formatsToSupport;u<c.length;u++){var d=c[u];q3(d)?o.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(qn(t))return!0;if(!qn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(qn(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return qn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,o){var u=this,c=o.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,r,c),m=function(w){if(w<ln.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ln.MIN_QR_BOX_SIZE,"px.")},x=function(w){return w>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=t),w};m(d.width),m(d.height),d.width=x(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,r)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},e.prototype.setupUi=function(t,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,o);var u=qn(o.qrbox)?{width:t,height:r}:o.qrbox;this.validateQrboxConfig(u);var c=this.toQrdimensions(t,r,u);c.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=o.isShadedBoxEnabled()&&c.height<=r,m={x:0,y:0,width:t,height:r},x=d?this.getShadedRegionBounds(t,r,c):m,w=this.createCanvasElement(x.width,x.height),v={willReadFrequently:!0},_=w.getContext("2d",v);_.canvas.width=x.width,_.canvas.height=x.height,this.element.append(w),d&&this.possiblyInsertShadingElement(this.element,t,r,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=_,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=zi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,B1.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var c=zi.codeParseError(u);return r(c,J3.createFrom(c)),!1})},e.prototype.foreverScan=function(t,r,o){var u=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),d=c.videoWidth/c.clientWidth,m=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*d,w=this.qrRegion.height*m,v=this.qrRegion.x*d,_=this.qrRegion.y*m;this.context.drawImage(c,v,_,x,w,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,r,o)},u.getTimeoutFps(t.fps))};this.scanContext(r,o).then(function(D){!D&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(r,o).finally(function(){T()})):T()}).catch(function(D){u.logger.logError("Error happend while scanning context",D),T()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",o="deviceId",u={user:!0,environment:!0},c="exact",d=function(L){if(L in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==r&&x!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(x===r){var w=t.facingMode;if(typeof w=="string"){if(d(w))return{facingMode:w}}else if(typeof w=="object")if(c in w){if(d(w["".concat(c)]))return{facingMode:{exact:w["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var v=typeof w;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var _=t.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(c in _)return{deviceId:{exact:_["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var T=typeof _;throw"Invalid type of 'deviceId' = ".concat(T)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,r,o,u){if(t<=o&&r<=u){var c=(o-t)/2,d=(u-r)/2;return{x:c,y:d,width:t,height:r}}else{var m=t,x=r;return t>o&&(r=o/t*r,t=o),r>u&&(t=u/r*t,r=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,o,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?ln.BORDER_SHADER_MATCH_COLOR:ln.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,o){var u=t,c=r,d=document.createElement("canvas");return d.style.width="".concat(u,"px"),d.style.height="".concat(c,"px"),d.style.display="none",d.id=qn(o)?"qr-canvas":o,d},e.prototype.getShadedRegionBounds=function(t,r,o){if(o.width>t||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,r,o,u){if(!(r-u.width<1||o-u.height<1)){var c=document.createElement("div");c.style.position="absolute";var d=(r-u.width)/2,m=(o-u.height)/2;if(c.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(ln.SHADED_REGION_ELEMENT_ID),r-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var x=5,w=40;this.insertShaderBorders(c,w,x,-x,null,0,!0),this.insertShaderBorders(c,w,x,-x,null,0,!1),this.insertShaderBorders(c,w,x,null,-x,0,!0),this.insertShaderBorders(c,w,x,null,-x,0,!1),this.insertShaderBorders(c,x,w+x,-x,null,-x,!0),this.insertShaderBorders(c,x,w+x,null,-x,-x,!0),this.insertShaderBorders(c,x,w+x,-x,null,-x,!1),this.insertShaderBorders(c,x,w+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,r,o,u,c,d,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=ln.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(r,"px"),x.style.height="".concat(o,"px"),u!==null&&(x.style.top="".concat(u,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),m?x.style.left="".concat(d,"px"):x.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),H1;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(H1||(H1={}));const Ev=(e,t={})=>{const[r,o]=Q.useState(null),[u,c]=Q.useState(!1),[d,m]=Q.useState(null),[x,w]=Q.useState(!1),v=Q.useCallback(async()=>{if(r){try{u&&await r.stop(),await r.clear()}catch{}o(null),c(!1)}},[r,u]),_=Q.useCallback(async()=>{try{await v(),(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(P=>P.stop()),w(!0),m(null)}catch(L){if(w(!1),L instanceof Error)switch(L.name){case"NotAllowedError":m("Camera access denied. Please enable camera access to scan QR codes.");break;case"NotFoundError":m("No camera found. Please make sure your device has a camera.");break;case"NotReadableError":m("Unable to access camera. Please make sure no other app is using it.");break;default:m("An error occurred while accessing the camera.")}}},[v]);return Q.useEffect(()=>()=>{v()},[v]),{startScanning:async()=>{try{await v();const L=new vu("qr-reader",{verbose:!1,formatsToSupport:[vu.FORMATS.QR_CODE]});o(L);const P=await vu.getCameras();if(P.length===0)throw new Error("No cameras found");const H=P.find(N=>N.label.toLowerCase().includes("back")||N.label.toLowerCase().includes("rear"))||P[0];await L.start(H.id,{fps:t.fps||10,qrbox:{width:t.qrbox||250,height:t.qrbox||250},aspectRatio:t.aspectRatio||1},N=>{e(N)},()=>{}),c(!0),m(null)}catch{await v(),m("Failed to start camera. Please try again.")}},stopScanning:async()=>{await v()},isScanning:u,error:d,hasPermission:x,requestPermission:_}},Cv=({onRequestPermission:e})=>F.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[F.jsxs("div",{className:"relative mx-auto w-16 h-16 mb-4",children:[F.jsx(xo,{className:"w-16 h-16 text-gray-300"}),F.jsx($3,{className:"absolute -bottom-2 -right-2 w-8 h-8 text-blue-600"})]}),F.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Access Required"}),F.jsx("p",{className:"text-gray-600 mb-6",children:"We need camera access to scan QR codes. Your camera will only be used for scanning and no images are stored."}),F.jsxs("button",{onClick:e,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[F.jsx(xo,{className:"w-5 h-5"}),"Enable Camera"]})]}),_v=({message:e})=>F.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:F.jsxs("div",{className:"flex",children:[F.jsx(Ac,{className:"h-5 w-5 text-red-500"}),F.jsx("div",{className:"ml-3",children:F.jsx("p",{className:"text-sm text-red-700",children:e})})]})}),Av=()=>F.jsx("div",{className:"absolute inset-0 pointer-events-none",children:F.jsxs("div",{className:"absolute inset-0",children:[F.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),F.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-white",children:[F.jsx("div",{className:"absolute inset-0 border-2 border-blue-500 opacity-50 animate-pulse"}),F.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 text-white text-sm font-medium",children:"Position QR code here"}),F.jsx(xo,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 text-blue-500 animate-pulse"})]})]})}),qg=({onScan:e,onError:t,active:r=!0})=>{const{startScanning:o,stopScanning:u,isScanning:c,error:d,hasPermission:m,requestPermission:x}=Ev(e,{fps:10,qrbox:250,aspectRatio:1});return Q.useEffect(()=>{if(r&&m&&!c){const w=setTimeout(()=>{o()},500);return()=>clearTimeout(w)}},[r,m,c,o]),Q.useEffect(()=>()=>{u()},[u]),Q.useEffect(()=>{d&&t&&t(d)},[d,t]),r?F.jsxs("div",{className:"relative w-full",children:[d&&F.jsx(_v,{message:d}),m?F.jsxs("div",{className:"relative",children:[F.jsx("div",{id:"qr-reader",className:"w-full rounded-lg overflow-hidden aspect-square bg-gray-100 [&_video]:w-full [&_video]:h-full [&_video]:object-cover [&_img]:hidden [&_select]:hidden [&_button]:hidden"}),c&&F.jsx(Av,{})]}):F.jsx(Cv,{onRequestPermission:x})]}):null},Sv=()=>{const[e,t]=Q.useState(null),[r,o]=Q.useState(!1),u=Xg(x=>x.verifyProduct),c=x=>{const w=u(x);t({isAuthentic:!!w,product:w,message:w?"Product authenticated successfully!":"Warning: This product could not be verified."}),o(!1)},d=()=>{o(!0),t(null)},m=()=>{t(null),o(!0)};return F.jsxs("div",{className:"max-w-md mx-auto p-4",children:[F.jsxs("div",{className:"flex flex-col items-center justify-center text-center mb-6",children:[F.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:F.jsx(xo,{className:"w-8 h-8 text-blue-600"})}),F.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scan QR Code"}),F.jsx("p",{className:"text-gray-600 mt-2",children:"Verify product authenticity by scanning its QR code"})]}),!r&&!e&&F.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mb-8",children:[F.jsx(xo,{className:"w-5 h-5"}),"Start Scanning"]}),r&&F.jsx("div",{className:"mb-8",children:F.jsx(qg,{onScan:c})}),e&&F.jsxs("div",{className:`p-6 rounded-lg shadow-lg ${e.isAuthentic?"bg-green-50":"bg-red-50"}`,children:[F.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.isAuthentic?F.jsx(j3,{className:"w-8 h-8 text-green-500"}):F.jsx(Z3,{className:"w-8 h-8 text-red-500"}),F.jsx("h2",{className:"text-xl font-semibold",children:e.message})]}),e.product&&F.jsxs("div",{className:"mt-4",children:[F.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4 shadow-md",children:F.jsx("img",{src:e.product.imageUrl,alt:e.product.name,className:"w-full h-full object-cover"})}),F.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.product.name}),F.jsx("p",{className:"text-gray-600 mb-4",children:e.product.description}),F.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-white p-4 rounded-lg",children:[F.jsxs("div",{children:[F.jsx("span",{className:"font-medium text-gray-700",children:"Manufacturer:"}),F.jsx("p",{className:"mt-1",children:e.product.manufacturer})]}),F.jsxs("div",{children:[F.jsx("span",{className:"font-medium text-gray-700",children:"Date:"}),F.jsx("p",{className:"mt-1",children:e.product.manufactureDate})]})]})]}),F.jsxs("button",{onClick:m,className:"mt-6 w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[F.jsx(H3,{className:"w-4 h-4"}),"Scan Another Code"]})]})]})},Iv=({onScan:e,onClose:t})=>{const r=o=>{e(o),t()};return F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:F.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[F.jsxs("div",{className:"text-center mb-6",children:[F.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mb-4",children:F.jsx(G3,{className:"w-6 h-6 text-blue-600"})}),F.jsx("h2",{className:"text-xl font-bold",children:"Scan QR Code"}),F.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Position the QR code within the frame"})]}),F.jsx("div",{className:"mb-6",children:F.jsx(qg,{containerId:"admin-qr-reader",onScan:r})}),F.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-600 hover:text-gray-800 text-sm",children:"Cancel"})]})})},Tv=()=>{const{authenticProducts:e,addProduct:t,removeProduct:r,fetchProducts:o,isLoading:u,error:c}=Xg(),[d,m]=Q.useState(!1),[x,w]=Q.useState(!1),[v,_]=Q.useState({}),[T,D]=Q.useState(null);Q.useEffect(()=>{o()},[o]);const L=N=>{N.preventDefault(),v.name&&v.qrCode&&(t({id:Date.now().toString(),name:v.name,description:v.description||"",manufacturer:v.manufacturer||"",manufactureDate:v.manufactureDate||new Date().toISOString().split("T")[0],qrCode:v.qrCode,imageUrl:v.imageUrl||"https://images.unsplash.com/photo-1523275335684-37898b6baf30"}),_({}),m(!1))},P=N=>{r(N),D(null)},H=N=>{_(b=>({...b,qrCode:N}))};return F.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[F.jsxs("div",{className:"flex justify-between items-center mb-6",children:[F.jsxs("div",{children:[F.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Authentication Management"}),F.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and verify authentic products"})]}),F.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[F.jsx(W3,{className:"w-4 h-4"}),"Add Product"]})]}),d&&F.jsxs("form",{onSubmit:L,className:"mb-8 p-6 bg-white rounded-lg shadow-lg",children:[F.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[F.jsx(z3,{className:"w-6 h-6 text-blue-600"}),F.jsx("h2",{className:"text-xl font-semibold",children:"New Product Details"})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),F.jsx("input",{type:"text",value:v.name||"",onChange:N=>_({...v,name:N.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"QR Code"}),F.jsxs("div",{className:"flex gap-2",children:[F.jsx("input",{type:"text",value:v.qrCode||"",onChange:N=>_({...v,qrCode:N.target.value}),className:"flex-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),F.jsx("button",{type:"button",onClick:()=>w(!0),className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",children:F.jsx($g,{className:"w-5 h-5"})})]})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer"}),F.jsx("input",{type:"text",value:v.manufacturer||"",onChange:N=>_({...v,manufacturer:N.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacture Date"}),F.jsx("input",{type:"date",value:v.manufactureDate||"",onChange:N=>_({...v,manufactureDate:N.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),F.jsxs("div",{className:"col-span-2",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),F.jsx("textarea",{value:v.description||"",onChange:N=>_({...v,description:N.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3})]}),F.jsxs("div",{className:"col-span-2",children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),F.jsx("input",{type:"url",value:v.imageUrl||"",onChange:N=>_({...v,imageUrl:N.target.value}),className:"w-full p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/image.jpg"})]})]}),F.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[F.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),F.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Product"})]})]}),u&&F.jsx("div",{className:"flex items-center justify-center py-12",children:F.jsx(V3,{className:"w-8 h-8 text-blue-600 animate-spin"})}),c&&F.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:F.jsxs("div",{className:"flex items-center",children:[F.jsx(Ac,{className:"w-5 h-5 text-red-500 mr-2"}),F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-red-700",children:"Error loading products"}),F.jsx("p",{className:"text-xs text-red-600 mt-1",children:c})]})]})}),x&&F.jsx(Iv,{onScan:H,onClose:()=>w(!1)}),e.length===0?F.jsxs("div",{className:"text-center py-12",children:[F.jsx(Ac,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),F.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No products added yet"}),F.jsx("p",{className:"text-gray-600 mt-1",children:"Add your first product to start managing authentications"})]}):F.jsx("div",{className:"grid gap-4",children:e.map(N=>F.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:F.jsxs("div",{className:"flex items-center gap-4",children:[F.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-24 h-24 object-cover rounded-lg"}),F.jsxs("div",{className:"flex-1",children:[F.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.name}),F.jsx("p",{className:"text-gray-600 text-sm mb-2",children:N.description}),F.jsxs("div",{className:"text-sm",children:[F.jsx("span",{className:"font-medium text-gray-700",children:"QR Code:"})," ",F.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:N.qrCode})]})]}),T===N.id?F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx("button",{onClick:()=>D(null),className:"px-3 py-1 text-gray-600 hover:text-gray-800",children:"Cancel"}),F.jsx("button",{onClick:()=>P(N.id),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Confirm"})]}):F.jsx("button",{onClick:()=>D(N.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:F.jsx(K3,{className:"w-5 h-5"})})]})},N.id))})]})};function bv(){return F.jsx(ew,{children:F.jsxs("div",{className:"min-h-screen bg-gray-50",children:[F.jsx("nav",{className:"bg-white shadow-lg",children:F.jsx("div",{className:"max-w-7xl mx-auto px-4",children:F.jsxs("div",{className:"flex justify-between h-16",children:[F.jsxs("div",{className:"flex items-center",children:[F.jsx(Y3,{className:"w-8 h-8 text-blue-600"}),F.jsx("span",{className:"ml-2 text-xl font-bold",children:"AuthentiScan"})]}),F.jsxs("div",{className:"flex items-center space-x-4",children:[F.jsxs(d1,{to:"/",className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:text-blue-600",children:[F.jsx($g,{className:"w-5 h-5 mr-1"}),"Scan"]}),F.jsxs(d1,{to:"/admin",className:"flex items-center px-3 py-2 rounded-md text-gray-700 hover:text-blue-600",children:[F.jsx(X3,{className:"w-5 h-5 mr-1"}),"Admin"]})]})]})})}),F.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:F.jsxs($x,{children:[F.jsx(gc,{path:"/",element:F.jsx(Sv,{})}),F.jsx(gc,{path:"/admin",element:F.jsx(Tv,{})})]})})]})})}og(document.getElementById("root")).render(F.jsx(Q.StrictMode,{children:F.jsx(bv,{})}));export{Tc as g};
